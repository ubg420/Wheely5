(e=>{function a(){for(var e=0;e<M.length;e++)M[e][0](M[e][1]);g=!(M=[])}function i(e,t){M.push([e,t]),g||(g=!0,x(a,0))}function t(e,t){function a(e){h(t,e)}try{e(function(e){r(t,e)},a)}catch(e){a(e)}}function n(t){var e=(a=t.owner).state_,a=a.data_,i=t[e];if(t=t.then,"function"==typeof i){e=w;try{a=i(a)}catch(e){h(t,e)}}s(t,a)||(e===w&&r(t,a),e===C&&h(t,a))}function s(t,a){var i;try{if(t===a)throw new TypeError("A promises callback cannot return that same promise.");if(a&&("function"==typeof a||"object"==typeof a)){var e=a.then;if("function"==typeof e)return e.call(a,function(e){i||(i=!0,(a!==e?r:o)(t,e))},function(e){i||(i=!0,h(t,e))}),1}}catch(e){return i||h(t,e),1}}function r(e,t){e!==t&&s(e,t)||o(e,t)}function o(e,t){e.state_===b&&(e.state_=f,e.data_=t,i(c,e))}function h(e,t){e.state_===b&&(e.state_=f,e.data_=t,i(d,e))}function l(e){var t=e.then_;for(e.then_=void 0,e=0;e<t.length;e++)n(t[e])}function c(e){e.state_=w,l(e)}function d(e){e.state_=C,l(e)}function p(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(!1==this instanceof p)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],t(e,this)}function u(){}var m,g,y=e.Promise,v=y&&"resolve"in y&&"reject"in y&&"all"in y&&"race"in y&&(new y(function(e){m=e}),"function"==typeof m),b=("undefined"!=typeof exports&&exports?(exports.Promise=v?y:p,exports.Polyfill=p):"function"==typeof define&&define.amd?define(function(){return v?y:p}):v||(e.Promise=p),"pending"),f="sealed",w="fulfilled",C="rejected",x="undefined"!=typeof setImmediate?setImmediate:setTimeout,M=[];p.prototype={constructor:p,state_:b,then_:null,data_:void 0,then:function(e,t){e={owner:this,then:new this.constructor(u),fulfilled:e,rejected:t};return this.state_===w||this.state_===C?i(n,e):this.then_.push(e),e.then},catch:function(e){return this.then(null,e)}},p.all=function(r){if("[object Array]"!==Object.prototype.toString.call(r))throw new TypeError("You must pass an array to Promise.all().");return new this(function(a,e){for(var t,i=[],n=0,s=0;s<r.length;s++)(t=r[s])&&"function"==typeof t.then?t.then((t=>(n++,function(e){i[t]=e,--n||a(i)}))(s),e):i[s]=t;n||a(i)})},p.race=function(n){if("[object Array]"!==Object.prototype.toString.call(n))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,t){for(var a,i=0;i<n.length;i++)(a=n[i])&&"function"==typeof a.then?a.then(e,t):e(a)})},p.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},p.reject=function(a){return new this(function(e,t){t(a)})}})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);var SceneList,WheelyScale,Fabrique,PanelList,Wheely,__extends=this&&this.__extends||(()=>{var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])}))(e,t)};return function(e,t){function a(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}})(),__awaiter=this&&this.__awaiter||function(e,r,o,h){return new(o=o||Promise)(function(a,t){function i(e){try{s(h.next(e))}catch(e){t(e)}}function n(e){try{s(h.throw(e))}catch(e){t(e)}}function s(e){var t;e.done?a(e.value):((t=e.value)instanceof o?t:new o(function(e){e(t)})).then(i,n)}s((h=h.apply(e,r||[])).next())})},__generator=this&&this.__generator||function(i,n){var s,r,o,h={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(a){return function(e){var t=[a,e];if(s)throw new TypeError("Generator is already executing.");for(;h;)try{if(s=1,r&&(o=2&t[0]?r.return:t[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,t[1])).done)return o;switch(r=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return h.label++,{value:t[1],done:!1};case 5:h.label++,r=t[1],t=[0];continue;case 7:t=h.ops.pop(),h.trys.pop();continue;default:if(!(o=0<(o=h.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){h=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3]))h.label=t[1];else if(6===t[0]&&h.label<o[1])h.label=o[1],o=t;else{if(!(o&&h.label<o[2])){o[2]&&h.ops.pop(),h.trys.pop();continue}h.label=o[2],h.ops.push(t)}}t=n.call(i,h)}catch(e){t=[6,e],r=0}finally{s=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Constants=((e=>{e.Boot="Boot",e.Menu="Menu",e.LevelBuilder="LevelBuilder",e.Preloader="Preloader",e.Comix="Comix"})(SceneList=SceneList||{}),(e=>{var t,a;function i(){var t=a.call(this,{enableDebug:!1,width:Constants.GAME_WIDTH,height:Constants.GAME_HEIGHT,renderer:Phaser.AUTO,parent:Constants.DIV_ID,transparent:!1,antialias:!0,preserveDrawingBuffer:!1,physicsConfig:null,seed:"",state:null,forceSetTimeOut:!1})||this;return t.soundStarted=!1,t.pausedByPanel=!1,(i.instance=t).clearBeforeRender=!1,Phaser.Device.whenReady(function(){var e=t.device.desktop?"click":"touchstart";document.getElementById("content").addEventListener(e,function(e){t.gameResumed(e)}),WheelyScale.ScaleHelper.init(t)}),window.hasOwnProperty("fbrqSA")&&!0===window.fbrqSA&&(h5branding.Utils.ASSET_LOCATION="assets/"),h5branding.Branding.analyticsEnabled=!1,h5branding.SplashLoader.getInstance({gameId:Constants.GAMEDISTRIBUTION_ID,gameName:Constants.GAME_TITLE,gameTitle:Constants.GAME_TITLE,libs:[],version:version}).create().then(function(){t.state.add("game",{create:t.stateCreator.bind(t),preload:t.statePreloader.bind(t)},!0)}),t}t=e.Client||(e.Client={}),a=Phaser.Game,__extends(i,a),i.prototype.statePreloader=function(){var t=this;libs.forEach(function(e){t.load.script(e,e)})},i.prototype.stateCreator=function(){this.plugins.add(PhaserSuperStorage.StoragePlugin),this.plugins.add(PhaserCachebuster.CacheBuster),this.plugins.add(PhaserSpine.SpinePlugin),this.storage.forcePromises=!0,this.state.add(t.Boot.Name,t.Boot,!1),this.state.add(t.Menu.Name,t.Menu,!1),this.state.add(t.LevelBuilder.Name,t.LevelBuilder,!1),this.state.add(t.Comix.Name,t.Comix,!1),this.state.start(t.Boot.Name),this.state.remove("game"),this.sceneEffect=this.add.graphics(0,0),this.sceneEffect.beginFill(16777215,1),this.sceneEffect.drawRect(0,0,t.Variables.SW,t.Variables.SH),this.sceneEffect.alpha=0,this.stage.addChild(this.sceneEffect),this.state.onStateChange.add(this.changeSceneEffect,this)},i.prototype.changeSceneEffect=function(){this.state.current!==SceneList.Menu&&this.state.current!==SceneList.LevelBuilder&&!this.state||(t.SoundManager.removeAllSFXLoop(),this.sceneEffect.alpha=1,this.add.tween(this.sceneEffect).to({alpha:0},500,Phaser.Easing.Linear.None,!0))},i.instance=null,i.showDebugBox2d=!1,i.disablePause=!1,t.Main=i})(Wheely=Wheely||{}),(e=>{var r,o;function t(e,t,a,i,n,s){t=o.call(this,r.Main.instance,t,a,i,n,s)||this;return t.anchor.setTo(.5),t.id=e,t.setButtonFrames(),t.id===r.SoundType.Music?(t._onOverFrame="btnMusic instance 10002",t._onDownFrame="btnMusic instance 10003"):(t._onOverFrame="btnSFX instance 10002",t._onDownFrame="btnSFX instance 10003"),t.events.onInputOver.add(t.over,t),t.forceOut=!0,t}r=e.Client||(e.Client={}),o=Phaser.Button,__extends(t,o),t.prototype.addSprite=function(e,t){this.tileNameOn=e,this.tileNameOff=t,this.graphic=r.Main.instance.add.sprite(0,0,this.key,this.getFrame()),this.graphic.anchor.setTo(.5),this.addChild(this.graphic)},t.prototype.onInputUpHandler=function(e,t,a){!0===a&&(r.SoundManager.setEnabled(this.id),r.SoundManager.playSFX("btnClick"),this.setButtonFrames()),this.scale.setTo(1)},t.prototype.over=function(){r.SoundManager.playSFX("btnOver")},t.prototype.getFrame=function(){return!0===r.SoundManager.getEnabled(this.id)?this.tileNameOn:this.tileNameOff},t.prototype.setButtonFrames=function(){this.id===r.SoundType.Music?!1===r.SoundManager.getEnabled(this.id)?this._onOutFrame="btnMusic instance 10001":this._onOutFrame="btnMusic instance 10000":!1===r.SoundManager.getEnabled(this.id)?this._onOutFrame="btnSFX instance 10001":this._onOutFrame="btnSFX instance 10000",this.frameName=this._onOutFrame},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.graphic=null},r.ButtonSound=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a,i){e=s.call(this,e,t,a,"ui","btnWalkthrough instance 10000")||this;return e.anchor.setTo(.5),e.level=i,e.inputEnabled=!0,e.input.start(0,!0),e.input.useHandCursor=!0,e.events.onInputOver.add(e.onInputOverHandler,e),e.events.onInputOut.add(e.onInputOutHandler,e),e.events.onInputUp.add(e.onInputUpHandler,e),e.events.onRemovedFromWorld.add(e.removedFromWorld,e),e.text=new n.DancingText(n.Main.instance,e,-55,2,14,"WALKTHROUGH",16),e}n=e.Client||(e.Client={}),s=Phaser.Image,__extends(t,s),t.prototype.update=function(){this.text.update()},t.prototype.removedFromWorld=function(){this.inputEnabled=!1},t.prototype.onInputOverHandler=function(e,t){this.text.startDancing(),n.SoundManager.playSFX("btnOver"),this.frameName="btnWalkthrough instance 10001"},t.prototype.onInputOutHandler=function(e,t){this.frameName="btnWalkthrough instance 10000"},t.prototype.onInputUpHandler=function(e,t,a){!0===a&&(this.game.sound.mute=!0,window.open(Constants.WALKTHROUGH_URL,"_blank"))},t.prototype.destroy=function(){s.prototype.destroy.call(this),this.text.free(),this.text=null},n.ButtonWalkthrough=t})(Wheely=Wheely||{}),(e=>{var a,d;function t(e,t,a,i,n,s,r,o,h,l,c){t=d.call(this,t,a,i,n,s,r,o,h,l,c)||this;return t.id=e,t.anchor.set(.5),t.name=""+e,t.onInputOver.add(t.over,t),t.onInputOut.add(t.out,t),t.levelText=t.game.make.sprite(-18,-26,"ui","numbers instance "+(e-1+1e4)),t.addChild(t.levelText),t}a=e.Client||(e.Client={}),d=Phaser.Button,__extends(t,d),t.prototype.addStars=function(){var e,t=0;return 1===a.DataManager.getInstance().saveObj["questFlag"+this.id]&&((e=this.game.make.sprite(0,17,"ui","star instance 10000")).anchor.setTo(.5),e.scale.setTo(.55),this.addChild(e),t+=1),1===a.DataManager.getInstance().saveObj["questWheel"+this.id]&&((e=this.game.make.sprite(-18,13,"ui","star instance 10000")).anchor.setTo(.5),e.scale.setTo(.55),e.angle=-9,this.addChild(e),t+=1),1===a.DataManager.getInstance().saveObj["questCar"+this.id]&&((e=this.game.make.sprite(18,13,"ui","star instance 10000")).anchor.setTo(.5),e.scale.setTo(.55),e.angle=9,this.addChild(e),t+=1),e=null,t},t.prototype.addLock=function(){this.lock=this.game.make.sprite(32,-29,"ui","lock instance 10000"),this.lock.anchor.set(.5),this.addChild(this.lock)},t.prototype.over=function(){a.SoundManager.playSFX("btnOver"),this.scale.setTo(1.1)},t.prototype.out=function(){this.scale.setTo(1)},t.prototype.destroy=function(){d.prototype.destroy.call(this),this.lock=null,this.levelText=null},a.LevelSelectButton=t})(Wheely=Wheely||{}),(e=>{function t(e){this.scores=[],this.currentLevel=1,this.game=e}e=e.Client||(e.Client={}),t.getInstance=function(e){return t.instance=t.instance?t.instance:new t(e)},t.prototype.init=function(){var t=this;this.loadData("w5_svData").then(function(e){null==e?(t.saveObj=t.getSaveObj(),t.save()):(e=JSON.parse(e),t.saveObj=e,t.scores=t.saveObj.sc,t.currentLevel=t.saveObj.lvl)})},t.prototype.getSaveObj=function(){return{m:1,fx:1,sc:this.scores,lvl:this.currentLevel,pl:1}},t.prototype.clearData=function(){this.game.storage.clear()},t.prototype.save=function(){this.game.storage.setItem("w5_svData",JSON.stringify(this.saveObj))},t.prototype.saveData=function(e,t){this.saveObj[e]=t,this.save()},t.prototype.loadData=function(e){return this.game.storage.getItem(e)},t.prototype.getData=function(i,n){return __awaiter(this,void 0,void 0,function(){var t,a;return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadData(i)];case 1:return t=e.sent(),a=n,[2,a=null===t&&void 0===t?a:JSON.parse(t)]}})})},t.prototype.saveScore=function(e,t,a){this.keepOldScore(t-1,a)||(this.setScore(t-1,a),this.save())},t.prototype.setScore=function(e,t){this.scores[e]=t},t.prototype.keepOldScore=function(e,t){e=this.scores[e];return-1!==e&&void 0!==e&&!(e<t)},t.prototype.keepOldLevel=function(e){return!(e>this.currentLevel)},t.prototype.saveLevel=function(e){this.keepOldLevel(e)||(this.currentLevel=e,this.saveObj.lvl=this.currentLevel,this.save())},t.prototype.calcData=function(e,t,a){for(var i=0,n=0;n<this.scores.length;n++)i+=this.scores[n];return i},e.DataManager=t})(Wheely=Wheely||{}),(e=>{function t(e){this.game=e}e=e.Client||(e.Client={}),t.getInstance=function(e){return t.instance=t.instance?t.instance:new t(e)},t.prototype.init=function(){this.currentMenuScreen=0,this.currentLevel=13},e.LevelManager=t})(Wheely=Wheely||{}),(e=>{function t(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}e=e.Client||(e.Client={}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.x===this.y&&0===this.x?0:Math.atan2(this.y,this.x)},set:function(e){var t=length;this.x=t*Math.cos(e),this.y=t*Math.sin(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},set:function(e){e/=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e},enumerable:!1,configurable:!0}),e.NapeVec2=t})(Wheely=Wheely||{}),(e=>{function t(){}e=e.Client||(e.Client={}),t.setGraphicsChildrensMask=function(e,t){!0===(t=void 0===t?!0:t)?e.renderType===Phaser.CANVAS?this.setDefaultMaskCanvas(e):e.renderType===Phaser.WEBGL&&this.setDefaultMaskWebGL(e):e.renderType===Phaser.CANVAS?this.setGraphicsChildrensMaskCanvas(e):e.renderType===Phaser.WEBGL&&this.setGraphicsChildrensMaskWebGL(e)},t.setGraphicsChildrensMaskCanvas=function(e){e.renderer.renderSession.maskManager.pushMask=function(e,t){var a=t.context;a.save(),a.beginPath();for(var i=0;i<e.children.length;i++){var n=e.children[i],s=n.alpha,r=n.worldTransform,o=t.resolution;a.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),PIXI.CanvasGraphics.renderGraphicsMask(e.children[i],a),n.worldAlpha=s}a.clip()},PIXI.CanvasGraphics.renderGraphicsMask=function(e,t){var a=e.graphicsData.length;if(0!==a)for(var i=0;i<a;i++){var n,s,r,o,h,l,c,d,p=e.graphicsData[i],u=p.shape;if(p.type===Phaser.POLYGON){var m=u.points;t.moveTo(m[0],m[1]);for(var g=1;g<m.length/2;g++)t.lineTo(m[2*g],m[2*g+1]);m[0]===m[m.length-2]&&m[1]===m[m.length-1]&&t.closePath()}else p.type===Phaser.RECTANGLE?(t.rect(u.x,u.y,u.width,u.height),t.closePath()):p.type===Phaser.CIRCLE?(t.arc(u.x,u.y,u.radius,0,2*Math.PI),t.closePath()):p.type===Phaser.ELLIPSE?(l=(h=2*u.width)/2*.5522848,c=(s=2*u.height)/2*.5522848,o=(n=u.x-h/2)+h,d=(r=u.y-s/2)+s,h=n+h/2,t.moveTo(n,s=r+s/2),t.bezierCurveTo(n,s-c,h-l,r,h,r),t.bezierCurveTo(h+l,r,o,s-c,o,s),t.bezierCurveTo(o,s+c,h+l,d,h,d),t.bezierCurveTo(h-l,d,n,s+c,n,s),t.closePath()):p.type===Phaser.ROUNDEDRECTANGLE&&(r=u.x,o=u.y,h=u.width,l=u.height,d=u.radius,c=Math.min(h,l)/2|0,t.moveTo(r,o+(d=c<d?c:d)),t.lineTo(r,o+l-d),t.quadraticCurveTo(r,o+l,r+d,o+l),t.lineTo(r+h-d,o+l),t.quadraticCurveTo(r+h,o+l,r+h,o+l-d),t.lineTo(r+h,o+d),t.quadraticCurveTo(r+h,o,r+h-d,o),t.lineTo(r+d,o),t.quadraticCurveTo(r,o,r,o+d),t.closePath())}}},t.setGraphicsChildrensMaskWebGL=function(e){e.renderer.maskManager.pushMask=function(e,t){for(var a=t.gl,i=0,n=0;n<e.children.length;n++){var s=e.children[n];s.dirty&&PIXI.WebGLGraphics.updateGraphics(s,a),void 0!==s._webGL[a.id]&&void 0!==s._webGL[a.id].data&&0!==s._webGL[a.id].data.length&&(i+=1,t.stencilManager.pushStencil(s,s._webGL[a.id].data[0],t))}0!==i&&t.stencilManager.count++},e.renderer.renderSession.stencilManager.pushStencil=function(e,t,a){var i=this.gl,e=(this.bindGraphics(e,t,a),0===this.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(t),this.count);i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===t.mode?(i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?(i.stencilFunc(i.EQUAL,255-e,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,e,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),this.reverse?i.stencilFunc(i.EQUAL,255-(e+1),255):i.stencilFunc(i.EQUAL,e+1,255),this.reverse=!this.reverse):(this.reverse?(i.stencilFunc(i.EQUAL,e,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-e,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,e+1,255):i.stencilFunc(i.EQUAL,255-(e+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)},e.renderer.maskManager.popMask=function(e,t){for(var a=this.gl,i=!0,n=0;n<e.children.length;n++){var s=e.children[n];void 0!==s._webGL[a.id]&&void 0!==s._webGL[a.id].data&&0!==s._webGL[a.id].data.length&&(!0===i&&(i=!1,t.stencilManager.count--),t.stencilManager.popStencil(s,s._webGL[a.id].data[0],t))}},e.renderer.renderSession.stencilManager.popStencil=function(e,t,a){var i,n=this.gl;this.stencilStack.pop(),0===this.stencilStack.length?n.disable(n.STENCIL_TEST):(i=this.count,this.bindGraphics(e,t,a),n.colorMask(!1,!1,!1,!1),1===t.mode?(this.reverse=!this.reverse,this.reverse?(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(t.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,t.indices.length-4,n.UNSIGNED_SHORT,0)):(this.reverse?(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,t.indices.length,n.UNSIGNED_SHORT,0)),this.reverse?n.stencilFunc(n.EQUAL,i,255):n.stencilFunc(n.EQUAL,255-i,255),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP))}},t.setDefaultMaskCanvas=function(e){e.renderer.renderSession.maskManager.pushMask=function(e,t){var a=t.context,i=(a.save(),e.alpha),n=e.worldTransform,t=t.resolution;a.setTransform(n.a*t,n.b*t,n.c*t,n.d*t,n.tx*t,n.ty*t),PIXI.CanvasGraphics.renderGraphicsMask(e,a),a.clip(),e.worldAlpha=i},PIXI.CanvasGraphics.renderGraphicsMask=function(e,t){var a=e.graphicsData.length;if(0!==a){t.beginPath();for(var i=0;i<a;i++){var n,s,r,o,h,l,c,d,p=e.graphicsData[i],u=p.shape;if(p.type===Phaser.POLYGON){var m=u.points;t.moveTo(m[0],m[1]);for(var g=1;g<m.length/2;g++)t.lineTo(m[2*g],m[2*g+1]);m[0]===m[m.length-2]&&m[1]===m[m.length-1]&&t.closePath()}else p.type===Phaser.RECTANGLE?(t.rect(u.x,u.y,u.width,u.height),t.closePath()):p.type===Phaser.CIRCLE?(t.arc(u.x,u.y,u.radius,0,2*Math.PI),t.closePath()):p.type===Phaser.ELLIPSE?(l=(h=2*u.width)/2*.5522848,c=(s=2*u.height)/2*.5522848,o=(n=u.x-h/2)+h,d=(r=u.y-s/2)+s,h=n+h/2,t.moveTo(n,s=r+s/2),t.bezierCurveTo(n,s-c,h-l,r,h,r),t.bezierCurveTo(h+l,r,o,s-c,o,s),t.bezierCurveTo(o,s+c,h+l,d,h,d),t.bezierCurveTo(h-l,d,n,s+c,n,s),t.closePath()):p.type===Phaser.ROUNDEDRECTANGLE&&(r=u.x,o=u.y,h=u.width,l=u.height,d=u.radius,c=Math.min(h,l)/2|0,t.moveTo(r,o+(d=c<d?c:d)),t.lineTo(r,o+l-d),t.quadraticCurveTo(r,o+l,r+d,o+l),t.lineTo(r+h-d,o+l),t.quadraticCurveTo(r+h,o+l,r+h,o+l-d),t.lineTo(r+h,o+d),t.quadraticCurveTo(r+h,o,r+h-d,o),t.lineTo(r+d,o),t.quadraticCurveTo(r,o,r,o+d),t.closePath())}}}},t.setDefaultMaskWebGL=function(e){e.renderer.maskManager.pushMask=function(e,t){var a=t.gl;e.dirty&&PIXI.WebGLGraphics.updateGraphics(e,a),void 0!==e._webGL[a.id]&&void 0!==e._webGL[a.id].data&&0!==e._webGL[a.id].data.length&&t.stencilManager.pushStencil(e,e._webGL[a.id].data[0],t)},e.renderer.renderSession.stencilManager.pushStencil=function(e,t,a){var i=this.gl,e=(this.bindGraphics(e,t,a),0===this.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(t),this.count);i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===t.mode?(i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?(i.stencilFunc(i.EQUAL,255-e,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,e,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),this.reverse?i.stencilFunc(i.EQUAL,255-(e+1),255):i.stencilFunc(i.EQUAL,e+1,255),this.reverse=!this.reverse):(this.reverse?(i.stencilFunc(i.EQUAL,e,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-e,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,e+1,255):i.stencilFunc(i.EQUAL,255-(e+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.count++},e.renderer.maskManager.popMask=function(e,t){var a=this.gl;void 0!==e._webGL[a.id]&&void 0!==e._webGL[a.id].data&&0!==e._webGL[a.id].data.length&&t.stencilManager.popStencil(e,e._webGL[a.id].data[0],t)},e.renderer.renderSession.stencilManager.popStencil=function(e,t,a){var i,n=this.gl;this.stencilStack.pop(),this.count--,0===this.stencilStack.length?n.disable(n.STENCIL_TEST):(i=this.count,this.bindGraphics(e,t,a),n.colorMask(!1,!1,!1,!1),1===t.mode?(this.reverse=!this.reverse,this.reverse?(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(t.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,t.indices.length-4,n.UNSIGNED_SHORT,0)):(this.reverse?(n.stencilFunc(n.EQUAL,i+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(i+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,t.indices.length,n.UNSIGNED_SHORT,0)),this.reverse?n.stencilFunc(n.EQUAL,i,255):n.stencilFunc(n.EQUAL,255-i,255),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP))}},e.NativeChanges=t})(Wheely=Wheely||{}),(()=>{function e(){}return e.DIV_ID="content",e.GAME_SCALE=1,e.CALCULATED_WIDTH=0,e.CALCULATED_HEIGHT=0,e.GAME_WIDTH=800,e.GAME_HEIGHT=600,e.LANDSCAPE_LOCKED=!0,e.PORTRAIT_LOCKED=!1,e.GAMEDISTRIBUTION_ID="aa269c091dc14e9a8fc7d472f775d8ec",e.GAMEDISTRIBUTION_USER="ABD36C6C-E74B-4BA7-BE87-0AB01F98D30D-s1",e.GAME_KEY="033bb6a42ac5abd849311c9a1ed625fc",e.SECRET_KEY="43b8b3e4eb89f95ee604f717dc0331c33b8267a1",e.GOOGLE_ID="UA-85519155-26",e.GOOGLE_APP_NAME="Wheely 5",e.WALKTHROUGH_URL="http://kizi.com/videos/wheely-5/?ch=3119&utm_source=GameDistribution",e.GAME_TITLE="Wheely 5",e})()),Atlases=((h=>{function t(){}t.init=function(e){this.game=e,this.dom=document.getElementById(this.dom_id),this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.windowConstraints.right="layout",this.game.scale.windowConstraints.bottom="visual",this.resize(),window.addEventListener("resize",function(e){return t.resize()})},t.resize=function(){var e,t,a,i,n,s,r,o;Wheely.Client.Boot.inBoot||(e=window.innerWidth,a=this.game_w,o=this.game_h,i=this.game_sw,n=this.game_sh,(t=window.innerHeight)/e<o/a?t/e<n/a?s=(r=t*o/n)*a/o:r=(s=e)*o/a:t/e<o/i?s=(r=t)*a/o:r=(s=e*a/i)*o/a,o=Math.min(s/i,r/n),h.ScaleHelper.game.scale.setUserScale(o,o,0,0),this.dtx=(e-s)/2,this.dty=(t-r)/2,this.gameViewW=this.game_w+2*this.dtx/o,this.gameViewW>this.game_w&&(this.gameViewW=this.game_w),this.gameViewH=this.game_h+2*this.dty/o,this.gameViewH>this.game_h&&(this.gameViewH=this.game_h),this.dom.style.marginLeft=Math.round(this.dtx).toString()+"px",this.dom.style.marginTop=Math.round(this.dty).toString()+"px",this.dom.style.maxWidth=String(s)+"px",this.dom.style.maxHeight=String(r)+"px",h.ScaleHelper.game.scale.refresh(),Constants.LANDSCAPE_LOCKED?t<e?this.handleCorrect():this.handleIncorrect():Constants.PORTRAIT_LOCKED&&(e<t?this.handleCorrect():this.handleIncorrect()),setTimeout("window.scrollTo(0,0)",1e3))},t.handleCorrect=function(){this.dom.style.display="block",document.getElementById("orientation").style.display="none"},t.handleIncorrect=function(){this.dom.style.display="none",document.getElementById("orientation").style.display="block",this.game.state.current===SceneList.LevelBuilder&&Wheely.Client.LevelBuilder.instance.paused()},t.dom_id=Constants.DIV_ID,t.game_w=Constants.GAME_WIDTH,t.game_h=Constants.GAME_HEIGHT,t.game_sw=Constants.GAME_WIDTH,t.game_sh=Constants.GAME_HEIGHT,t.dtx=0,t.dty=0,h.ScaleHelper=t})(WheelyScale=WheelyScale||{}),(e=>{function t(){this.working=!1,this.counter=0,this.tweenDetails=new Array}e=e.Client||(e.Client={}),t.prototype.start=function(e,t,a){0!==this.tweenDetails.length&&this.stop(),this.target=e,this.working=!0,this.counter=0,this.duration=t;for(var i=0,n=Object.keys(a);i<n.length;i++){var s,r,o=n[i];(s=this.target[o])!==(r=a[o])&&this.tweenDetails.push({propertyName:o,start:s,change:r-s})}},t.prototype.stop=function(){this.working=!1,this.tweenDetails.splice(0,this.tweenDetails.length),null!==this.target&&(this.target.name="use")},t.prototype.update=function(){if(!1!==this.working){this.counter+=1,this.percent=this.counter/this.duration;for(var e=0;e<this.tweenDetails.length;e++)this.target[this.tweenDetails[e].propertyName]=this.tweenDetails[e].start+this.tweenDetails[e].change*this.percent;1<=this.percent&&this.stop()}},t.prototype.free=function(){this.target=null,this.tweenDetails=[],this.tweenDetails=null},e.SimpleTween=t})(Wheely=Wheely||{}),(e=>{var s;function t(e,t,a,i,n){e=s.call(this,e,t,a,i=void 0===i?null:i,n=void 0===n?null:n)||this;return e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.tx=t,e.ty=a,e.updateTransform=function(e){if(!e&&!this.parent&&!this.game)return this;var t=this.parent,e=(e?t=e:this.parent||(t=this.game.world),t.worldTransform),a=this.worldTransform,i=this.tx,n=this.ty;if((this.pivot.x||this.pivot.y)&&(i-=this.pivot.x*this.a+this.pivot.y*this.c,n-=this.pivot.x*this.b+this.pivot.y*this.d),a.a=this.a*e.a+this.b*e.c,a.b=this.a*e.b+this.b*e.d,a.c=this.c*e.a+this.d*e.c,a.d=this.c*e.b+this.d*e.d,a.tx=i*e.a+n*e.c+e.tx,a.ty=i*e.b+n*e.d+e.ty,this.worldAlpha=this.alpha*t.worldAlpha,this.worldPosition.set(a.tx,a.ty),this.worldScale.set(this.scale.x*Math.sqrt(a.a*a.a+a.c*a.c),this.scale.y*Math.sqrt(a.b*a.b+a.d*a.d)),this.worldRotation=Math.atan2(-a.c,a.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,a,e),!this._cacheAsBitmap){for(var s=0;s<this.children.length;s++)this.children[s].updateTransform();return this}},e}e=e.Client||(e.Client={}),s=Phaser.Sprite,__extends(t,s),t.prototype.setParam=function(e,t,a,i,n,s){this.position.setTo(n,s),this.a=e,this.b=t,this.c=a,this.d=i,this.tx=n,this.ty=s},e.MatrixSprite=t})(Wheely=Wheely||{}),(e=>{var s;function t(e,t,a,i,n){return s.call(this,e,t,a,i=void 0===i?null:i,n=void 0===n?null:n)||this}e=e.Client||(e.Client={}),s=Phaser.Sprite,__extends(t,s),Object.defineProperty(t.prototype,"pivotX",{get:function(){return this.pivot.x},set:function(e){this.pivot.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivotY",{get:function(){return this.pivot.y},set:function(e){this.pivot.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleY",{get:function(){return this.scale.y},set:function(e){this.scale.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{get:function(){return this.scale.x},set:function(e){this.scale.x=e},enumerable:!1,configurable:!0}),e.ScaleSprite=t})(Wheely=Wheely||{}),(e=>{var i;function t(e,t,a){e=i.call(this,e)||this;return e.skewX=0,e.skewY=0,e._srB=0,e._srC=0,e._crA=1,e._crD=1,e._cachedRotX=0,e._cachedRotY=0,e.x=t,e.y=a,e.updateTransform=function(e){if(!e&&!this.parent&&!this.game)return this;var t,a,i,n,s=this.parent,e=(e?s=e:this.parent||(s=this.game.world),s.worldTransform),r=this.worldTransform,o=this.rotation+this.skewY,h=this.rotation+this.skewX;if(o%Phaser.Math.PI2||h%Phaser.Math.PI2?(h===this._cachedRotX&&o===this._cachedRotY||(this._cachedRotX=h,this._cachedRotY=o,this._crA=Math.cos(o),this._srB=Math.sin(o),this._srC=Math.sin(-h),this._crD=Math.cos(h)),t=this._crA*this.scale.x,o=this._srB*this.scale.x,h=this._srC*this.scale.y,a=this._crD*this.scale.y,i=this.position.x,n=this.position.y,(this.pivot.x||this.pivot.y)&&(i-=this.pivot.x*t+this.pivot.y*h,n-=this.pivot.x*o+this.pivot.y*a),r.a=t*e.a+o*e.c,r.b=t*e.b+o*e.d,r.c=h*e.a+a*e.c,r.d=h*e.b+a*e.d):(t=this.scale.x,a=this.scale.y,i=this.position.x-this.pivot.x*t,n=this.position.y-this.pivot.y*a,r.a=t*e.a,r.b=t*e.b,r.c=a*e.c,r.d=a*e.d),r.tx=i*e.a+n*e.c+e.tx,r.ty=i*e.b+n*e.d+e.ty,this.worldAlpha=this.alpha*s.worldAlpha,this.worldPosition.set(r.tx,r.ty),this.worldScale.set(this.scale.x*Math.sqrt(r.a*r.a+r.c*r.c),this.scale.y*Math.sqrt(r.b*r.b+r.d*r.d)),this.worldRotation=Math.atan2(-r.c,r.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,r,e),!this._cacheAsBitmap){for(var l=0;l<this.children.length;l++)this.children[l].updateTransform();return this}},e}e=e.Client||(e.Client={}),i=Phaser.Group,__extends(t,i),Object.defineProperty(t.prototype,"scaleY",{get:function(){return this.scale.y},set:function(e){this.scale.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{get:function(){return this.scale.x},set:function(e){this.scale.x=e},enumerable:!1,configurable:!0}),e.SkewGroup=t})(Wheely=Wheely||{}),(e=>{var s;function t(e,t,a,i,n){e=s.call(this,e,t,a,i=void 0===i?null:i,n=void 0===n?null:n)||this;return e.skewX=0,e.skewY=0,e._srB=0,e._srC=0,e._crA=1,e._crD=1,e._cachedRotX=0,e._cachedRotY=0,e.updateTransform=function(e){if(!e&&!this.parent&&!this.game)return this;var t,a,i,n,s=this.parent,e=(e?s=e:this.parent||(s=this.game.world),s.worldTransform),r=this.worldTransform,o=this.rotation+this.skewY,h=this.rotation+this.skewX;if(o%Phaser.Math.PI2||h%Phaser.Math.PI2?(h===this._cachedRotX&&o===this._cachedRotY||(this._cachedRotX=h,this._cachedRotY=o,this._crA=Math.cos(o),this._srB=Math.sin(o),this._srC=Math.sin(-h),this._crD=Math.cos(h)),t=this._crA*this.scale.x,o=this._srB*this.scale.x,h=this._srC*this.scale.y,a=this._crD*this.scale.y,i=this.position.x,n=this.position.y,(this.pivot.x||this.pivot.y)&&(i-=this.pivot.x*t+this.pivot.y*h,n-=this.pivot.x*o+this.pivot.y*a),r.a=t*e.a+o*e.c,r.b=t*e.b+o*e.d,r.c=h*e.a+a*e.c,r.d=h*e.b+a*e.d):(t=this.scale.x,a=this.scale.y,i=this.position.x-this.pivot.x*t,n=this.position.y-this.pivot.y*a,r.a=t*e.a,r.b=t*e.b,r.c=a*e.c,r.d=a*e.d),r.tx=i*e.a+n*e.c+e.tx,r.ty=i*e.b+n*e.d+e.ty,this.worldAlpha=this.alpha*s.worldAlpha,this.worldPosition.set(r.tx,r.ty),this.worldScale.set(this.scale.x*Math.sqrt(r.a*r.a+r.c*r.c),this.scale.y*Math.sqrt(r.b*r.b+r.d*r.d)),this.worldRotation=Math.atan2(-r.c,r.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,r,e),!this._cacheAsBitmap){for(var l=0;l<this.children.length;l++)this.children[l].updateTransform();return this}},e}e=e.Client||(e.Client={}),s=Phaser.Sprite,__extends(t,s),Object.defineProperty(t.prototype,"scaleY",{get:function(){return this.scale.y},set:function(e){this.scale.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{get:function(){return this.scale.x},set:function(e){this.scale.x=e},enumerable:!1,configurable:!0}),e.SkewSprite=t})(Wheely=Wheely||{}),(e=>{var a,t;function n(){}a=e.Client||(e.Client={}),(e=t=a.SoundType||(a.SoundType={}))[e.Music="music"]="Music",e[e.SFX="sfx"]="SFX",n.init=function(e){n.game=e,n.toggleSound("m",n.enabMusic),n.toggleSound("fx",n.enabSFX),n.sfxLoop=e.sound.addSprite(Sounds.Wheely)},n.toggleSound=function(e,t){a.DataManager.getInstance().saveObj[e]},n.playMusic=function(e,t){void 0===t&&(t=1),null===n.music?(n.music=n.game.add.audio(e,t,!0),!0===n.enabMusic&&n.music.play()):(n.music.volume=t,!0!==n.enabMusic||n.music.key!==e&&(n.music.destroy(),n.music=n.game.add.audio(e,t,!0),!0!==n.enabMusic)||n.music.play())},n.stopMusic=function(){null!==n.music&&n.music.stop()},n.playSFX=function(e,t,a){var i;void 0===t&&(t=!1),void 0===a&&(a=1),!1!==n.enabSFX&&((i=n.sfxLoop.get(e)).markers[Object.keys(i.markers)[0]].loop=t,n.sfxLoop.play(e,a))},n.stopSFXLoop=function(e){n.sfxLoop.stop(e)},n.stopAllSFXLoop=function(){n.sfxLoop.stop()},n.changeEnabledMusic=function(){!0===n.enabMusic?(null!==n.music&&n.music.pause(),a.DataManager.getInstance().saveData("m",1)):(null!==n.music&&(!0===n.music.paused?n.music.resume():n.music.play()),a.DataManager.getInstance().saveData("m",0)),n.enabMusic=!n.enabMusic},n.changeEnabledSFX=function(){!0===n.enabSFX?a.DataManager.getInstance().saveData("fx",1):a.DataManager.getInstance().saveData("fx",0),n.enabSFX=!n.enabSFX},n.setEnabled=function(e){e===t.Music?n.changeEnabledMusic():n.changeEnabledSFX()},n.getEnabled=function(e){return e===t.Music?n.enabMusic:n.enabSFX},n.removeAllSFXLoop=function(){},n.enabMusic=!0,n.enabSFX=!0,n.game=null,n.music=null,a.SoundManager=e=n})(Wheely=Wheely||{}),(e=>{function t(){}e=e.Client||(e.Client={}),t.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.roundDec=function(e,t){void 0===t&&(t=0);t=Math.pow(10,t);return Math.round(e*t)/t},t.clamp=function(e,t,a){return Math.max(t,Math.min(a,e))},t.toDeg=function(e){return e*(180/Math.PI)},t.toRad=function(e){return e*(Math.PI/180)},t.getInstance=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];e=Object.create(window.Wheely.Client[e].prototype);return e.constructor.apply(e,t),e},t.rotatePointByAngle=function(e,t,a,i,n){var s=Math.cos(n),n=Math.sin(n);return new Phaser.Point(e+(a-e)*s-(i-t)*n,t+(a-e)*n+(i-t)*s)},t.distance=function(e,t,a,i){return Math.sqrt((a-e)*(a-e)+(i-t)*(i-t))},t.percentTo=function(e,t){return e/t*100},t.percentToF=function(e,t){return e/t},t.percentFrom=function(e,t){return e*t/100},t.angleOfPoints=function(e,t,a,i){return 180*Math.atan2(-(i-t),-(a-e))/Math.PI},e.Tools=t})(Wheely=Wheely||{}),(e=>{function t(e,t,a,i,n,s,r){this.m_maxTextYDelta=5,this.m_danceSpeed=2,this.m_danceOffset=5,this.m_maxDanceCount=10,this.active=!1,this.m_dancingTexts=new Array,this.m_dancingTextsDirections=new Array,this.m_dancingTextsDancesCount=new Array,this.m_dancingTextsDelays=new Array,this.x=a,this.y=i;for(var o=0,h=0;h<s.length;h++){var l=s.charAt(h);" "===l?o+=n:((l=new Phaser.BitmapText(e,this.x+o,this.y,"walkthrough",l,r)).anchor.setTo(.5),o+=n,t.addChild(l),this.m_dancingTexts.push(l),this.m_dancingTextsDirections.push(-1),this.m_dancingTextsDelays.push(0),this.m_dancingTextsDancesCount.push(0))}}e=e.Client||(e.Client={}),t.prototype.stopDancing=function(){for(var e=0;e<this.m_dancingTexts.length;e++)this.m_dancingTexts[e].y=this.y;this.active=!1},t.prototype.startDancing=function(){this.stopDancing();for(var e=0;e<this.m_dancingTextsDelays.length;e++)this.m_dancingTextsDelays[e]=5*e,this.m_dancingTextsDancesCount[e]=0;this.active=!0},t.prototype.updateTextDance=function(){for(var e,t=!1,a=0;a<this.m_dancingTexts.length;a++)((e=this.m_dancingTexts[a]).y<this.y-this.m_maxTextYDelta||e.y>this.y+this.m_maxTextYDelta)&&(this.m_dancingTextsDirections[a]*=-1,this.m_dancingTextsDancesCount[a]+=1),this.m_dancingTextsDelays[a]-=Math.abs(this.m_danceSpeed),this.m_dancingTextsDelays[a]<0&&this.m_dancingTextsDancesCount[a]<this.m_maxDanceCount?(this.m_dancingTextsDelays[a]=0,e.y+=this.m_dancingTextsDirections[a]*this.m_danceSpeed,t=!0):this.m_dancingTextsDancesCount[a]>=this.m_maxDanceCount&&e.y!==this.y&&(e.y+=this.m_dancingTextsDirections[a]*this.m_danceSpeed,t=!0);t||this.stopDancing()},t.prototype.update=function(){!1!==this.active&&this.updateTextDance()},t.prototype.free=function(){this.m_dancingTexts=[],this.m_dancingTexts=null,this.m_dancingTextsDirections=[],this.m_dancingTextsDirections=null,this.m_dancingTextsDancesCount=[],this.m_dancingTextsDancesCount=null,this.m_dancingTextsDelays=[],this.m_dancingTextsDelays=null},e.DancingText=t})(Wheely=Wheely||{}),(e=>{function t(){}e=e.Client||(e.Client={}),t.SW=800,t.SH=600,t.content="game-container",e.Variables=t})(Wheely=Wheely||{}),(()=>{function e(){}return e.preloadList=[],e.list=["ui","wheely","level1","level2","level4","level5","level7","level9","level12","level13","level13_2","level3","level6","level8","level10","level11","level14","level11Effects","comix"],e})()),Images=(()=>{function e(){}return e.preloadList=[],e.list=["kiziLogo","menuBg","menuBg2","bgLevel1_1","bgLevel1_2","bgLevel2_1","bgLevel4_1","bgLevel4_2","bgLevel5_1","bgLevel5_2","bgLevel5_3","bgLevel7_1","bgLevel7_2","bgLevel7_3","bgLevel9_1","bgLevel9_2","bgLevel12_1","bgLevel12_2","bgLevel13_1","bgLevel13_2","bgLevel3_1","bgLevel3_2","bgLevel3_3","bgLevel3_4","bgLevel3_5","bgLevel3_6","bgLevel3_7","bgLevel6_1","shipBackLvl6","waterLvl6","shipLvl6","bgLevel8_1","bgLevel8_2","bgLevel10_1","bgLevel10_2","bgLevel11_1","bgLevel11_2","bgLevel14_1","bgLevel14_2","bgLevel15_1","credits"],e})(),Sounds=(()=>{function e(){}return e.Wheely="wheely5",e.preloadList=[],e.list=["main_1","main_2"],e})();(e=>{function t(){}e=e.Client||(e.Client={}),t.prototype.update=function(){},t.prototype.free=function(){},e.BasicElement=t})(Wheely=Wheely||{}),(e=>{var r;function t(e,t,a,i,n){void 0===t&&(t=!0),void 0===a&&(a=1),this.firtstdelay=!1,this.fTimer=0,this.showImageTime=0,this.showDelay=90,this.showCount=0,this.stopUpdate=!1,this.game=e,!0===t?(s=e.add.sprite(i,n),(t=e.make.sprite(0,0,"comix","tv instance 10000")).anchor.set(.5),s.addChild(t)):s=r.GameManager.instance.layerElements.create(i,n),s.scale.set(a),s.anchor.set(.5),this.group=new Phaser.Sprite(e,0,0),s.addChild(this.group),this.tvBackground=e.make.sprite(9,120,"comix","background instance 10000"),this.tvBackground.anchor.set(.5),this.group.addChild(this.tvBackground),this.meteor1=e.make.sprite(0,0,"comix","meteor instance 10000"),this.meteor1.anchor.set(.5),this.meteor1.visible=!1,this.group.addChild(this.meteor1),this.meteor2=e.make.sprite(0,0,"comix","meteor instance 10000"),this.meteor2.visible=!1,this.meteor2.anchor.set(.5),this.group.addChild(this.meteor2),this.tvFront=e.make.sprite(-15,12,"comix","frontFilm instance 10000"),this.tvFront.anchor.set(.5),this.group.addChild(this.tvFront),this.white=e.add.graphics(0,-10),this.white.beginFill(2424925),this.white.drawRoundedRect(-196,-130,393,260,35),this.group.addChild(this.white),this.planet=new Phaser.Group(this.game),this.planet.x=30,this.planet.y=-51,this.group.addChild(this.planet);var s,t=e.make.sprite(0,0,"comix","planet instance 10000"),i=(t.anchor.set(.5),this.planet.addChild(t),e.make.sprite(-55,2,"comix","traectory instance 10000")),n=(i.anchor.set(.5),this.planet.addChild(i),this.MyMask=e.make.graphics(135,2),this.MyMask.beginFill(0),this.MyMask.drawRect(-81,-3,162,6),this.planet.addChild(this.MyMask),i.mask=this.MyMask,e.make.sprite(0,-5,"comix","tvFront instance 10000")),a=(n.anchor.set(.5),this.group.addChild(n),e.make.sprite(0,87,"comix","linesBg instance 10000")),t=(a.anchor.set(.5),this.group.addChild(a),e.make.sprite(-80,37,"comix")),i=(t.anchor.set(.5),t.animations.add("play",Phaser.Animation.generateFrameNames("car instance 1",0,24,"",4),35,!0),t.play("play"),this.group.addChild(t),e.make.sprite(5,93,"comix","micro instance 10000")),n=(i.anchor.set(.5),this.group.addChild(i),e.make.sprite(0,85,"comix")),a=(n.anchor.set(.5),n.animations.add("play",Phaser.Animation.generateFrameNames("lines instance 1",0,22,"",4),35,!0),n.play("play"),this.group.addChild(n),this.tvStart=e.make.sprite(0,0,"comix"),this.tvStart.anchor.set(.5),this.tvStart.animations.add("play",Phaser.Animation.generateFrameNames("tvStart instance 1",0,10,"",4),35,!1).onComplete.add(this.hideTvStart,this),this.tvStart.play("play"),this.tvStart.animations.stop(),s.addChild(this.tvStart),e.add.graphics(0,-10));a.beginFill(0),a.drawRoundedRect(-196,-130,393,260,35),s.addChild(a),this.group.mask=a,this.group.visible=!1,this.resetTv()}r=e.Client||(e.Client={}),t.prototype.free=function(){this.tvBackground=null,this.tvFront=null,this.planet=null,this.tvStart=null,this.group=null,this.white=null,this.MyMask=null,this.game=null},t.prototype.hideTvStart=function(){this.group.visible=!0,this.tvStart.visible=!1,this.addMeteors()},t.prototype.update=function(){!1===this.firtstdelay?(this.fTimer+=1,10<=this.fTimer&&(this.tvStart.play("play"),this.firtstdelay=!0)):!0!==this.stopUpdate&&(this.showImageTime++,this.showImageTime>=this.showDelay)&&(this.showCount++,3===this.showCount?(this.game.add.tween(this.meteor1).to({alpha:0},500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.meteor2).to({alpha:0},500,Phaser.Easing.Linear.None,!0),this.showCount=0,this.stopUpdate=!0,this.game.add.tween(this.white).to({alpha:1},500,Phaser.Easing.Linear.None,!0),this.planet.alpha=1,this.game.add.tween(this.planet.scale).to({x:.7,y:.7},1500,Phaser.Easing.Linear.None,!0).onComplete.add(this.moveBg,this),this.game.add.tween(this.planet).to({angle:-8.5},1500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.MyMask).to({x:this.MyMask.x-190},1500,Phaser.Easing.Linear.None,!0)):(this.game.add.tween(this.meteor1).to({alpha:0},500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.meteor2).to({alpha:0},500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.tvBackground).to({y:this.tvBackground.y-150},800,Phaser.Easing.Back.In,!0).onComplete.add(this.addMeteors,this)),this.showImageTime=0)},t.prototype.moveBg=function(){this.tvBackground.y=120,this.game.add.tween(this.white).to({alpha:1},0,Phaser.Easing.Linear.None,!0,800).onComplete.add(this.resetTv,this)},t.prototype.addMeteors=function(){this.meteor1.alpha=1,0===this.showCount?(this.meteor1.visible=!0,this.meteor1.x=-61,this.meteor1.y=-92,this.meteor1.angle=55,this.game.add.tween(this.meteor1).to({x:this.meteor1.x-50,y:this.meteor1.y+30},1800,Phaser.Easing.Linear.None,!0),this.meteor2.visible=!0,this.meteor2.x=145,this.meteor2.y=-118,this.meteor2.angle=55,this.meteor2.scale.set(1.2),this.meteor2.alpha=1,this.game.add.tween(this.meteor2).to({x:this.meteor2.x-50,y:this.meteor2.y+30},1800,Phaser.Easing.Linear.None,!0)):1===this.showCount?(this.meteor1.visible=!0,this.meteor1.x=-57,this.meteor1.y=-162,this.meteor1.angle=14,this.meteor1.scale.set(1.2),this.game.add.tween(this.meteor1).to({x:this.meteor1.x-5,y:this.meteor1.y+30},1e3,Phaser.Easing.Linear.None,!0),this.meteor2.visible=!0,this.meteor2.x=145,this.meteor2.y=-118,this.meteor2.angle=14,this.meteor2.alpha=1,this.game.add.tween(this.meteor2).to({x:this.meteor2.x-5,y:this.meteor2.y+30},1e3,Phaser.Easing.Linear.None,!0)):2===this.showCount?(this.meteor1.visible=!0,this.meteor1.x=26,this.meteor1.y=-124,this.meteor1.angle=38,this.meteor1.scale.set(1.2),this.game.add.tween(this.meteor1).to({x:this.meteor1.x-20,y:this.meteor1.y+30},1e3,Phaser.Easing.Linear.None,!0)):(this.meteor1.visible=!1,this.meteor2.visible=!1)},t.prototype.resetTv=function(){this.game.add.tween(this.white).to({alpha:0},400,Phaser.Easing.Linear.None,!0),this.stopUpdate=!1,this.planet.scale.set(.42),this.planet.alpha=0,this.planet.angle=0,this.MyMask.x=135,this.addMeteors()},r.BigTv=t})(Wheely=Wheely||{}),(e=>{var o,h;function t(e,t,a,i,n,s){void 0===n&&(n=o.GameManager.instance.layerBackground),void 0===s&&(s=59);var r=h.call(this)||this;return r.counterWheels=0,r.joint=null,r.m_active=!1,r.m_currWallsTime=0,r.springHeight=60,r.springHeight=s,r.startY=i,r.graphiSpringLeft=n.create(a-25,i+r.springHeight,t,"changeDirSpring instance 10000"),r.graphiSpringLeft.anchor.setTo(.5,1),r.graphiSpringRight=n.create(a+25,i+r.springHeight,t,"changeDirSpring instance 10000"),r.graphiSpringRight.anchor.setTo(.5,1),r.graphic=n.create(a,i,t,"changeDirTop instance 10000"),r.graphic.anchor.setTo(.5),r.graphic.inputEnabled=!0,r.graphic.input.useHandCursor=!0,r.graphic.events.onInputOver.add(r.onInputOver,r),r.graphic.events.onInputOut.add(r.onInputOut,r),r.halfBtnHeight=r.springHeight,r.graphic.input.enableDrag(!0),r.graphic.input.boundsRect=new Phaser.Rectangle(a-r.graphic.width/2,i-r.graphic.height/2,r.graphic.width,r.springHeight+r.graphic.height/2+2),r.graphic.input.setDragLock(!1,!0),r.graphic.events.onDragUpdate.add(r.dragUpdate,r),r.graphic.events.onInputUp.add(r.mouseUp,r),r.tween=e.add.tween(r.graphic),r.tween.to({y:[r.startY-15,r.startY]},300,Phaser.Easing.Linear.None),r.tween.onUpdateCallback(r.dragUpdate,r),r.tween.onComplete.add(r.tweenComp,r),r.body=new Phaser.Physics.Box2D.Body(e,null,a,i-5,0),r.body.setRectangle(120,10),r.body.sensor=!0,r.body.setBodyContactCallback(o.GameManager.instance.hero.bodyWheelBack,r.onBodyContact,r),r.body.setBodyContactCallback(o.GameManager.instance.hero.bodyWheelFront,r.onBodyContact,r),r}o=e.Client||(e.Client={}),h=o.BasicElement,__extends(t,h),t.prototype.onBodyContact=function(e,t,a,i,n){e!==t&&(!0===n?(this.counterWheels+=1,2<this.counterWheels&&(this.counterWheels=2)):(--this.counterWheels,this.counterWheels<0&&(this.counterWheels=0)))},t.prototype.tweenComp=function(){this.graphic.y=this.startY,this.graphiSpringLeft.scale.y=1,this.graphiSpringRight.scale.y=1},t.prototype.dragUpdate=function(){var e=(this.graphic.y-this.startY)/this.halfBtnHeight;this.graphiSpringLeft.scale.y=1-e,this.graphiSpringRight.scale.y=this.graphiSpringLeft.scale.y},t.prototype.mouseUp=function(){var e;this.graphic.y=this.startY,this.graphiSpringLeft.scale.y=1,this.graphiSpringRight.scale.y=1,this.tween.start(),o.SoundManager.playSFX("spring"),2===this.counterWheels&&((e=o.GameManager.instance.hero).bodyWheelBack.angularVelocity=0,e.bodyWheelBack.velocity.x=0,e.bodyWheelBack.velocity.y=0,e.bodyWheelFront.angularVelocity=0,e.bodyWheelFront.velocity.x=0,e.bodyWheelFront.velocity.y=0,e.bodyBase.angularVelocity=0,e.bodyBase.velocity.x=0,e.bodyBase.velocity.y=0,e.bodyBase.data.SetPosition(new box2d.b2Vec2(this.body.data.GetPosition().x,this.body.data.GetPosition().y+1.4)),e.bodyWheelBack.y=e.bodyBase.y+e.wheelsOffY,e.bodyWheelFront.y=e.bodyBase.y+e.wheelsOffY,this.destroyJoint(),this.joint=o.Main.instance.physics.box2d.wheelJoint(this.body,e.bodyBase,0,0,0,0,0,1),this.joint.m_collideConnected=!0,e.setKeepAngle(!1),e.bodyBase.angularVelocity=10.5*e.currDirection,e.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(0,15),e.bodyBase.data.GetPosition()),this.heroEngineState=e.getEnableMotor(),e.setEnableMotor(!1,!1),this.m_currWallsTime=0,this.m_active=!0)},t.prototype.destroyJoint=function(){null!==this.joint&&(o.Main.instance.physics.box2d.world.DestroyJoint(this.joint),this.joint=null)},t.prototype.update=function(){!1!==this.m_active&&(this.m_currWallsTime+=1,25===this.m_currWallsTime?o.GameManager.instance.hero.changeDirection():60===this.m_currWallsTime&&(o.GameManager.instance.hero.setKeepAngle(!0),this.destroyJoint(),o.GameManager.instance.hero.setEnableMotor(this.heroEngineState,!1),this.m_active=!1))},t.prototype.onInputOut=function(){this.graphic.frameName="changeDirTop instance 10000",this.graphiSpringLeft.frameName="changeDirSpring instance 10000",this.graphiSpringRight.frameName="changeDirSpring instance 10000"},t.prototype.onInputOver=function(){this.graphic.frameName="changeDirTop instance 10001",this.graphiSpringLeft.frameName="changeDirSpring instance 10001",this.graphiSpringRight.frameName="changeDirSpring instance 10001"},t.prototype.free=function(){this.graphic=null,this.graphiSpringLeft=null,this.graphiSpringRight=null,this.tween=null,this.body=null,this.joint=null},o.ChangeHeroDir=t})(Wheely=Wheely||{}),(e=>{var r,o;function t(e,t,a){var i=o.call(this)||this;i.array=new Array,i.game=e;for(var n=0;n<10;n++){var s=new r.Star(e,t,a);i.array.push(s)}return i}r=e.Client||(e.Client={}),o=r.BasicElement,__extends(t,o),t.prototype.update=function(){for(var e=0;e<this.array.length;e++)this.array[e].update()},r.ClickStars=t})(Wheely=Wheely||{}),(e=>{var o,h;function t(e,t,a,i,n,s){void 0===i&&(i=!0),void 0===n&&(n=o.GameManager.instance.layerBackground),void 0===s&&(s=!0);var r=h.call(this)||this;return r.stop=!1,r.wheelyJoy=!0,r.finishTimer=0,r.active=!1,r.active=i,r.flag=n.create(t,a-22,"ui"),r.flag.animations.add("move",Phaser.Animation.generateFrameNames("flag instance 1",0,11,"",4),24,!0),r.flag.play("move"),e.physics.box2d.enable(r.flag),r.flag.body.setRectangle(10,80,10,22,0),r.flag.body.kinematic=!0,r.flag.body.sensor=!0,r.flag.anchor.set(.5,.5),r.flag.body.setBodyContactCallback(o.GameManager.instance.hero.bodyBase,r.checkFinish,r),r.flagShtok=e.make.sprite(8,-18,"ui","flagShtok instance 10000"),r.flag.addChild(r.flagShtok),r.wheelyJoy=s,r}o=e.Client||(e.Client={}),h=o.BasicElement,__extends(t,h),t.prototype.setContactHero=function(){o.GameManager.instance.hero.bodyBase.setBodyContactCallback(this.flag.body,this.checkFinish,this)},t.prototype.checkFinish=function(e,t,a,i,n){n&&!0!==this.stop&&!1!==this.active&&(this.stop=!0,this.contact())},t.prototype.update=function(){!0===this.stop&&(this.finishTimer+=1,60===this.finishTimer)&&o.LevelBuilder.instance.levelComplete(),!1===this.stop&&o.Tools.distance(this.flag.world.x,this.flag.world.y,o.GameManager.instance.hero.bodyBase.x,o.GameManager.instance.hero.bodyBase.y)<=40&&(!0===this.wheelyJoy&&this.contact(),this.stop=!0)},t.prototype.contact=function(){o.SoundManager.playSFX("levelWin"),o.GameManager.instance.finishPassed=!0,o.GameManager.instance.hero.currState=o.HeroState.finish},t.prototype.free=function(){this.flag=null,this.flagShtok=null},o.Finish=t})(Wheely=Wheely||{}),(e=>{var n;function t(e,t,a){var i;this.wheelsOffY=32,this.wheelsOffX=31,this.motorTorque=4,this.m_wheelsFriction=1,this.onGround=!0,this.backWheelOnGround=0,this.frontWheelOnGround=0,this.game=e,this.bodyBase=new Phaser.Physics.Box2D.Body(e,null,t,a),(i=this.bodyBase.setRectangle(102,24,0,10)).m_filter.categoryBits=n.FilterGroups.CAR2,i.SetUserData("heroBaseBody"),(i=this.bodyBase.addCircle(12,50,10)).m_filter.categoryBits=n.FilterGroups.CAR2,(i=this.bodyBase.addCircle(12,-50,10)).m_filter.categoryBits=n.FilterGroups.CAR2,(i=this.bodyBase.addPolygon([-50,-2,-40,-22,40,-22,50,-2])).m_filter.categoryBits=n.FilterGroups.CAR1,this.bodyBase.data.SetUserData("heroCorpus"),this.bodyBase.friction=0,this.bodyBase.mass=2.2,this.bodyWheelBack=new Phaser.Physics.Box2D.Body(e,null,t-this.wheelsOffX,a+this.wheelsOffY),(i=this.bodyWheelBack.setCircle(16)).m_filter.categoryBits=n.FilterGroups.CAR2,i.m_filter.maskBits=~n.FilterGroups.CAR1,i.m_restitution=0,this.bodyWheelBack.friction=this.m_wheelsFriction,this.bodyWheelBack.data.GetFixtureList().SetDensity(1),this.bodyWheelBack.bullet=!0,this.bodyWheelBack.setCategoryContactCallback(1,this.backWheelContact,this),this.bodyWheelFront=new Phaser.Physics.Box2D.Body(e,null,t+this.wheelsOffX,a+this.wheelsOffY),(i=this.bodyWheelFront.setCircle(16)).m_filter.categoryBits=n.FilterGroups.CAR2,i.m_filter.maskBits=~n.FilterGroups.CAR1,i.m_restitution=0,this.bodyWheelFront.friction=this.m_wheelsFriction,this.bodyWheelFront.data.GetFixtureList().SetDensity(1),this.bodyWheelFront.bullet=!0,this.bodyWheelFront.setCategoryContactCallback(1,this.frontWheelContact,this);this.jointBack=e.physics.box2d.wheelJoint(this.bodyBase,this.bodyWheelBack,-this.wheelsOffX,this.wheelsOffY,0,0,0,1,5,.3,0,this.motorTorque,!(i=null)),this.jointFront=e.physics.box2d.wheelJoint(this.bodyBase,this.bodyWheelFront,this.wheelsOffX,this.wheelsOffY,0,0,0,1,5,.3,0,this.motorTorque,!1)}n=e.Client||(e.Client={}),t.prototype.backWheelContact=function(e,t,a,i,n){e!==t&&!0!==e.sensor&&!0!==t.sensor&&(!0===n?this.backWheelOnGround+=1:(--this.backWheelOnGround,this.backWheelOnGround<0&&(this.backWheelOnGround=0)),this.checkOnGround())},t.prototype.frontWheelContact=function(e,t,a,i,n){e!==t&&(!0===n?this.frontWheelOnGround+=1:(--this.frontWheelOnGround,this.frontWheelOnGround<0&&(this.frontWheelOnGround=0)),this.checkOnGround())},t.prototype.checkOnGround=function(){},t.prototype.free=function(){this.bodyBase=null,this.bodyWheelBack=null,this.bodyWheelFront=null,this.jointBack=null,this.jointFront=null,this.game=null},n.AHeroPhysics=t})(Wheely=Wheely||{}),(e=>{var i,t,a,n;function s(e,t,a){t=n.call(this,e,t,a)||this;return t._currDirection=0,t.backLightActive=!1,t.totalBackLight=30,t.startEyes=!1,t.bumpHeadActive=!1,t.bumpHeadCoun=0,t.bumpHeadTotal=60,t.blackForWheels=i.GameManager.instance.layerElements.create(0,0,"wheely","blackForWeels2 instance 10000"),t.blackForWheels.anchor.setTo(0,.09),t.wheelBack=i.GameManager.instance.layerElements.create(0,0,"wheely","car_weel instance 10000"),t.wheelBack.anchor.setTo(.5),t.wheelFront=i.GameManager.instance.layerElements.create(0,0,"wheely","car_weel instance 10000"),t.wheelFront.anchor.setTo(.5),t.baseGroup=e.make.group(),i.GameManager.instance.layerElements.add(t.baseGroup),t.graphicStartSmoke=t.baseGroup.create(-58,27,"wheely","startSmoke instance 10000"),t.graphicStartSmoke.anchor.setTo(1,.5),t.graphicStartSmoke.animations.add("start",Phaser.Animation.generateFrameNames("startSmoke instance 1",0,20,"",4),30),t.graphicStartSmoke.visible=!1,t.graphicStartSmoke.animations.currentAnim.onComplete.addOnce(t.hideStartSmoke,t),t.carFrameOut="car instance 10000",t.carFrameOver="car instance 10001",t.graphicCar=new i.SkewSprite(e,-67,30,"wheely",t.carFrameOut),t.graphicCar.events.onInputOver.add(t.onInputOverHandler,t),t.graphicCar.events.onInputOut.add(t.onInputOutHandler,t),t.graphicCar.pivot.set(0,66),t.graphicCar.inputEnabled=!0,t.graphicCar.input.useHandCursor=!0,t.baseGroup.add(t.graphicCar),t.graphicBumpHead1=t.baseGroup.create(-50,-55,"wheely"),t.graphicBumpHead1.animations.add("bumpHead",Phaser.Animation.generateFrameNames("bumpHead instance 1",0,26,"",4),30,!0),t.graphicBumpHead1.visible=!1,t.graphicBumpHead2=t.baseGroup.create(50,-55,"wheely"),t.graphicBumpHead2.animations.add("bumpHead",Phaser.Animation.generateFrameNames("bumpHead instance 1",0,26,"",4),30,!0),t.graphicBumpHead2.scale.x=-1,t.graphicBumpHead2.visible=!1,t.graphicBackLight=e.make.sprite(-2,32,"wheely","backLight instance 10000"),t.graphicCar.addChild(t.graphicBackLight),t.graphicEyes=e.make.sprite(80,-10,"wheely"),t.graphicEyes.animations.add("stand",Phaser.Animation.generateFrameNames("eyes instance 1",0,0,"",4)),t.graphicEyes.animations.add("finish",Phaser.Animation.generateFrameNames("eyes instance 1",1,1,"",4)),t.graphicEyes.animations.add("bump",Phaser.Animation.generateFrameNames("eyes instance 1",2,2,"",4)),t.graphicEyes.animations.add("lookDown",Phaser.Animation.generateFrameNames("eyes instance 1",3,3,"",4)),t.graphicEyes.animations.add("lookUp",Phaser.Animation.generateFrameNames("eyes instance 1",4,4,"",4)),t.graphicEyes.animations.add("idle1",Phaser.Animation.generateFrameNames("eyes instance 1",5,177,"",4),30),t.graphicEyes.animations.add("idle2",Phaser.Animation.generateFrameNames("eyes instance 1",178,273,"",4),30),t.graphicEyes.animations.add("idle3",Phaser.Animation.generateFrameNames("eyes instance 1",274,324,"",4),30),t.graphicEyes.animations.add("idle4",Phaser.Animation.generateFrameNames("eyes instance 1",325,333,"",4),30),t.graphicEyes.animations.add("big",Phaser.Animation.generateFrameNames("eyes instance 1",334,334,"",4)),t.graphicEyes.animations.add("turn",Phaser.Animation.generateFrameNames("eyes instance 1",335,393,"",4),24),t.graphicEyes.animations.add("afraid",Phaser.Animation.generateFrameNames("eyes instance 1",394,400,"",4),24,!0),t.graphicEyes.animations.add("tense",Phaser.Animation.generateFrameNames("eyes instance 1",402,402,"",4),24,!1),t.graphicEyes.events.onAnimationComplete.add(t.onAnimationComplete,t),t.graphicCar.addChild(t.graphicEyes),t.gas=new i.ExhaustGas(i.GameManager.instance.layerElements,3),t}i=e.Client||(e.Client={}),(e=t=i.HeroState||(i.HeroState={}))[e.stand=0]="stand",e[e.acceleration=1]="acceleration",e[e.brake=2]="brake",e[e.bumpFront=3]="bumpFront",e[e.bumpBack=4]="bumpBack",e[e.bumpHead=5]="bumpHead",e[e.bumpStars=6]="bumpStars",e[e.finish=7]="finish",(e=a=i.EyesState||(i.EyesState={}))[e.stand=0]="stand",e[e.lookUp=1]="lookUp",e[e.lookDown=2]="lookDown",e[e.bump=3]="bump",e[e.bumpForEver=4]="bumpForEver",e[e.big=5]="big",e[e.finish=6]="finish",e[e.lookForward=7]="lookForward",e[e.idle=8]="idle",e[e.turn=9]="turn",e[e.afraid=10]="afraid",e[e.tense=11]="tense",__extends(s,n=i.AHeroPhysics),s.prototype.checkOnGround=function(){0<this.backWheelOnGround&&0<this.frontWheelOnGround?this.onGround=!0:this.onGround=!1},s.prototype.onInputOverHandler=function(){this.graphicCar.frameName=this.carFrameOver},s.prototype.onInputOutHandler=function(){this.graphicCar.frameName=this.carFrameOut},s.prototype.setChildPos=function(e){this.graphicCar.pivot.x=this.graphicCar.width*e,this.graphicCar.x=this.graphicCar.pivot.x-64,this.blackForWheels.anchor.x=e,this.blackForWheels.pivot.x=-this.blackForWheels.width*(e-.5)},s.prototype.goAnimation=function(e){i.Main.instance.tweens.removeFrom(this.graphicCar,!1),this.graphicCar.scale.setTo(1),this.graphicCar.skewX=0,e===t.stand?(this.setChildPos(.5),this.currEyesState=a.stand):e===t.finish?(this.setChildPos(.5),this.currEyesState=a.finish,this.setClickable(!1),i.Main.instance.add.tween(this.graphicCar).to({skewX:[-.2,0,.2,0],scaleY:[1.2,1,1.2,1]},900,Phaser.Easing.Linear.None,!0,0,-1)):e===t.bumpFront?(this.setChildPos(0),this.currEyesState=a.big,i.Main.instance.add.tween(this.blackForWheels.scale).to({x:[.9,1]},1e3,Phaser.Easing.Linear.None,!0),i.Main.instance.add.tween(this.graphicCar).to({scaleX:.9,scaleY:1.1},500,Phaser.Easing.Linear.None,!0).chain(i.Main.instance.add.tween(this.graphicCar).to({scaleX:1,scaleY:1},500,Phaser.Easing.Linear.None))):e===t.bumpBack?(this.setChildPos(1),this.currEyesState=a.big,i.Main.instance.add.tween(this.blackForWheels.scale).to({x:[.9,1]},1e3,Phaser.Easing.Linear.None,!0),i.Main.instance.add.tween(this.graphicCar).to({scaleX:.9,scaleY:1.1},500,Phaser.Easing.Linear.None,!0).chain(i.Main.instance.add.tween(this.graphicCar).to({scaleX:1,scaleY:1},500,Phaser.Easing.Linear.None))):e===t.bumpHead?(this.setChildPos(.5),this.currEyesState=a.big,i.Main.instance.add.tween(this.graphicCar).to({scaleX:1.1,scaleY:.85},300,Phaser.Easing.Linear.None,!0).chain(i.Main.instance.add.tween(this.graphicCar).to({scaleX:1,scaleY:1},500,Phaser.Easing.Linear.None)),this.graphicBumpHead1.visible=!0,this.graphicBumpHead1.animations.play("bumpHead"),this.graphicBumpHead2.visible=!0,this.graphicBumpHead2.animations.play("bumpHead"),this.bumpHeadActive=!0,this.bumpHeadCoun=0):e===t.bumpStars?(this.setChildPos(.5),this.graphicBumpHead1.visible=!0,this.graphicBumpHead1.animations.play("bumpHead"),this.graphicBumpHead2.visible=!0,this.graphicBumpHead2.animations.play("bumpHead"),this.currEyesState=a.bumpForEver,this.setClickable(!1)):e===t.acceleration?(this.setChildPos(.5),i.Main.instance.add.tween(this.graphicCar).to({skewX:-.2},100,Phaser.Easing.Linear.None,!0).chain(i.Main.instance.add.tween(this.graphicCar).to({skewX:0},300,Phaser.Easing.Linear.None)),this.currEyesState=a.lookForward,null!==this.graphicStartSmoke&&(this.graphicStartSmoke.visible=!0,this.graphicStartSmoke.animations.play("start"))):e===t.brake&&(this.setChildPos(.5),i.Main.instance.add.tween(this.graphicCar).to({skewX:.2},100,Phaser.Easing.Linear.None,!0).chain(i.Main.instance.add.tween(this.graphicCar).to({skewX:0},300,Phaser.Easing.Linear.None)),this.currEyesState=a.stand,this.countBackLight=0,this.backLightActive=!0,this.graphicBackLight.frameName="backLight instance 10001")},s.prototype.update=function(){this.baseGroup.x=this.bodyBase.x,this.baseGroup.y=this.bodyBase.y,this.baseGroup.rotation=this.bodyBase.rotation,this.blackForWheels.x=this.baseGroup.x,this.blackForWheels.y=this.baseGroup.y,this.blackForWheels.rotation=this.baseGroup.rotation,this.wheelBack.x=this.bodyWheelBack.x,this.wheelBack.y=this.bodyWheelBack.y,this.wheelBack.rotation=this.bodyWheelBack.rotation,this.wheelFront.x=this.bodyWheelFront.x,this.wheelFront.y=this.bodyWheelFront.y,this.wheelFront.rotation=this.bodyWheelFront.rotation,!0===this.startEyes&&(this.countEyes+=1,this.countEyes>=this.totalEyes)&&(this.startEyes=!1,this._currEyesState===a.stand?this.currEyesState=a.idle:this._currEyesState===a.bump?this.currEyesState=a.stand:this._currEyesState===a.big&&(this.currEyesState=a.bump)),!0===this.backLightActive&&(this.countBackLight+=1,this.countBackLight>=this.totalBackLight)&&(this.backLightActive=!1,this.graphicBackLight.frameName="backLight instance 10000"),!0===this.bumpHeadActive&&(this.bumpHeadCoun+=1,this.bumpHeadCoun>=this.bumpHeadTotal)&&(this.bumpHeadActive=!1,this.graphicBumpHead1.animations.stop("bumpHead",!0),this.graphicBumpHead2.animations.stop("bumpHead",!0),this.graphicBumpHead1.visible=!1,this.graphicBumpHead2.visible=!1)},s.prototype.hideStartSmoke=function(){this.graphicStartSmoke.visible=!1,this.graphicStartSmoke.destroy(),this.graphicStartSmoke=null},s.prototype.onAnimationComplete=function(){this._currEyesState!==a.idle&&this._currEyesState!==a.turn||(this.currEyesState=a.stand)},Object.defineProperty(s.prototype,"currEyesState",{get:function(){return this._currEyesState},set:function(e){(this._currEyesState!==a.idle||e!==a.lookDown&&e!==a.lookUp)&&e!==this._currEyesState&&(this._currEyesState=e,this.countEyes=0,this.startEyes=!1,e===a.stand?(this.graphicEyes.animations.play("stand"),this.totalEyes=i.Tools.random(100,200),this.startEyes=!0):e===a.idle?this.graphicEyes.animations.play("idle"+i.Tools.random(1,4)):e===a.finish?this.graphicEyes.animations.play("finish"):e===a.lookDown?this.graphicEyes.animations.play("lookDown"):e===a.lookUp?this.graphicEyes.animations.play("lookUp"):e===a.lookForward?this.graphicEyes.animations.play("stand"):e===a.bump?(this.graphicEyes.animations.play("bump"),this.totalEyes=30,this.startEyes=!0):e===a.bumpForEver?this.graphicEyes.animations.play("bump"):e===a.big?(this.graphicEyes.animations.play("big"),this.totalEyes=20,this.startEyes=!0):e===a.turn?this.graphicEyes.animations.play("turn"):e===a.afraid?this.graphicEyes.animations.play("afraid"):e===a.tense&&this.graphicEyes.animations.play("tense"))},enumerable:!1,configurable:!0}),s.prototype.setClickable=function(e){},s.prototype.free=function(){n.prototype.free.call(this),this._currEyesState=null,this.baseGroup=null,this.graphicCar=null,this.graphicEyes=null,this.graphicBumpHead1=null,this.graphicBumpHead2=null,this.graphicShok=null,this.wheelBack=null,this.wheelFront=null,this.blackForWheels=null,this.graphicStartSmoke=null,this.graphicBackLight=null,this.gas.free(),this.gas=null},e=s,i.BHeroGraphic=e})(Wheely=Wheely||{}),(e=>{var r;function t(e,t,a){this.parts=new Array;for(var i,n=500,s=1;s<9;s++)i=r.GameManager.instance.layerElements.create(t,a,"wheely","car_BPart"+s+" instance 10000"),e.physics.box2d.enable(i),i.body.velocity.x=r.Tools.random(-n,n),i.body.velocity.y=r.Tools.random(-n,n),i.body.angularVelocity=r.Tools.random(-20,20);i=r.GameManager.instance.layerElements.create(t,a,"wheely","eyes instance 10335"),e.physics.box2d.enable(i),i.body.velocity.x=r.Tools.random(-n,n),i.body.velocity.y=r.Tools.random(-n,n),i.body.angularVelocity=r.Tools.random(-20,20)}r=e.Client||(e.Client={}),t.prototype.free=function(){this.parts=[],this.parts=null},r.BrokeHero=t})(Wheely=Wheely||{}),(e=>{var n=e.Client||(e.Client={});function t(e,t){this.counterCreate=0,this.parentGroup=e,this.timeCreate=t,this.gas=new Array}t.prototype.updateCreation=function(e,t){if(this.counterCreate+=1,!(this.counterCreate<this.timeCreate)){for(var a=this.counterCreate=0;a<this.gas.length;a++)if(!1===this.gas[a].visible)return void this.gas[a].start(e,t,n.Tools.random(2,10)/10);var i=new r(e,t,"wheely","exhaustgas instance 10000");i.start(e,t,n.Tools.random(2,10)/10),this.parentGroup.addChild(i),this.gas.push(i)}},t.prototype.free=function(){this.gas=[],this.gas=null},n.ExhaustGas=t,s=Phaser.Sprite,__extends(a,s),a.prototype.start=function(e,t,a){this.position.setTo(e,t),this.scale.setTo(a),this.visible=!0},a.prototype.update=function(){!1!==this.visible&&(this.counter+=1,0<this.counter&&this.counter<=7?(this.x-=.25,this.y-=.375,this.scale.x+=.0375,this.scale.y=this.scale.x):8<this.counter&&this.counter<=14?(this.x-=.375,this.y-=.9,this.scale.x-=.0875,this.scale.y=this.scale.x):15===this.counter&&(this.counter=0,this.visible=!1))};var s,r=a;function a(e,t,a,i){e=s.call(this,n.Main.instance,e,t,a,i)||this;return e.counter=0,e.anchor.setTo(.5),e}n.GasPart=r})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a,i){void 0===i&&(i=1);e=s.call(this,e,t,a)||this;return e.m_keepAngle=!0,e.freeRotateAvaliable=!1,e.maxMotorSpeed=5,e.m_motorSpeed=0,e.m_boostOn=!1,e.m_boostAngularDamping=0,e.m_countBoost=0,e.m_boostWheelsFriction=4,e.m_On=!1,e.animationEnable=!0,e.counterFinish=0,e.stopUpdateMoving=!1,e._clicable=!0,e.angleKeep=n.Tools.toRad(45),e.currState=n.HeroState.stand,e.currDirection=i,e.graphicCar.events.onInputUp.add(e.onInputUpHandler,e),e}n=e.Client||(e.Client={}),s=n.BHeroGraphic,__extends(t,s),Object.defineProperty(t.prototype,"motorSpeed",{get:function(){return this.m_motorSpeed},set:function(e){this.m_motorSpeed=e*this.currDirection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currDirection",{get:function(){return this._currDirection},set:function(e){e!==this._currDirection&&(this._currDirection=e,1===this._currDirection?(this.currDriveWheel=this.jointBack,this.currBoostWheel=this.jointFront):(this.currDriveWheel=this.jointFront,this.currBoostWheel=this.jointBack),this.baseGroup.scale.x=this._currDirection,this.currDriveWheel.EnableMotor(!0),this.currBoostWheel.EnableMotor(!1),this.m_motorSpeed*=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currState",{get:function(){return this._currState},set:function(e){this._currState!==n.HeroState.finish&&e!==this._currState&&(this._currState=e,!0!==this.animationEnable&&e!==n.HeroState.finish||this.goAnimation(e),this.animationEnable=!0)},enumerable:!1,configurable:!0}),t.prototype.onInputUpHandler=function(e,t,a){!1!==a&&(this.setEnableMotor(!this.m_On),n.GameManager.instance.level.customAction())},t.prototype.getEnableMotor=function(){return this.m_On},t.prototype.setEnableMotor=function(e,t){this.animationEnable=t=void 0===t?!0:t,this.m_On!==e&&(!1===(this.m_On=e)?(!0===t&&n.SoundManager.playSFX("whelly_stop"),!1===this.freeRotateAvaliable?(this.bodyWheelBack.fixedRotation=!0,this.bodyWheelFront.fixedRotation=!0):(this.currDriveWheel.EnableMotor(!1),this.currDriveWheel.EnableMotor(!1)),this.motorSpeed=0,this.currState=n.HeroState.brake,this.setWheelsFrictions(this.m_wheelsFriction)):(!0===t&&n.SoundManager.playSFX("whelly_start"),this.bodyWheelBack.fixedRotation=!1,!(this.bodyWheelFront.fixedRotation=!1)===this.m_boostOn?(this.currBoostWheel.EnableMotor(!0),this.motorSpeed=this.m_boostSpeed,this.setWheelsFrictions(this.m_boostWheelsFriction)):(this.motorSpeed=this.maxMotorSpeed,this.setWheelsFrictions(this.m_wheelsFriction)),this.currState=n.HeroState.acceleration))},t.prototype.setWheelsFrictions=function(e){this.bodyWheelBack.friction=e,this.bodyWheelFront.friction=e},t.prototype.setWheelsRotateAvailable=function(e){this.freeRotateAvaliable=e,this.currState!==n.HeroState.acceleration&&(!0===e&&(n.GameManager.instance.hero.bodyWheelBack.fixedRotation=!e),this.currDriveWheel.EnableMotor(!e),n.GameManager.instance.hero.bodyWheelFront.fixedRotation=!e)},t.prototype.update=function(){this.currState===n.HeroState.finish&&(this.counterFinish+=1,50===this.counterFinish)&&n.LevelBuilder.instance.levelComplete(),s.prototype.update.call(this),!1===this.stopUpdateMoving&&this.updateMoving(),this.updateBoost(),this.currState!==n.HeroState.bumpHead&&this.currEyesState!==n.EyesState.turn&&this.currState!==n.HeroState.bumpStars&&this.currEyesState!==n.EyesState.afraid&&this.currEyesState!==n.EyesState.finish&&(60<this.bodyBase.velocity.y?this.currEyesState=n.EyesState.lookDown:this.bodyBase.velocity.y<-60?this.currEyesState=n.EyesState.lookUp:this.currEyesState!==n.EyesState.lookDown&&this.currEyesState!==n.EyesState.lookUp||(!0===this.m_On&&this.currEyesState!==n.EyesState.lookForward?this.currEyesState=n.EyesState.lookForward:!1===this.m_On&&this.currEyesState!==n.EyesState.stand&&(this.currEyesState=n.EyesState.stand))),this.keepAngle()},t.prototype.updateMoving=function(){var e;this.currState===n.HeroState.acceleration&&(!1===this.freeRotateAvaliable&&this.currDriveWheel.SetMotorSpeed(this.motorSpeed),e=this.baseGroup.toGlobal(new PIXI.Point(5*Math.random()-67-5*Math.random(),23+5*Math.random()-5*Math.random())),this.gas.updateCreation(e.x+n.Main.instance.camera.x,e.y+n.Main.instance.camera.y))},t.prototype.updateBoost=function(){!0===this.m_boostOn&&(this.currBoostWheel.SetMotorSpeed(this.motorSpeed),this.bodyBase.angularDamping=this.m_boostAngularDamping,!0===this.m_On)&&(this.m_countBoost+=1,this.m_countBoost>=this.m_totalCountBoost)&&(this.m_boostOn=!1,this.bodyBase.angularDamping=0,this.currBoostWheel.EnableMotor(!1),this.setWheelsFrictions(this.m_wheelsFriction),!0===this.m_On)&&(this.motorSpeed=this.maxMotorSpeed)},t.prototype.boost=function(e,t,a,i){void 0===a&&(a=0),void 0===i&&(i=this.m_boostWheelsFriction),this.m_boostWheelsFriction=i,this.m_countBoost=0,this.m_totalCountBoost=t,this.m_boostSpeed=e,!0!==this.m_boostOn&&(this.m_boostAngularDamping=a,(this.m_boostOn=!0)===this.m_On)&&(this.motorSpeed=this.m_boostSpeed,this.currBoostWheel.EnableMotor(!0),this.setWheelsFrictions(this.m_boostWheelsFriction))},t.prototype.dumping=function(e){this.bodyBase.velocity.x/=e=void 0===e?1:e,this.bodyWheelBack.angularVelocity/=e,this.bodyWheelFront.angularVelocity/=e},t.prototype.dumpingAngle=function(e){this.bodyBase.angle/=e},t.prototype.setKeepAngle=function(e){this.m_keepAngle=e},t.prototype.keepAngle=function(){!1!==this.m_keepAngle&&(this.bodyBase.rotation>this.angleKeep?this.bodyBase.rotation=this.angleKeep:this.bodyBase.rotation<-this.angleKeep&&(this.bodyBase.rotation=-this.angleKeep))},t.prototype.setVisibility=function(e){this.baseGroup.visible=e,this.blackForWheels.visible=e,this.wheelBack.visible=e,this.wheelFront.visible=e,this.bodyBase.data.SetActive(e),this.bodyWheelBack.data.SetActive(e),this.bodyWheelFront.data.SetActive(e),!0===this._clicable&&this.setClickable(e)},t.prototype.setClickable=function(e){this._clicable=e,this.graphicCar.frameName=this.carFrameOut,!0===(this.graphicCar.inputEnabled=e)&&(this.graphicCar.input.useHandCursor=e)},t.prototype.setCollideWorldBounds=function(e){this.bodyBase.collideWorldBounds=e,this.bodyWheelBack.collideWorldBounds=e,this.bodyWheelFront.collideWorldBounds=e},t.prototype.clearVelosityX=function(){this.bodyBase.velocity.x=0,this.bodyWheelBack.velocity.x=0,this.bodyWheelFront.velocity.x=0,this.bodyWheelBack.angularVelocity=0,this.bodyWheelFront.angularVelocity=0},t.prototype.clearVelosityY=function(){this.bodyBase.velocity.y=0,this.bodyWheelBack.velocity.y=0,this.bodyWheelFront.velocity.y=0},t.prototype.setPosition=function(e,t){void 0===t&&(t=null),null!==(e=void 0===e?null:e)&&(this.bodyBase.x=e,this.bodyWheelBack.x=e-this.wheelsOffX,this.bodyWheelFront.x=e+this.wheelsOffX),null!==t&&(this.bodyBase.y=t,this.bodyWheelBack.y=t+this.wheelsOffY,this.bodyWheelFront.y=t+this.wheelsOffY)},t.prototype.addShock=function(){this.graphicCar.visible=!1,this.graphicShok=this.baseGroup.create(0,0,"wheely"),this.graphicShok.animations.add("shock",Phaser.Animation.generateFrameNames("carBody_shock instance 1",0,5,"",4),5),this.graphicShok.anchor.setTo(.5),this.graphicShok.visible=!1,this.graphicShok.events.onAnimationComplete.addOnce(this.onAnimationShockComplete,this),n.SoundManager.playSFX("eShock"),this.graphicShok.visible=!0,this.graphicShok.animations.play("shock")},t.prototype.onAnimationShockComplete=function(){n.LevelBuilder.instance.levelFailed()},t.prototype.addLight=function(){this.baseGroup.create(27,-28,"wheely","light instance 10000")},t.prototype.changeDirection=function(e){void 0===e&&(e=!0),this.currDirection*=-1,this.currEyesState=n.EyesState.turn,!0===e&&(this.bodyBase.rotation+=n.Tools.toRad(360)*this.currDirection)},t.prototype.addSpaceSuit=function(e){void 0===e&&(e=!1);var t=this.game.make.sprite(62,25,"level12","spaceSuitOnWheely instance 10000");t.anchor.setTo(.5),this.graphicCar.addChild(t),t=null,this.turbine1=this.game.make.sprite(17,25,"level12","spacesuitTurb1 instance 10000"),this.turbine1.anchor.setTo(.65,.5),this.graphicCar.addChild(this.turbine1),this.turbine1Fire=this.game.make.sprite(-17,-9,"level12"),this.turbine1Fire.angle=76.7,this.turbine1Fire.animations.add("anim",Phaser.Animation.generateFrameNames("spacesuitFire instance 1",0,11,"",4),30,!0),this.turbine1Fire.visible=!1,this.turbine1.addChild(this.turbine1Fire),this.turbine2=this.game.make.sprite(72,45,"level12","spacesuitTurb2 instance 10000"),this.turbine2.anchor.setTo(.6,.48),this.graphicCar.addChild(this.turbine2),this.turbine2Fire=this.game.make.sprite(-14,-4,"level12"),this.turbine2Fire.angle=57,this.turbine2Fire.scale.setTo(.8),this.turbine2Fire.animations.add("anim",Phaser.Animation.generateFrameNames("spacesuitFire instance 1",0,11,"",4),30,!0),this.turbine2Fire.visible=!1,this.turbine2.addChild(this.turbine2Fire),!0===e&&(this.turbine2Fire.visible=!0,this.turbine2Fire.animations.play("anim"),this.turbine2.angle=120)},t.prototype.turbine1Activate=function(){!0===this.m_On?(this.turbine1Fire.visible=!0,this.turbine1Fire.animations.play("anim"),n.SoundManager.playSFX("s_jet",!0)):(this.turbine1Fire.visible=!1,this.turbine1Fire.animations.stop("anim"),n.SoundManager.stopSFXLoop("s_jet"))},t.prototype.visibleSpaceSuitFire=function(e){!0===e?(this.turbine1Fire.visible=!0,this.turbine2Fire.visible=!0,this.turbine1Fire.animations.play("anim"),this.turbine2Fire.animations.play("anim")):(this.turbine1Fire.visible=!1,this.turbine2Fire.visible=!1,this.turbine1Fire.animations.stop("anim"),this.turbine2Fire.animations.stop("anim"))},t.prototype.controllSpaceSuit=function(e,t){this.turbine1.angle=this.turbine2.angle=t,this.bodyBase.setZeroVelocity(),this.bodyBase.applyForce(e.x/4,e.y/4)},t.prototype.free=function(){s.prototype.free.call(this),this.turbine1=null,this.turbine1Fire=null,this.turbine2=null,this.turbine2Fire=null,this._currState=null,this.currDriveWheel=null,this.currBoostWheel=null},n.Hero=t})(Wheely=Wheely||{}),(e=>{var a,t;function i(){var e=t.call(this)||this;return e.active=!1,e.counter=0,e.graphics=new Array,e}a=e.Client||(e.Client={}),t=a.BasicElement,__extends(i,t),i.prototype.start=function(){this.active=!0,a.SoundManager.playSFX("276_lvl10_s_boost")},i.prototype.stop=function(){this.active=!1},i.prototype.update=function(){if(!1!==this.active&&(this.counter+=1,!(this.counter<2))){for(var e=this.counter=0;e<this.graphics.length;e++)if(!1===this.graphics[e].visible)return this.graphics[e].x=a.GameManager.instance.hero.baseGroup.x,this.graphics[e].y=a.GameManager.instance.hero.baseGroup.y,this.graphics[e].alpha=1,this.graphics[e].visible=!0,this.graphics[e].rotation=a.GameManager.instance.hero.baseGroup.rotation,void this.addTween(e);var t=a.GameManager.instance.layerBackground.create(a.GameManager.instance.hero.baseGroup.x,a.GameManager.instance.hero.baseGroup.y,"wheely","tail instance 10000");t.anchor.setTo(.5),t.rotation=a.GameManager.instance.hero.baseGroup.rotation,this.graphics.push(t),this.addTween(this.graphics.length-1)}},i.prototype.addTween=function(e){a.Main.instance.add.tween(this.graphics[e]).to({alpha:0},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.graphics[e].visible=!1},this)},i.prototype.free=function(){this.graphics=[],this.graphics=null},a.Tail=i})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.work=!1,i.active=!1,i.staticTimer=0,i.connected=!1,i.brokenCutter=!1,i.grassCutting=!1,i.smoke=null,i.game=e,i.cutter=new Phaser.Physics.Box2D.Body(i.game,null,t,a,2),i.cutter.setRectangle(85,30),n.GameManager.instance.hero.bodyBase.setBodyContactCallback(i.cutter,i.activateCutter,i),i.stopper=new Phaser.Physics.Box2D.Body(i.game,null,622,493,0),i.stopper.setCircle(7),i.sensor=new Phaser.Physics.Box2D.Body(i.game,null,420,484,0),i.sensor.setRectangle(20,27),i.sensor.sensor=!0,i.cutter.setBodyContactCallback(i.sensor,i.startCuteGrass,i),i.graphic=n.GameManager.instance.layerElements.create(t,a,"level1","grassCutter instance 10000"),i.graphic.animations.add("move",Phaser.Animation.generateFrameNames("grassCutter instance 1",0,14,"",4),35,!0),i.graphic.anchor.set(.5),i.wheel1=n.GameManager.instance.layerElements.create(t-10,a+18,"level1","grassCutterWheel instance 10000"),i.game.physics.box2d.enable(i.wheel1),i.wheel1.body.setCircle(8),i.wheel2=n.GameManager.instance.layerElements.create(t+27,a+18,"level1","grassCutterWheel instance 10000"),i.game.physics.box2d.enable(i.wheel2),i.wheel2.body.setCircle(8),i.game.physics.box2d.revoluteJoint(i.cutter,i.wheel1,-10,18,0,0),i.game.physics.box2d.revoluteJoint(i.cutter,i.wheel2,27,18,0,0),i.wheel2.body.setBodyContactCallback(i.stopper,i.broke,i),i.grassSnip=n.GameManager.instance.layerElements.create(t,a,"level1","grassSnip instance 10000"),i.grassSnip.animations.add("move",Phaser.Animation.generateFrameNames("grassSnip instance 1",0,11,"",4),35,!0),i.grassSnip.anchor.set(0,1),i.grassSnip.visible=!1,i.mask=new Phaser.Graphics(i.game,410,462),i.mask.beginFill(0),i.mask.drawRect(0,0,450,35),i.mask.endFill(),n.GameManager.instance.layerUpper.addChild(i.mask),i.grass=n.GameManager.instance.layerUpper.create(410,462,"level1","grass instance 10000",!0,0),i.grass.mask=i.mask,i.carCloud=n.GameManager.instance.layerUpper.create(0,0,"level1","lvl1_bubbleGrassCutter instance 10000"),i.carCloud.anchor.set(0,1),i.carCloud.visible=!1,i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.showCarCloud=function(){this.carCloud.x=n.GameManager.instance.hero.bodyBase.x+40,this.carCloud.y=n.GameManager.instance.hero.bodyBase.y-20,this.carCloud.scale.set(0),this.carCloud.visible=!0,this.game.add.tween(this.carCloud.scale).to({x:1,y:1},500,Phaser.Easing.Back.Out,!0).onComplete.addOnce(function(){this.game.add.tween(this.carCloud.scale).to({x:0,y:0},500,Phaser.Easing.Back.In,!0,500)},this)},t.prototype.activateCutter=function(){!1===this.active&&(this.showCarCloud(),n.GameManager.instance.hero.setEnableMotor(!1),this.active=!0,this.setVisible(!1),this.fakeCutter=this.game.make.button(this.graphic.x+1,this.graphic.y+3,"level1",this.startWork,this,"fakeCutter instance 10001","fakeCutter instance 10000","fakeCutter instance 10000","fakeCutter instance 10000"),this.fakeCutter.anchor.set(.5),n.GameManager.instance.layerElements.addChild(this.fakeCutter),n.GameManager.instance.level.tutorial.show(this.fakeCutter.x,this.fakeCutter.y))},t.prototype.setVisible=function(e){this.graphic.visible=e,this.wheel1.visible=e,this.wheel2.visible=e},t.prototype.startWork=function(){this.work=!0,this.graphic.play("move"),this.cutter.static=!1,this.setVisible(!0),this.fakeCutter.inputEnabled=!1,this.fakeCutter.visible=!1,n.GameManager.instance.level.tutorial.hide(),n.SoundManager.playSFX("s_lawnmowerStart"),n.SoundManager.playSFX("s_lawnmowerLoop",!0)},t.prototype.startCuteGrass=function(e,t,a,i,n){e!==t&&!1!==n&&(this.grassSnip.play("move"),this.grassSnip.visible=!0,this.grassCutting=!0)},t.prototype.broke=function(){var e;this.brokenCutter=!0,null===this.smoke&&(this.smoke=n.GameManager.instance.layerElements.create(this.cutter.x,this.cutter.y,"level1","smoke instance 10000",!0,0),this.smoke.anchor.set(.5,0),this.smoke.scale.set(1.5),(e=new Phaser.Graphics(this.game,this.cutter.x,240)).beginFill(0),e.drawRect(-50,-250,100,500),e.endFill(),n.GameManager.instance.layerElements.addChild(e),this.smoke.mask=e,this.game.add.tween(this.smoke).to({y:-600,alpha:0},4e3,Phaser.Easing.Linear.None,!0,0,-1),this.showCarCloud(),n.SoundManager.stopSFXLoop("s_lawnmowerLoop"))},t.prototype.update=function(){this.graphic.x=this.cutter.x,this.graphic.y=this.cutter.y,this.grassSnip.x=this.cutter.x+25,this.grassSnip.y=this.cutter.y+10,!0===this.grassCutting&&(this.mask.x=this.wheel2.x+15),this.staticTimer+=1,90===this.staticTimer&&(this.cutter.static=!0),!0===this.active&&!1===this.connected&&(this.connected=!0,this.connectJ=this.game.physics.box2d.revoluteJoint(this.cutter,n.GameManager.instance.hero.bodyBase,-40,-20,60,0)),!0===this.active&&!0===this.brokenCutter&&(this.active=!1,this.work=!1,n.GameManager.instance.hero.setEnableMotor(!1),this.game.physics.box2d.world.DestroyJoint(this.connectJ),this.cutter.data.SetActive(!1),this.wheel1.body.data.SetActive(!1),this.wheel2.body.data.SetActive(!1),this.grassSnip.visible=!1,this.graphic.animations.stop()),!0===this.grassCutting&&!0===this.work&&(this.cutter.velocity.x<1?this.grassSnip.visible=!1:this.grassSnip.visible=!0)},t.prototype.free=function(){this.game=null,this.cutter=null,this.graphic=null,this.wheel1=null,this.wheel2=null,this.grass=null,this.grassSnip=null,this.mask=null,this.stopper=null,this.sensor=null,this.connectJ=null,this.fakeCutter=null,this.smoke=null,this.carCloud=null},n.Lvl1GrassCutter=t})(Wheely=Wheely||{}),(e=>{var i;function t(e,t,a){this.hided=!1,this.id=0,this.game=e,this.circle=i.GameManager.instance.layerUpper.create(t,a,"level1","circleTutorial instance 10000"),this.circle.anchor.set(.5),this.game.add.tween(this.circle).to({angle:360},4e3,Phaser.Easing.Linear.None,!0,0,-1),this.arrow=new Phaser.Sprite(this.game,t+55,a-40,""),this.arrow.angle=-35,i.GameManager.instance.layerUpper.addChild(this.arrow);e=this.game.make.sprite(0,0,"level1","arrow instance 10000");this.arrow.addChild(e),this.game.add.tween(e).to({x:e.x-15},500,Phaser.Easing.Linear.None,!0,0,-1,!0)}i=e.Client||(e.Client={}),t.prototype.show=function(e,t){this.circle.x=e,this.circle.y=t,this.arrow.x=e+55,this.arrow.y=t-40,this.circle.visible=!0,this.arrow.visible=!0,this.hided=!1,this.id++},t.prototype.hide=function(){this.circle.visible=!1,this.arrow.visible=!1,this.hided=!0},t.prototype.free=function(){this.game=null,this.circle=null,this.arrow=null},i.Lvl1Tutorial=t})(Wheely=Wheely||{}),(e=>{var s,r;function t(e,t,a,i){void 0===i&&(i=1);var n=r.call(this)||this;return n.side=1,n.game=e,n.side=i,n.cloud=s.GameManager.instance.layerElements.create(t,a,"level10","bubbleCars instance 10000"),n.cloud.anchor.set(.3,.7),n.cloud.scale.set(0),n.icon=n.game.make.sprite(-5,-30,"level10","icon instance 10000"),n.cloud.addChild(n.icon),n}s=e.Client||(e.Client={}),r=s.BasicElement,__extends(t,r),t.prototype.show=function(){this.game.add.tween(this.cloud.scale).to({x:this.side,y:1},500,Phaser.Easing.Back.Out,!0)},t.prototype.hide=function(){this.game.add.tween(this.cloud.scale).to({x:0,y:0},500,Phaser.Easing.Back.In,!0)},t.prototype.setIcon=function(e){this.icon.frameName="icon instance 1000"+e},t.prototype.free=function(){this.game=null,this.cloud=null,this.icon=null},s.Lvl10Cloud=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a,i){void 0===i&&(i=1);i=s.call(this)||this;return i.counter=1,i.game=e,i.lampPart=n.GameManager.instance.layerElements.create(t,a,"level10","lampElement instance 10000"),i.lamp=i.game.make.sprite(35,50,"level10","lamp instance 10000"),i.lamp.anchor.set(.1,.8),i.lamp.angle=40,i.lampPart.addChild(i.lamp),i.shine=i.game.make.sprite(12,-12,"level10","shine instance 10000"),i.shine.anchor.set(.3,.5),i.lamp.addChild(i.shine),i.cnangePosition(),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.flash=function(){this.game.add.tween(this.shine).to({alpha:1},200,"Linear",!0).onComplete.add(function(){this.game.add.tween(this.shine).to({alpha:0},350,"Linear",!0).onComplete.add(this.cnangePosition,this)},this)},t.prototype.cnangePosition=function(){this.counter+=1,(this.counter%2==0?this.game.add.tween(this.lamp).to({angle:-5},800,"Linear",!0,500):this.game.add.tween(this.lamp).to({angle:40},800,"Linear",!0,500)).onComplete.add(this.flash,this)},t.prototype.free=function(){this.lampPart=null,this.lamp=null,this.shine=null},n.Lvl10Lamp=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a,i){void 0===i&&(i=0);e=s.call(this,e)||this;return e.wire=null,e.timer=0,e.workNow=!0,e.id=i,e.x=t,e.y=a,e.topPart=e.create(0,0,"level10","laserTop instance 10000"),e.topPart.anchor.set(.5),e.topPart.animations.add("work",Phaser.Animation.generateFrameNames("laserTop instance 1",0,11,"",4),35,!0),e.topPart.play("work"),e.laser=e.create(2,0,"level10","laser instance 10000",!0,0),e.laser.anchor.set(.5,0),e.game.add.tween(e.laser.scale).to({x:1.2},200,"Linear",!0,0,-1,!0),e.energy=e.game.make.sprite(-13,0,"level10","energy instance 10000"),e.energy.animations.add("work",Phaser.Animation.generateFrameNames("energy instance 1",0,32,"",4),35,!0),e.energy.play("work"),e.laser.addChild(e.energy),e.create(0,123,"level10","laserBot instance 10000").anchor.set(.5),e.laserBody=new Phaser.Physics.Box2D.Body(e.game,null,t,a+60,1),e.laserBody.setRectangle(8,120,0,0),e.laserBody.sensor=!0,n.GameManager.instance.hero.bodyBase.setBodyContactCallback(e.laserBody,e.shokHero,e),e}n=e.Client||(e.Client={}),s=Phaser.Group,__extends(t,s),t.prototype.shokHero=function(){n.GameManager.instance.hero.setEnableMotor(!1,!1),n.GameManager.instance.hero.addShock(),n.SoundManager.playSFX("lvl14_electricityDeadly")},t.prototype.addWire=function(){this.wire=this.create(0,122,"level10","wireEnergy instance 10000"),this.wire.anchor.set(.5),this.wire.animations.add("work",Phaser.Animation.generateFrameNames("wireEnergy instance 1",0,17,"",4),35,!0),this.wire.play("work"),this.electricity=this.create(0,122,"level10","electricity instance 10000"),this.electricity.anchor.set(.5),this.electricity.animations.add("work",Phaser.Animation.generateFrameNames("electricity instance 1",0,11,"",4),35,!0),this.electricity.play("work")},t.prototype.on=function(){this.game.add.tween(this.laserBody).to({y:this.y+60},100,"Linear",!0),this.laser.visible=!0,null!=this.wire&&(this.wire.play("work"),this.electricity.visible=!0,this.electricity.play("work"))},t.prototype.off=function(){this.game.add.tween(this.laserBody).to({y:this.y-60},100,"Linear",!0),this.laser.visible=!1,null!=this.wire&&(this.wire.animations.stop(),this.electricity.visible=!1,this.electricity.animations.stop())},t.prototype.update=function(){1===this.id&&(this.timer+=1,!0===this.workNow?60===this.timer&&(this.off(),this.timer=0,this.workNow=!this.workNow):180===this.timer&&(this.on(),this.timer=0,this.workNow=!this.workNow))},t.prototype.destroy=function(){s.prototype.destroy.call(this),this.topPart=null,this.laser=null,this.energy=null,this.laserBody=null,this.wire=null,this.electricity=null},n.Lvl10Laser=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.takeCar=!1,i.currentFrame=0,i.haveRealCar=!1,i.time=74996,i.deltaTime=0,i.game=e,i.monitor=n.GameManager.instance.layerBackground.create(t,a,"level10","monitor instance 10000"),i.monitor.inputEnabled=!0,i.monitor.input.useHandCursor=!0,i.monitor.events.onInputOver.add(i.over,i),i.monitor.events.onInputOut.add(i.out,i),i.monitor.events.onInputUp.add(i.up,i),i.overEffect=n.GameManager.instance.layerBackground.create(t,a,"level10","monitorOver instance 10000"),i.overEffect.visible=!1,i.mText=new Phaser.Text(i.game,145,15,"hi",{font:"22px Arial Narrow",fill:"#00FFFF",align:"left"}),i.monitor.addChild(i.mText),i.addQuestCar(),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.hideQuestCar=function(){this.takeCar=!0},t.prototype.addQuestCar=function(){this.questCarAnim=this.game.make.sprite(120,100,"level10","questCarAnim instance 10000"),this.questCarAnim.animations.add("move",Phaser.Animation.generateFrameNames("questCarAnim instance 1",0,9,"",4),35,!1).onComplete.addOnce(this.addRealCar,this),this.questCarAnim.anchor.set(.5),this.questCarAnim.inputEnabled=!0,this.questCarAnim.input.useHandCursor=!0,this.questCarAnim.events.onInputUp.add(this.clickOnCar,this),this.monitor.addChild(this.questCarAnim),this.questCarAnim.visible=!1},t.prototype.addRealCar=function(){this.haveRealCar=!0,this.questCarAnim.visible=!1,n.GameManager.instance.level.addQuestCar(this.questCarAnim.x+2,this.questCarAnim.y+4,this.monitor)},t.prototype.clickOnCar=function(){this.questCarAnim.play("move")},t.prototype.up=function(){this.currentFrame+=1,2<this.currentFrame&&(this.currentFrame=0),this.monitor.frameName="monitor instance 1000"+this.currentFrame,!1===n.GameManager.instance.level.questCarFounded&&!1===this.takeCar&&(2===this.currentFrame?!0===this.haveRealCar?(this.questCarAnim.visible=!1,n.GameManager.instance.level.questCar.visible=!0):this.questCarAnim.visible=!0:(this.questCarAnim.visible=!1,null!==n.GameManager.instance.level.questCar&&(n.GameManager.instance.level.questCar.visible=!1)))},t.prototype.over=function(){this.overEffect.visible=!0},t.prototype.out=function(){this.overEffect.visible=!1},t.prototype.updateTimer=function(e){this.deltaTime+=e,1<this.deltaTime&&(this.deltaTime--,this.time--);var e="",e=Math.floor(this.time/3600)+":",t=Math.floor(this.time%3600/60);e+=t<10?"0"+t+":":t+":",t=this.time%60,this.mText.text=""+(e+=t<10?"0"+t:t)},t.prototype.update=function(){this.updateTimer(60)},t.prototype.free=function(){this.game=null,this.monitor=null,this.overEffect=null,this.mText=null,this.questCarAnim=null},n.Lvl10Monitor=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.doorClosed=!1,i.heroBoosted=!1,i.game=e,i.rocket=new Phaser.Group(i.game),i.rocket.x=t,i.rocket.y=a,n.GameManager.instance.layerElements.addChild(i.rocket),i.doorConnect=i.rocket.create(-72,75,"level10","doorConnect instance 10000"),i.doorConnect.anchor.set(.5),i.doorConnect.angle=48,i.door=i.rocket.create(-80,75,"level10","door instance 10000"),i.door.anchor.set(0,1),i.rocket.create(0,0,"level10","rocket instance 10000").anchor.set(.5),i.rocketBody=new Phaser.Physics.Box2D.Body(i.game,null,t,a,1),i.rocketBody.setRectangle(300,10,-80,60,n.Tools.toRad(-15)),i.rocketBody.addRectangle(10,50,65,-35),i.doorBody=new Phaser.Physics.Box2D.Body(i.game,null,t,a,1),i.doorBody.setRectangle(10,100,-80,0),i.doorBody.sensor=!0,i.openDoor(),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.openDoor=function(){this.game.add.tween(this.door).to({angle:-104},600,Phaser.Easing.Linear.None,!0,200),this.game.add.tween(this.doorConnect).to({angle:0,x:this.doorConnect.x-5,y:this.doorConnect.y-8},600,Phaser.Easing.Linear.None,!0,200)},t.prototype.closeDoor=function(){n.SoundManager.playSFX("s_rocketDoor"),this.game.add.tween(this.door).to({angle:0},600,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.doorConnect).to({angle:48,x:this.doorConnect.x+5,y:this.doorConnect.y+8},600,Phaser.Easing.Linear.None,!0).onComplete.add(this.moveOut,this)},t.prototype.moveOut=function(){this.game.add.tween(this.rocketBody).to({x:950},2500,Phaser.Easing.Linear.None,!0).onComplete.add(this.finishLevel,this)},t.prototype.finishLevel=function(){n.LevelBuilder.instance.levelComplete()},t.prototype.update=function(){!1===this.heroBoosted&&350<n.GameManager.instance.hero.bodyBase.y&&(this.heroBoosted=!0,n.GameManager.instance.hero.bodyWheelBack.friction=7,n.GameManager.instance.hero.bodyWheelFront.friction=7),!1===this.doorClosed&&670<n.GameManager.instance.hero.bodyBase.x&&(this.doorClosed=!0,this.doorBody.sensor=!1,this.closeDoor(),n.GameManager.instance.hero.setEnableMotor(!1,!1)),this.rocket.x=this.rocketBody.x,this.rocket.y=this.rocketBody.y,this.doorBody.x=this.rocketBody.x},t.prototype.free=function(){this.game=null,this.door=null,this.doorConnect=null,this.rocket=null,this.rocketBody=null,this.doorBody=null},n.Lvl10Rocket=t})(Wheely=Wheely||{}),(e=>{var t,a;function i(e){e=a.call(this,e)||this;return e.create(15,-30,"level11","backWall instance 10000"),e.oxygen=new t.Lvl11Oxygen(e.game),e.oxygen.x=-70,e.oxygen.y=55,e.addChild(e.oxygen),e.fuelTank=new t.Lvl11FuelTank(e.game),e.fuelTank.x=-15,e.fuelTank.y=410,e.addChild(e.fuelTank),e}t=e.Client||(e.Client={}),a=Phaser.Group,__extends(i,a),i.prototype.setEnabled=function(){this.oxygen.setEnabled(),this.fuelTank.setEnabled()},i.prototype.destroy=function(){a.prototype.destroy.call(this),this.fuelTank=null,this.oxygen=null},t.Lvl11BackWall=i})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var e=i.call(this,e)||this,t=(e.drag=!1,e.connect=!1,e.fuelHandler=e.game.make.button(38,-55,"level11",null,e,"fuelHandler instance 10001","fuelHandler instance 10000","fuelHandler instance 10002"),e.fuelHandler.inputEnabled=!1,e.fuelHandler.events.onInputDown.add(e.changeFrame,e),e.fuelHandler.anchor.set(.9,.5),e.fuelHandler.angle=45,e.addChild(e.fuelHandler),e.fuelBack=e.create(25,-107,"level11","fuelBack instance 10000"),e.fuel=new Phaser.Graphics(e.game,25,-107),e.fuel.beginFill(0),e.fuel.drawRect(0,0,83,84),e.fuel.endFill(),e.addChild(e.fuel),new Phaser.Graphics(e.game,25,-107));return t.beginFill(0),t.drawRect(0,0,83,84),t.endFill(),e.addChild(t),e.fuel.mask=t,e.pipe=e.create(0,0,"level11","pipe instance 10000"),e.fuelPipe=e.game.make.sprite(16,9,"level11","fuel instance 10000"),e.fuelPipe.animations.add("move1",Phaser.Animation.generateFrameNames("fuel instance 1",0,32,"",4),35,!1).onComplete.add(function(){!1===this.connect&&a.GameManager.instance.level.addFuelFail(this.headerBody.world.x+2,this.headerBody.world.y+11)},e),e.fuelPipe.animations.add("move2",Phaser.Animation.generateFrameNames("fuel instance 1",33,61,"",4),35,!1).onComplete.add(function(){a.SoundManager.stopSFXLoop("s_refueling"),a.GameManager.instance.level.goToCheckpoint(2),this.game.add.tween(this.pipe).to({x:0},1500,"Linear",!0),this.game.add.tween(this.headerBody).to({x:-13},1500,"Linear",!0)},e),e.pipe.addChild(e.fuelPipe),e.pipePart=e.game.make.sprite(19,-11,"level11","fuelPipe instance 10000"),e.pipe.addChild(e.pipePart),e.headerBody=e.game.make.button(-13,-3,"level11",e.stopDrug,e,"headerBody instance 10001","headerBody instance 10000","headerBody instance 10000","headerBody instance 10000"),e.headerBody.events.onInputDown.add(e.startDrag,e),e.addChild(e.headerBody),e.headerBody.inputEnabled=!1,e.headerBody.input.enableDrag(),e.headerBody.input.boundsRect=new Phaser.Rectangle(-129,e.headerBody.y,142,e.headerBody.height),e.headerBody.input.setDragLock(!0,!1),e.fuelTank=e.create(2,-117,"level11","fuelTank instance 10000"),e}a=e.Client||(e.Client={}),i=Phaser.Group,__extends(t,i),t.prototype.setEnabled=function(){this.fuelHandler.inputEnabled=!0,this.fuelHandler.input.useHandCursor=!0,this.headerBody.inputEnabled=!0,this.headerBody.input.useHandCursor=!0},t.prototype.update=function(){!0===this.drag&&(this.pipe.x=this.headerBody.x+13,this.headerBody.x<=-129)&&(this.headerBody.input.disableDrag(),this.headerBody.inputEnabled=!1,this.headerBody.frameName="headerBody instance 10002",this.stopDrug(),this.connect=!0,a.SoundManager.playSFX("s_fuelConnect"))},t.prototype.startDrag=function(){this.drag=!0},t.prototype.stopDrug=function(){this.drag=!1},t.prototype.changeFrame=function(){this.fuelHandler.inputEnabled=!1,this.fuelHandler.frameName="fuelHandler instance 10002",this.headerBody.inputEnabled=!1,this.headerBody.frameName="headerBody instance 10002",this.game.add.tween(this.fuelHandler).to({angle:-33},400,"Linear",!0).onComplete.add(this.useHandler,this)},t.prototype.useHandler=function(){!0===this.connect?(a.SoundManager.playSFX("s_refueling",!0),this.game.add.tween(this.fuel).to({y:this.fuel.y+90},8e3,"Linear",!0).onComplete.addOnce(function(){this.fuelPipe.play("move2")},this)):this.game.add.tween(this.fuel).to({y:this.fuel.y+82},8e3,"Linear",!0),this.fuelPipe.play("move1")},t.prototype.crush=function(){a.SoundManager.playSFX("s_fuelExplosion"),this.fuelTank.frameName="fuelTank instance 10001",this.fuelBack.frameName="fuelBack instance 10001",this.pipePart.frameName="fuelPipe instance 10001",this.game.add.tween(this.headerBody).to({x:this.headerBody.x-400,y:this.headerBody.y+300,angle:360},300,"Linear",!0)},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.fuelPipe=null,this.fuel=null,this.pipe=null,this.headerBody=null,this.fuelHandler=null,this.fuelTank=null,this.pipePart=null,this.fuelBack=null},a.Lvl11FuelTank=t})(Wheely=Wheely||{}),(e=>{var s,t;function a(e){e=t.call(this,e)||this;return e.wire=[[862,170,179],[858,188,-166],[854,205,-166],[849,220,-166],[845,237,-166],[854,247,119],[861,240,14],[865,226,14],[871,211,14],[876,193,14],[880,177,14]],e.dragNow=!1,e.connected=!1,e.haveGoodOxy=!1,e.haveBoomOxy=!1,e.fuelHandler=new s.Lvl11RotateRuchag(e.game,38,70,35,-35),e.addChild(e.fuelHandler),e.create(20,0,"level11","oxygenBody_mc instance 10000"),e.arrow=e.create(83,52,"level11","oxygenArrow instance 10000"),e.arrow.pivot.set(10,44),e.arrow.angle=-140,e.oxygenHandler=s.GameManager.instance.layerElements.create(856,147,"level11","oxygenHandler_mc instance 10000",!0,0),e.game.physics.box2d.enable(e.oxygenHandler),e.oxygenHandler.body.mass=.01,e.oxygenHandler.body.kinematic=!0,e.oxygenHandler.body.angle=-40,e.oxygenHandler.body.data.SetUserData("DragBody"),e.oxygenHandler.events.onInputDown.add(e.startDrag,e),e.oxygenHandler.events.onInputUp.add(e.stopDrag,e),e.oxygenHandler.events.onInputOver.add(e.over,e),e.oxygenHandler.events.onInputOut.add(e.out,e),e.lastBodyConnect=new Phaser.Physics.Box2D.Body(e.game,null,880,177,0),e.lastBodyConnect.setRectangle(0,0,10,10),e.lastBodyConnect.sensor=!0,e.lastBodyConnect.kinematic=!0,e.createChain(),s.GameManager.instance.layerElements.setChildIndex(e.oxygenHandler,s.GameManager.instance.layerElements.length-1),e}s=e.Client||(e.Client={}),t=Phaser.Group,__extends(a,t),a.prototype.setEnabled=function(){this.oxygenHandler.inputEnabled=!0,this.oxygenHandler.input.useHandCursor=!0,this.fuelHandler.setEnabled(!0)},a.prototype.startDrag=function(){(this.dragNow=!0)===this.oxygenHandler.body.kinematic&&(this.oxygenHandler.body.dynamic=!0,s.GameManager.instance.level.mouseDragStart())},a.prototype.stopDrag=function(){this.dragNow=!1},a.prototype.over=function(){this.oxygenHandler.frameName="oxygenHandler_mc instance 10001"},a.prototype.out=function(){this.oxygenHandler.frameName="oxygenHandler_mc instance 10000"},a.prototype.move=function(){this.game.add.tween(this.oxygenHandler.body).to({x:this.oxygenHandler.body.x-220},2500,"Linear",!0),this.game.add.tween(this.lastBodyConnect).to({x:this.lastBodyConnect.x-220},2500,"Linear",!0)},a.prototype.createChain=function(){for(var e,t=0;t<this.wire.length;t++){var a=this.wire[t][0],i=this.wire[t][1],n=this.wire[t][2],a=s.GameManager.instance.layerElements.create(a,i,"level11","oxygenPipe_mc instance 10000");this.game.physics.box2d.enable(a),a.body.setRectangle(8,20),a.body.sensor=!0,a.angle=n,0===t&&this.game.physics.box2d.revoluteJoint(this.oxygenHandler.body,a.body,0,10,0,-7),e&&(this.game.physics.box2d.revoluteJoint(e,a,0,7,0,-7,0,0,!1),a.body.mass=this.wire.length/t/100),t===this.wire.length-1&&this.game.physics.box2d.revoluteJoint(this.lastBodyConnect,a,0,0,0,7,0,0,!1),e=a}},a.prototype.pushOxygenHandler=function(){this.connected=!1,this.game.add.tween(this.arrow).to({angle:-140},400,"Linear",!0),this.oxygenHandler.body.dynamic=!0,this.oxygenHandler.body.velocity.x=80,this.oxygenHandler.body.data.SetUserData("null")},a.prototype.update=function(){t.prototype.update.call(this),!0===this.fuelHandler.startRotate&&!0===this.connected&&(this.arrow.angle+=1,-55<this.arrow.angle&&this.arrow.angle<22?!1===this.haveGoodOxy&&(this.haveGoodOxy=!0,s.GameManager.instance.level.goToCheckpoint(3)):22<=this.arrow.angle&&this.arrow.angle<85?!1===this.haveBoomOxy&&(this.haveBoomOxy=!0,this.pushOxygenHandler(),s.GameManager.instance.level.gameOver=!0,s.GameManager.instance.level.counter=-90,s.GameManager.instance.level.rocket.pressure()):85<this.arrow.angle&&(this.arrow.angle=85)),!0===this.dragNow&&!1===this.connected&&s.Tools.distance(this.oxygenHandler.body.x,this.oxygenHandler.body.y,540,260)<30&&(s.SoundManager.playSFX("s_connect"),this.oxygenHandler.body.static=!0,this.oxygenHandler.body.angle=-90,this.oxygenHandler.body.x=547,this.oxygenHandler.body.y=260,this.connected=!0,this.oxygenHandler.inputEnabled=!1,this.oxygenHandler.events.onInputOut.removeAll(),this.oxygenHandler.frameName="oxygenHandler_mc instance 10002",this.stopDrag())},a.prototype.destroy=function(){t.prototype.destroy.call(this),this.fuelHandler=null,this.arrow=null,this.wire=[],this.wire=null,this.lastBodyConnect=null,this.oxygenHandler=null},s.Lvl11Oxygen=a})(Wheely=Wheely||{}),(e=>{var t,a;function i(e){var t=a.call(this)||this;return t.wheels=new Array,t.rocketOnWheels=!0,t.move=!1,t.speed=1,t.direction=1,t.capOpened=!1,t.carCreated=!1,t.playMusic=!1,t.game=e,t.addRocketPlace(),t.addRocket(),t.addControlButtons(),t.addRocketWheels(),t}t=e.Client||(e.Client={}),a=t.BasicElement,__extends(i,a),i.prototype.addRocketPlace=function(){this.rocketPlace1=t.GameManager.instance.layerBackground.create(355,540,"level11","rocketColumn instance 10000"),this.rocketPlace1.anchor.set(.5,.95),this.rocketPlace1.angle=-7.5,this.rocketPlace2=t.GameManager.instance.layerBackground.create(570,540,"level11","rocketColumn instance 10000"),this.rocketPlace2.anchor.set(.5,.95),this.rocketPlace2.scale.x=-1,this.rocketPlace2.angle=7.5,t.GameManager.instance.layerBackground.create(289,482,"level11","pillar instance 10000"),t.GameManager.instance.layerBackground.create(637,482,"level11","pillar instance 10000").scale.x=-1},i.prototype.addRocket=function(){this.rocket=new Phaser.Group(this.game),this.rocket.x=-4,this.rocket.y=55,t.GameManager.instance.layerElements.addChild(this.rocket),this.secretQuest=this.rocket.create(105,-38,"level11","secretQuest instance 10000"),this.secretQuest.animations.add("open",Phaser.Animation.generateFrameNames("secretQuest instance 1",0,33,"",4),35,!1).onComplete.add(function(){this.secretQuest.inputEnabled=!1},this),this.secretQuest.animations.add("close",Phaser.Animation.generateFrameNames("secretQuest instance 1",34,75,"",4),35,!1).onComplete.add(function(){this.secretQuest.inputEnabled=!0},this),this.secretQuest.inputEnabled=!0,this.rocket.create(0,5,"level11","rocket instance 10000"),this.window=this.rocket.create(101,105,"level11","window instance 10000"),this.window.animations.add("crush",Phaser.Animation.generateFrameNames("window instance 1",0,75,"",4),35,!1)},i.prototype.addControlButtons=function(){this.buttonLeft=this.game.make.button(148,122,"level11",this.stop,this,"button instance 10001","button instance 10000","button instance 10000","button instance 10000"),this.buttonLeft.anchor.set(.5),this.buttonLeft.events.onInputDown.add(this.moveLeft,this),t.GameManager.instance.layerUpper.addChild(this.buttonLeft),this.buttonRight=this.game.make.button(187,122,"level11",this.stop,this,"button instance 10001","button instance 10000","button instance 10000","button instance 10000"),this.buttonRight.anchor.set(.5),this.buttonRight.scale.x=-1,this.buttonRight.events.onInputDown.add(this.moveRight,this),t.GameManager.instance.layerUpper.addChild(this.buttonRight)},i.prototype.disableButtons=function(){this.buttonLeft.inputEnabled=!1,this.buttonLeft.events.onInputOut.removeAll(),this.buttonLeft.frameName="button instance 10002",this.buttonRight.inputEnabled=!1,this.buttonRight.events.onInputOut.removeAll(),this.buttonRight.frameName="button instance 10002"},i.prototype.moveLeft=function(){this.direction=-1,this.moveCheck(),t.SoundManager.playSFX("s_track",!0)},i.prototype.moveRight=function(){this.direction=1,this.moveCheck(),t.SoundManager.playSFX("s_track",!0)},i.prototype.moveCheck=function(){(this.move=!0)===this.capOpened&&(this.capOpened=!1,this.secretQuest.play("close")),t.GameManager.instance.level.waves.visible=!0,t.GameManager.instance.level.waves.play("move")},i.prototype.stop=function(){this.move=!1,t.SoundManager.stopSFXLoop("s_track")},i.prototype.addRocketWheels=function(){this.truck1=new t.Lvl11RocketWheel(this.game,this,this.rocket.x+100,this.rocket.y+495),t.GameManager.instance.layerElements.addChild(this.truck1),this.truck2=new t.Lvl11RocketWheel(this.game,this,this.rocket.x+220,this.rocket.y+495,-1),t.GameManager.instance.layerElements.addChild(this.truck2)},i.prototype.disconnect=function(){this.rocketOnWheels=!1,this.move=!1,this.disableButtons(),this.game.add.tween(this.rocket).to({y:this.rocket.y+15},200,"Linear",!0),this.game.add.tween(this.rocketPlace1).to({angle:.5},2500,"Linear",!0),this.game.add.tween(this.rocketPlace2).to({angle:-.5},2500,"Linear",!0).onComplete.add(function(){t.GameManager.instance.level.goToCheckpoint(1)},this),this.truck1.holder.play("move"),this.truck2.holder.play("move"),t.SoundManager.stopSFXLoop("s_track")},i.prototype.hideWheels=function(){!0!==this.move&&(this.move=!0,this.fireBug1=t.GameManager.instance.layerElements.create(365,560,"level11","firebug1 instance 10000"),this.fireBug1.animations.add("move",Phaser.Animation.generateFrameNames("firebug1 instance 1",0,30,"",4),35,!1),this.fireBug2=t.GameManager.instance.layerElements.create(567,560,"level11","firebug1 instance 10000"),this.fireBug2.animations.add("move",Phaser.Animation.generateFrameNames("firebug1 instance 1",0,30,"",4),35,!1),this.fireBug2.scale.x=-1,this.game.add.tween(this.fireBug1).to({y:527},500,"Linear",!0),this.game.add.tween(this.fireBug2).to({y:527},500,"Linear",!0))},i.prototype.useFirebug=function(){this.fireBug1.play("move"),this.fireBug2.play("move")},i.prototype.crush=function(){this.game.add.tween(this.rocket).to({angle:-15,x:this.rocket.x-100,y:this.rocket.y+50},200,"Linear",!0),this.rocket.create(97,183,"level11","explosionTrack instance 10000")},i.prototype.pressure=function(){var e=this.rocket.create(143,256,"level11Effects","pressure instance 10000");e.anchor.set(.5),e.scale.set(2),e.animations.add("boom",Phaser.Animation.generateFrameNames("pressure instance 1",0,138,"",4),35,!1),e.play("boom"),e=null,this.window.play("crush")},i.prototype.checkCar=function(){!1===this.capOpened&&(this.capOpened=!0,this.secretQuest.play("open"),t.SoundManager.playSFX("s_rockeNose")),!1===this.carCreated&&(this.carCreated=!0,t.GameManager.instance.level.addQuestCar(160,28,this.rocket,0))},i.prototype.flyAway=function(){var e=this.rocket.create(160,185,"level11","heroCloud instance 10000");e.anchor.set(0,1),e.scale.set(0),this.game.add.tween(e.scale).to({x:1,y:1},500,"Linear",!0),this.game.add.tween(this.rocketPlace1).to({angle:-7.5},2500,"Linear",!0),this.game.add.tween(this.rocketPlace2).to({angle:7.5},2500,"Linear",!0),this.game.add.tween(this.rocket).to({y:-500},6e3,Phaser.Easing.Exponential.In,!0).onComplete.addOnce(function(){t.LevelBuilder.instance.levelComplete()},this),!0===this.capOpened&&(this.capOpened=!1,this.secretQuest.play("close")),this.addTurbinaFire()},i.prototype.addTurbinaFire=function(){var e=this.rocket.create(138,460,"level11","",!0,0),t=(e.anchor.set(.5,0),e.alpha=0,e.animations.add("move",Phaser.Animation.generateFrameNames("turbina instance 1",0,11,"",4),35,!0),e.play("move"),this.rocket.create(185,460,"level11","",!0,0));t.anchor.set(.5,0),t.alpha=0,t.animations.add("move",Phaser.Animation.generateFrameNames("turbina instance 1",0,11,"",4),35,!0),t.play("move"),this.game.add.tween(e).to({alpha:1},300,"Linear",!0),this.game.add.tween(t).to({alpha:1},300,"Linear",!0)},i.prototype.update=function(){if(!0===this.rocketOnWheels&&305<=this.rocket.x&&(this.rocket.x=305,this.disconnect()),!0===this.move){!0===this.rocketOnWheels?(this.rocket.x+=this.speed*this.direction,this.rocket.x<-4&&(this.rocket.x=-4),this.truck1.x=this.rocket.x+100,this.truck2.x=this.rocket.x+220):(this.truck1.x+=this.speed,this.truck2.x+=this.speed,!1===this.playMusic&&(this.playMusic=!0,t.SoundManager.playSFX("s_track",!0)),850<this.truck1.x&&(t.SoundManager.stopSFXLoop("s_track"),this.move=!1));for(var e=0;e<this.wheels.length;e++)this.wheels[e].angle+=this.speed*this.direction*2}},i.prototype.free=function(){this.wheels=[],this.wheels=null,this.game=null,this.rocket=null,this.rocketPlace1=null,this.rocketPlace2=null,this.truck1=null,this.truck2=null,this.buttonRight=null,this.buttonLeft=null,this.secretQuest=null,this.window=null,this.fireBug1=null,this.fireBug2=null},t.Lvl11Rocket=i})(Wheely=Wheely||{}),(e=>{var s;function t(e,t,a,i,n){void 0===n&&(n=1);e=s.call(this,e)||this;return e.x=a,e.y=i,e.create(0,0,"level11","trackBack instance 10000").anchor.set(.5),t.wheels.push(e.addWheel(-32,0,1)),t.wheels.push(e.addWheel(0,0,2)),t.wheels.push(e.addWheel(32,0,1)),e.create(0,0,"level11","trackBody instance 10000").anchor.set(.5),e.holder=e.create(10,-50,"level11","rockethold instance 10000"),e.holder.anchor.set(.5),-1===(e.holder.scale.x=n)&&(e.holder.x=-12),e.holder.animations.add("move",Phaser.Animation.generateFrameNames("rockethold instance 1",0,45,"",4),35,!1).onComplete.addOnce(function(){this.anthenna.play("move")},e),e.anthenna=e.create(-50,-60,"level11","antenna2 instance 10000"),e.anthenna.animations.add("move",Phaser.Animation.generateFrameNames("antenna2 instance 1",0,25,"",4),35,!1).onComplete.addOnce(function(){t.hideWheels()},e),e}e=e.Client||(e.Client={}),s=Phaser.Group,__extends(t,s),t.prototype.addWheel=function(e,t,a){e=this.create(e,t,"level11","wheel"+a+" instance 10000");return e.anchor.set(.5),e},t.prototype.destroy=function(){s.prototype.destroy.call(this),this.holder=null,this.anthenna=null},e.Lvl11RocketWheel=t})(Wheely=Wheely||{}),(e=>{var t,s;function a(e,t,a,i,n){e=s.call(this,e,t,a,"level11","fuelHandler instance 10000")||this;return e.buttonDown=!1,e.rotateSpeed=3,e.startAngle=-35,e.maxAngle=35,e.startRotate=!1,e.active=!0,e.canUse=!0,e.startAngle=i,e.maxAngle=n,e.angle=e.startAngle,e.anchor.set(.9,.5),e.events.onInputDown.add(e.down,e),e.events.onInputUp.add(e.up,e),e.events.onInputOver.add(e.over,e),e.events.onInputOut.add(e.out,e),e}t=e.Client||(e.Client={}),s=Phaser.Sprite,__extends(a,s),a.prototype.setEnabled=function(e){this.inputEnabled=e,this.input.useHandCursor=e},a.prototype.down=function(){!1!==this.active&&(this.startInputPos=new Phaser.Point(this.game.input.activePointer.x,this.game.input.activePointer.y),this.buttonDown=!0)},a.prototype.up=function(){this.buttonDown=!1,this.startRotate=!1},a.prototype.over=function(){!0===this.canUse&&(this.frameName="fuelHandler instance 10001")},a.prototype.out=function(){!0===this.canUse&&(this.frameName="fuelHandler instance 10000")},a.prototype.update=function(){!0===this.buttonDown?this.rotateRuchag():this.gotoZero()},a.prototype.rotateRuchag=function(){this.angle=90-t.Tools.toDeg(Phaser.Math.angleBetweenY(this.game.input.activePointer.x,this.game.input.activePointer.y,this.world.x,this.world.y)),this.angle<this.maxAngle?(this.angle=this.maxAngle,this.startRotate=!0):this.angle>this.startAngle&&(this.angle=this.startAngle)},a.prototype.gotoZero=function(){this.angle===this.startAngle?this.active=!0:(this.angle+=this.rotateSpeed,this.angle>this.startAngle&&(this.angle=this.startAngle))},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.startInputPos=null},t.Lvl11RotateRuchag=a})(Wheely=Wheely||{}),(e=>{var o,h;function t(e,t,a,i,n,s){var r=h.call(this)||this;return r.doorOpened=!1,r.graphic=o.GameManager.instance.layerBackground.create(t,a,"level12",n+" instance 10000"),r.graphic.anchor.setTo(.5),r.graphic.angle=i,r.graphic.animations.add("open",Phaser.Animation.generateFrameNames(n+" instance 1",0,9,"",4),30,!1),r.graphic.animations.add("close",Phaser.Animation.generateFrameNames(n+" instance 1",9,0,"",4),30,!1),r.body=new Phaser.Physics.Box2D.Body(e,null,t,a,1),r.body.setRectangle(124,s),r.body.angle=i,r}o=e.Client||(e.Client={}),h=o.BasicElement,__extends(t,h),t.prototype.activate=function(){!1===this.doorOpened?(this.graphic.animations.play("open"),this.body.sensor=!0):(this.graphic.animations.play("close"),this.body.sensor=!1),o.SoundManager.playSFX("s_doorSpace"),this.doorOpened=!this.doorOpened},t.prototype.free=function(){this.graphic=null,this.body=null},o.Lvl12Door=t})(Wheely=Wheely||{}),(e=>{var s,r;function t(e){for(var t,a=r.call(this)||this,i=(a.lastAngle=0,a.active=!1,a.pressed=!1,a.updateIdle=0,a.game=e,a.lamps=new Array,a.group=e.make.group(),a.group.x=190,a.group.y=-70,s.GameManager.instance.layerUpper.add(a.group),-90),n=0;n<8;n++)(t=a.group.create(0,0,"level12","pultLamp instance 10000")).anchor.x=.5,t.pivot.y=-49,t.angle=i,a.lamps.push(t),i-=45;return(t=a.group.create(0,0,"level12","pult instance 10000")).anchor.setTo(.5),a.arm=a.group.create(0,0,"level12","pultArm instance 10000"),a.arm.anchor.setTo(.1,.5),a.arm.scale.x=0,a.joystick=e.make.button(0,0,"level12",a.joystickUp,a,"pultJoystick instance 10001","pultJoystick instance 10000"),a.joystick.anchor.setTo(.5),a.joystick.onInputDown.add(a.joystickDown,a),a.group.add(a.joystick),t=null,a}s=e.Client||(e.Client={}),r=s.BasicElement,__extends(t,r),t.prototype.joystickDown=function(){this.active=!0,this.pressed=!0,s.SoundManager.playSFX("s_jet",!0),s.GameManager.instance.hero.visibleSpaceSuitFire(!0)},t.prototype.joystickUp=function(){this.deactivate(),s.SoundManager.stopSFXLoop("s_jet"),s.GameManager.instance.hero.visibleSpaceSuitFire(!1)},t.prototype.deactivate=function(e){void 0===e&&(e=!1),this.pressed=!1,this.updateLamps(0,!0),!0===e&&(this.joystick.inputEnabled=!1)},t.prototype.show=function(){s.GameManager.instance.level.setSimpleTween(this.group,20,{y:113})},t.prototype.update=function(){var e,t;!1!==this.active&&(!0===this.pressed&&(30<(t=new s.NapeVec2(this.game.input.activePointer.x-this.group.x,this.game.input.activePointer.y-this.group.y)).length&&(t.length=30),this.joystick.x=t.x,this.joystick.y=t.y,t.length*=30,e=s.Tools.toDeg(t.angle),s.GameManager.instance.hero.controllSpaceSuit(t,e),this.updateLamps(e),this.lastAngle=e),0!==this.joystick.x)&&0!==this.joystick.y&&(e=Math.atan2(-this.joystick.y,-this.joystick.x),t=s.Tools.distance(this.joystick.x,this.joystick.y,0,0),!1===this.pressed&&(this.joystick.x+=3*Math.cos(e),this.joystick.y+=3*Math.sin(e),t<3)&&(this.joystick.x=0,this.joystick.y=0,this.active=!1),this.arm.scale.x=t/30,this.arm.rotation=Math.atan2(this.joystick.y,this.joystick.x))},t.prototype.updateLamps=function(e,t){if(void 0===t&&(t=!1),this.updateIdle+=1,10<this.updateIdle||!0===t)for(var a=0;a<this.lamps.length;a++)this.lamps[a].frameName="pultLamp instance 10000";!0!==t&&10<this.updateIdle&&(this.updateIdle=0,Math.abs(e)<35&&(this.lamps[0].frameName="pultLamp instance 10001"),Math.abs(e+45)<35&&(this.lamps[1].frameName="pultLamp instance 10001"),Math.abs(e+90)<35&&(this.lamps[2].frameName="pultLamp instance 10001"),Math.abs(e+135)<35&&(this.lamps[3].frameName="pultLamp instance 10001"),145<Math.abs(e)&&(this.lamps[4].frameName="pultLamp instance 10001"),Math.abs(e-135)<35&&(this.lamps[5].frameName="pultLamp instance 10001"),Math.abs(e-90)<35&&(this.lamps[6].frameName="pultLamp instance 10001"),Math.abs(e-45)<35)&&(this.lamps[7].frameName="pultLamp instance 10001")},t.prototype.free=function(){this.game=null,this.group=null,this.lamps=[],this.lamps=null,this.joystick=null,this.arm=null},s.Lvl12Pult=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this)||this,a=(t.boxPressed=!1,t.currJointNum=-1,t.boxAxisXOff=146,t.boxAxisYOff=134,t.active=!1,t.game=e,t.box=i.GameManager.instance.layerBackground.create(348,503,"level12","puzzleBox instance 10002"),e.physics.box2d.enable(t.box),t.box.body.setRectangle(86,86),t.box.name="box",t.box.body.fixedRotation=!0,t.box.body.kinematic=!0,t.box.body.setCollisionMask(~i.FilterGroups.TRUCK),t.bodyBox=new Array,new Phaser.Physics.Box2D.Body(e,null,349,503,0));return a.setRectangle(10,10),a.sensor=!0,t.bodyBox.push(a),(a=new Phaser.Physics.Box2D.Body(e,null,203,369,0)).setRectangle(10,10),a.sensor=!0,t.bodyBox.push(a),(a=new Phaser.Physics.Box2D.Body(e,null,349,235,0)).setRectangle(10,10),a.sensor=!0,t.bodyBox.push(a),(a=new Phaser.Physics.Box2D.Body(e,null,495,369,0)).setRectangle(10,10),a.sensor=!0,t.bodyBox.push(a),t.setBoxJoint(0),t.plank1=i.GameManager.instance.layerBackground.create(422,309,"level12","puzzlePlank2 instance 10002"),e.physics.box2d.enable(t.plank1),t.plank1.body.setRectangle(26,236),t.plank1.body.fixedRotation=!0,t.plank1.body.kinematic=!0,(a=new Phaser.Physics.Box2D.Body(e,null,422,309,0)).setRectangle(10,10),a.sensor=!0,e.physics.box2d.prismaticJoint(a,t.plank1.body,0,1,0,0,0,0,0,0,!1,0,133,!0),t.plank2=i.GameManager.instance.layerBackground.create(425,443,"level12","puzzlePlank2 instance 10002"),e.physics.box2d.enable(t.plank2),t.plank2.body.setRectangle(26,236),t.plank2.body.angle=90,t.plank2.body.fixedRotation=!0,t.plank2.body.kinematic=!0,(a=new Phaser.Physics.Box2D.Body(e,null,425,443,0)).setRectangle(10,10),a.sensor=!0,e.physics.box2d.prismaticJoint(a,t.plank2.body,1,0,0,0,0,0,0,0,!1,-147,14,!0),t.plank3=i.GameManager.instance.layerBackground.create(276,510,"level12","puzzlePlank1 instance 10002"),e.physics.box2d.enable(t.plank3),t.plank3.body.setRectangle(26,102),t.plank3.body.fixedRotation=!0,t.plank3.body.kinematic=!0,(a=new Phaser.Physics.Box2D.Body(e,null,276,510,0)).setRectangle(10,10),a.sensor=!0,e.physics.box2d.prismaticJoint(a,t.plank3.body,0,1,0,0,0,0,0,0,!1,-137,0,!0),a=null,t}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.activate=function(){this.active=!0,this.box.inputEnabled=!0,this.box.input.useHandCursor=!0,this.box.events.onInputDown.add(this.down,this),this.box.events.onInputOut.add(this.boxOut,this),this.box.events.onInputOver.add(this.boxOver,this),this.box.events.onInputUp.add(this.up,this),this.boxOut(),this.box.body.data.SetUserData("DragBody"),this.plank1.inputEnabled=!0,this.plank1.input.useHandCursor=!0,this.plank1.events.onInputDown.add(this.down,this),this.plank1.events.onInputOut.add(this.plank1Out,this),this.plank1.events.onInputOver.add(this.plank1Over,this),this.plank1.events.onInputUp.add(this.up,this),this.plank1Out(),this.plank1.body.data.SetUserData("DragBody"),this.plank2.inputEnabled=!0,this.plank2.input.useHandCursor=!0,this.plank2.events.onInputDown.add(this.down,this),this.plank2.events.onInputOut.add(this.plank2Out,this),this.plank2.events.onInputOver.add(this.plank2Over,this),this.plank2.events.onInputUp.add(this.up,this),this.plank2Out(),this.plank2.body.data.SetUserData("DragBody"),this.plank3.inputEnabled=!0,this.plank3.input.useHandCursor=!0,this.plank3.events.onInputDown.add(this.down,this),this.plank3.events.onInputOut.add(this.plank3Out,this),this.plank3.events.onInputOver.add(this.plank3Over,this),this.plank3.events.onInputUp.add(this.up,this),this.plank3Out(),this.plank3.body.data.SetUserData("DragBody")},t.prototype.update=function(){!0===this.boxPressed&&(0===this.currJointNum?this.box.body.x>this.bodyBox[this.currJointNum].x+this.boxAxisXOff&&5<this.box.body.y-this.game.input.activePointer.y?this.setBoxJoint(3):this.box.body.x<this.bodyBox[this.currJointNum].x-this.boxAxisXOff&&5<this.box.body.y-this.game.input.activePointer.y&&this.setBoxJoint(1):2===this.currJointNum?this.box.body.x>this.bodyBox[this.currJointNum].x+this.boxAxisXOff&&this.box.body.y-this.game.input.activePointer.y<-5?this.setBoxJoint(3):this.box.body.x<this.bodyBox[this.currJointNum].x-this.boxAxisXOff&&this.box.body.y-this.game.input.activePointer.y<-5&&this.setBoxJoint(1):1===this.currJointNum?this.box.body.y>this.bodyBox[this.currJointNum].y+this.boxAxisYOff&&this.box.body.x-this.game.input.activePointer.x<-5?this.setBoxJoint(0):this.box.body.y<this.bodyBox[this.currJointNum].y-this.boxAxisYOff&&this.box.body.x-this.game.input.activePointer.x<-5&&this.setBoxJoint(2):3===this.currJointNum&&(this.box.body.y>this.bodyBox[this.currJointNum].y+this.boxAxisYOff&&5<this.box.body.x-this.game.input.activePointer.x?this.setBoxJoint(0):this.box.body.y<this.bodyBox[this.currJointNum].y-this.boxAxisYOff&&5<this.box.body.x-this.game.input.activePointer.x&&this.setBoxJoint(2)))},t.prototype.setBoxJoint=function(e){this.currJointNum!==e&&(this.currJointNum=e,this.jointBoxCurr&&this.game.physics.box2d.world.DestroyJoint(this.jointBoxCurr),this.jointBoxCurr=0===e||2===e?this.game.physics.box2d.prismaticJoint(this.bodyBox[e],this.box.body,1,0,0,0,0,0,0,0,!1,-this.boxAxisXOff,this.boxAxisXOff,!0):this.game.physics.box2d.prismaticJoint(this.bodyBox[e],this.box.body,0,1,0,0,0,0,0,0,!1,-this.boxAxisYOff,this.boxAxisYOff,!0))},t.prototype.up=function(e,t,a){e.body.velocity.x=0,e.body.velocity.y=0,e.body.kinematic=!0,e.name&&"box"===e.name&&(this.boxPressed=!1)},t.prototype.down=function(e,t){e.body.dynamic=!0,i.GameManager.instance.level.customAction(1),e.name&&"box"===e.name?(this.boxPressed=!0,i.SoundManager.playSFX("s_slideBox")):i.SoundManager.playSFX("s_slideElement")},t.prototype.boxOut=function(){this.box.frameName="puzzleBox instance 10000"},t.prototype.boxOver=function(){this.box.frameName="puzzleBox instance 10001"},t.prototype.plank1Out=function(){this.plank1.frameName="puzzlePlank2 instance 10000"},t.prototype.plank1Over=function(){this.plank1.frameName="puzzlePlank2 instance 10001"},t.prototype.plank2Out=function(){this.plank2.frameName="puzzlePlank2 instance 10000"},t.prototype.plank2Over=function(){this.plank2.frameName="puzzlePlank2 instance 10001"},t.prototype.plank3Out=function(){this.plank3.frameName="puzzlePlank1 instance 10000"},t.prototype.plank3Over=function(){this.plank3.frameName="puzzlePlank1 instance 10001"},t.prototype.free=function(){this.game=null,this.bodyBox=[],this.bodyBox=null,this.jointBoxCurr=null,this.box=null,this.plank1=null,this.plank2=null,this.plank3=null},i.Lvl12Puzzle=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this)||this,a=(t.opened=!1,t.game=e,t.radar1=i.GameManager.instance.layerBackground.create(700,130,"level12","radar instance 10000"),t.radar1.anchor.setTo(.5),t.radar1Signal=e.make.sprite(-9,-65,"level12"),t.radar1Signal.animations.add("anim",Phaser.Animation.generateFrameNames("radarSignal instance 1",0,59,"",4),30,!0),t.radar1Signal.visible=!1,t.radar1.addChild(t.radar1Signal),e.make.graphics(720,-10));return a.angle=21,a.beginFill(16711680,.3),a.drawRect(-100,0,200,100),a.endFill(),i.GameManager.instance.layerBackground.add(a),t.radar1.mask=a,a=null,t.radar2=i.GameManager.instance.layerBackground.create(700,500,"level12","radar instance 10000"),t.radar2.anchor.setTo(.5),t.radar2.scale.y=-1,t.radar2Signal=e.make.sprite(-9,-65,"level12"),t.radar2Signal.animations.add("anim",Phaser.Animation.generateFrameNames("radarSignal instance 1",0,59,"",4),30,!0),t.radar2Signal.visible=!1,t.radar2.addChild(t.radar2Signal),t}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.activate=function(){this.game.tweens.removeFrom(this.radar1),this.game.tweens.removeFrom(this.radar2),!1===this.opened?(this.radar1Signal.visible=!0,this.radar2Signal.visible=!0,this.radar1Signal.animations.play("anim"),this.radar2Signal.animations.play("anim"),this.game.add.tween(this.radar1).to({x:715,y:75},500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.radar2).to({x:715,y:555},500,Phaser.Easing.Linear.None,!0)):(this.game.add.tween(this.radar1).to({x:700,y:130},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.disableRadarSignal,this),this.game.add.tween(this.radar2).to({x:700,y:500},500,Phaser.Easing.Linear.None,!0)),this.opened=!this.opened},t.prototype.close=function(){!1!==this.opened&&(this.opened=!1,this.game.tweens.removeFrom(this.radar1),this.game.tweens.removeFrom(this.radar2),this.game.add.tween(this.radar1).to({x:700,y:130},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.disableRadarSignal,this),this.game.add.tween(this.radar2).to({x:700,y:500},500,Phaser.Easing.Linear.None,!0))},t.prototype.disableRadarSignal=function(){this.radar1Signal.animations.stop(),this.radar2Signal.animations.stop(),this.radar1Signal.visible=!1,this.radar2Signal.visible=!1},t.prototype.free=function(){this.game=null,this.radar1=null,this.radar2=null,this.radar1Signal=null,this.radar2Signal=null},i.Lvl12Radars=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.counterContact=0,t.graphic=a.GameManager.instance.layerElements.create(352,123,"level12","spacesuit instance 10000"),e.physics.box2d.enable(t.graphic),t.graphic.body.setCircle(33),t.graphic.body.data.SetActive(!1),t.graphic.body.data.SetUserData("DragBody"),t.graphic.body.setCollisionMask(~a.FilterGroups.IGNORE_CAR),t.graphic.inputEnabled=!0,t.graphic.input.useHandCursor=!0,t.graphic.events.onInputOut.add(t.graphicOut,t),t.graphic.events.onInputOver.add(t.graphicOver,t),t.graphic.events.onInputDown.addOnce(t.graphicDown,t),t.graphicHolder=a.GameManager.instance.layerElements.create(308,93,"level12","spacesuitHolder instance 10000"),t.graphicHolder.animations.add("anim",Phaser.Animation.generateFrameNames("spacesuitHolder instance 1",0,35,"",4),30,!1),t.bodyOnHero=new Phaser.Physics.Box2D.Body(e,null,a.GameManager.instance.hero.bodyBase.x,a.GameManager.instance.hero.bodyBase.y,2),t.bodyOnHero.setRectangle(10,10),t.bodyOnHero.sensor=!0,e.physics.box2d.revoluteJoint(t.bodyOnHero,a.GameManager.instance.hero.bodyBase),t.graphic.body.setBodyContactCallback(t.bodyOnHero,t.contactWithHero,t),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.graphicOut=function(){this.graphic.frameName="spacesuit instance 10000"},t.prototype.graphicOver=function(){this.graphic.frameName="spacesuit instance 10001"},t.prototype.graphicDown=function(){a.GameManager.instance.layerElements.removeChild(this.graphicHolder),a.GameManager.instance.layerBackground.addChild(this.graphicHolder),this.graphicHolder.animations.play("anim"),this.graphic.body.data.SetActive(!0),a.GameManager.instance.level.customAction(1)},t.prototype.update=function(){1===this.counterContact&&(this.counterContact=2,this.bodyOnHero.destroy(),this.graphic.destroy(),a.SoundManager.playSFX("s_scafandr"),a.GameManager.instance.hero.setClickable(!1),a.GameManager.instance.hero.addSpaceSuit(),a.GameManager.instance.level.customAction(2))},t.prototype.contactWithHero=function(){0===this.counterContact&&(this.counterContact=1)},t.prototype.free=function(){this.graphic=null,this.graphicHolder=null,this.bodyOnHero=null},a.Lvl12SpaceSuit=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e,t){var a=n.call(this)||this,t=(a.taked=0,a.level=t,a.graphic=i.GameManager.instance.layerElements.create(136,-25,"level13","bomb instance 10000"),e.physics.box2d.enable(a.graphic),a.graphic.body.setRectangle(66,32),a.graphic.body.setCollisionMask(~i.FilterGroups.IGNORE_CAR),e.make.sprite(16,-17,"level12"));return t.animations.add("anim",Phaser.Animation.generateFrameNames("bombLamp instance 1",0,14,"",4),30,!0),t.animations.play("anim"),a.graphic.addChild(t),t=null,a.text=e.make.text(6,0,"45",{font:"14px Arial",fill:"#FF0000",align:"center"}),a.text.anchor.set(.5),a.text.angle=90,a.graphic.addChild(a.text),a}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.take=function(){this.taked=1,this.graphic.body.destroy(),this.graphic.x=-40,this.graphic.y=-30,this.graphic.angle=-135,i.GameManager.instance.layerElements.removeChild(this.graphic),i.GameManager.instance.hero.baseGroup.addChildAt(this.graphic,0)},t.prototype.activate=function(){this.taked=2,i.GameManager.instance.hero.baseGroup.removeChild(this.graphic),this.level.digger.groupSoftDig.addChild(this.graphic),this.graphic.x=0,this.graphic.y=0,this.graphic.angle=90},t.prototype.update=function(){2===this.taked&&(this.graphic.y+=2,237<=this.graphic.y)&&(this.taked=3,this.level.customAction(3))},t.prototype.free=function(){this.graphic=null,this.level=null},i.Lvl13Bomb=t})(Wheely=Wheely||{}),(e=>{var t,a;function i(e){var t=a.call(this)||this,e=(t.btnActived=0,t.active=!1,t.handHided=!0,t.btn1=e.make.button(0,0,"level13",t.putDigger,t,"btnPutElement instance 10001","btnPutElement instance 10000"),t.btn1.anchor.setTo(.5),t.btn1Icon=e.make.sprite(2,2,"level13","btnPutElementIcon instance 10001"),t.btn1Icon.anchor.setTo(.5),t.btn1.addChild(t.btn1Icon),t.btn2=e.make.sprite(0,0,"level13","btnPutElement instance 10002"),t.btn2.anchor.setTo(.5),t.btn2.events.onInputOut.add(t.btnBombOut,t),t.btn2.events.onInputOver.add(t.btnBombOver,t),t.btn2.events.onInputUp.add(t.putBomb,t),e.make.sprite(2,2,"level13","btnPutElementIcon instance 10000"));return e.anchor.setTo(.5),t.btn2.addChild(e),t}t=e.Client||(e.Client={}),a=t.BasicElement,__extends(i,a),i.prototype.btnBombOut=function(){!1!==this.btn2.inputEnabled&&(this.btn2.frameName="btnPutElement instance 10000")},i.prototype.btnBombOver=function(){!1!==this.btn2.inputEnabled&&(this.btn2.frameName="btnPutElement instance 10001")},i.prototype.putDigger=function(){this.deactivate(),this.btn1.inputEnabled=!1,this.btn1.visible=!1,t.GameManager.instance.level.customAction(1)},i.prototype.putBomb=function(){this.deactivate(),this.btn2.inputEnabled=!1,this.btn2.visible=!1,t.GameManager.instance.level.customAction(2)},i.prototype.deactivateAll=function(){this.btn1.inputEnabled=!1,this.btn1.visible=!1,this.btn2.inputEnabled=!1,this.btn2.visible=!1},i.prototype.takeDigger=function(e){void 0===e&&(e=0),this.activate(),0===e?t.LevelBuilder.instance.UILayer.add(this.btn1):(this.btn1.visible=!0,this.btn1.inputEnabled=!0,this.btn1.input.useHandCursor=!0,this.btn1Icon.frameName="btnPutElementIcon instance 10001")},i.prototype.showHand=function(){!1!==this.handHided&&(this.handHided=!1,this.btn1.visible=!0,this.btn1.inputEnabled=!0,this.btn1.input.useHandCursor=!0,this.btn1Icon.frameName="btnPutElementIcon instance 10002")},i.prototype.hideHand=function(){!0!==this.handHided&&(this.handHided=!0,this.btn1.visible=!1)},i.prototype.takeBomb=function(){this.activate(),t.LevelBuilder.instance.UILayer.add(this.btn2),this.btn2.inputEnabled=!1,this.btn2.frameName="btnPutElement instance 10002"},i.prototype.activateBomb=function(){this.btn2.inputEnabled=!0,this.btn2.input.useHandCursor=!0,this.btn2.frameName="btnPutElement instance 10000"},i.prototype.deactivateBomb=function(){this.btn2.inputEnabled=!1,this.btn2.frameName="btnPutElement instance 10002"},i.prototype.activate=function(){this.active=!0,this.btnActived+=1,this.update()},i.prototype.deactivate=function(){--this.btnActived,this.btnActived<=0&&(this.active=!1)},i.prototype.update=function(){this.btn1.x=t.GameManager.instance.hero.bodyBase.x-40,this.btn2.x=t.GameManager.instance.hero.bodyBase.x+40,this.btn1.y=this.btn2.y=t.GameManager.instance.hero.bodyBase.y-100},i.prototype.free=function(){this.btn1=null,this.btn1Icon=null,this.btn2=null},t.Lvl13BtnPutElements=i})(Wheely=Wheely||{}),(e=>{var i,n;function t(e,t){var a=n.call(this)||this;return a.taked=0,a.level=t,a.game=e,a.graphic=i.GameManager.instance.layerElements.create(655,587,"level13","digger instance 10000"),e.physics.box2d.enable(a.graphic),a.graphic.body.setRectangle(66,40),a.graphic.body.setCollisionMask(~i.FilterGroups.IGNORE_CAR),a}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.take=function(e){void 0===e&&(e=0),this.taked=1,0===e?(this.graphic.body.destroy(),i.GameManager.instance.layerElements.removeChild(this.graphic)):(i.SoundManager.stopSFXLoop("s_drillWrong"),this.graphic.destroy(),this.graphic=this.game.make.sprite(0,0,"level13","digger instance 10000"),this.graphic.anchor.setTo(.5),this.graphic.pivot.y=0),this.graphic.x=0,this.graphic.y=-35,this.graphic.angle=-110,i.GameManager.instance.hero.baseGroup.addChildAt(this.graphic,0)},t.prototype.activate=function(e){this.graphic.destroy(),!0===e?(this.taked=3,this.groupSoftDig=this.game.make.group(),this.groupSoftDig.x=i.GameManager.instance.hero.bodyBase.x,this.groupSoftDig.y=i.GameManager.instance.hero.bodyBase.y,this.groupSoftDig.angle=i.GameManager.instance.hero.bodyBase.angle,i.GameManager.instance.layerElements.addChildAt(this.groupSoftDig,i.GameManager.instance.layerElements.getChildIndex(this.level.meteor.wind)),this.graphic=this.groupSoftDig.create(0,38,"level13","dig instance 10000"),this.graphic.anchor.setTo(.5,0),this.digger=this.groupSoftDig.create(-2,25,"level13"),this.digger.anchor.setTo(.5),this.digger.animations.add("anim",Phaser.Animation.generateFrameNames("diggerDeepLegs instance 1",0,19,"",4),30,!1),this.digger.animations.play("anim"),this.digger=this.groupSoftDig.create(1,18,"level13"),this.digger.anchor.setTo(.5),this.digger.animations.add("anim",Phaser.Animation.generateFrameNames("digger_go instance 1",0,8,"",4),30,!0),this.digger.animations.play("anim"),this.mask=this.game.make.graphics(1,-153),this.mask.beginFill(16711680,.5),this.mask.moveTo(-18,-159),this.mask.lineTo(18,-159),this.mask.lineTo(18,120),this.mask.lineTo(0,158),this.mask.lineTo(-18,120),this.mask.lineTo(-18,-159),this.graphic.addChild(this.mask),this.graphic.mask=this.mask,-45<(e=i.Tools.angleOfPoints(i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y,this.level.meteor.graphic.x,this.level.meteor.graphic.y))&&e<-15&&this.level.addRealQuestWheel(this.graphic,this.groupSoftDig.angle),i.SoundManager.playSFX("s_drillLoop",!0)):(i.SoundManager.playSFX("s_drillWrong",!0),this.taked=2,this.graphic=i.GameManager.instance.layerElements.create(i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y,"level13"),this.graphic.angle=i.GameManager.instance.hero.bodyBase.angle,this.graphic.anchor.x=.5,this.graphic.pivot.y=35,this.graphic.animations.add("anim",Phaser.Animation.generateFrameNames("diggerNo instance 1",0,17,"",4),30,!0),this.graphic.animations.play("anim"),this.point=new Phaser.Point(i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y))},t.prototype.deactivate=function(){this.groupSoftDig.destroy()},t.prototype.update=function(){3===this.taked&&(this.digger.y+=2,this.mask.y=this.digger.y-171,247<=this.digger.y)&&(this.taked=4,this.digger.destroy(),i.SoundManager.stopSFXLoop("s_drillLoop"))},t.prototype.free=function(){this.mask=null,this.level=null,this.game=null,this.graphic=null,this.digger=null},i.Lvl13Digger=t})(Wheely=Wheely||{}),(e=>{var n,a;function t(e){var t=a.call(this)||this;return t.active=!1,t.counter=0,t.stX=440,t.stY=320,t.parts=new Array,t}n=e.Client||(e.Client={}),a=n.BasicElement,__extends(t,a),t.prototype.activateExp=function(){this.exp=n.GameManager.instance.layerElements.create(this.stX,this.stY,"level13_2"),this.exp.anchor.setTo(.5),this.exp.scale.setTo(1.3),this.exp.animations.add("animExp1",Phaser.Animation.generateFrameNames("meteorExp instance 1",0,14,"",4),30,!1).onComplete.addOnce(this.createMet,this),this.exp.animations.add("animExp2",Phaser.Animation.generateFrameNames("meteorExp instance 1",15,79,"",4),30,!1).killOnComplete=!0,this.exp.animations.play("animExp1")},t.prototype.createMet=function(){this.addPart("alpha",33,-117,4),this.addPart("beta",-141,37,0),this.addPart("gamma",115,121,0),this.addPart("metP9",58,6,0),this.addPart("metP8",-76,-83,0),this.addPart("metP7",-41,-39,0),this.addPart("metP4",-35,-2,0),this.addPart("metP3",-69,-34,0),this.addPart("metP2",-65,12,28),this.addPart("metP2",-36,18,0),this.addPart("metP3",-76,45,0),this.addPart("metP6",-4,8,152),this.addPart("metP7",-19,53,-45),this.addPart("metP4",5,84,-45),this.addPart("metP3",-40,87,-45),this.addPart("metP2",-11,119,-45),this.addPart("metP2",18,100,-45),this.addPart("metP3",14,127,-45),this.addPart("metP1",40,81,107),this.addPart("metP7",134,-4,133),this.addPart("metP4",123,-18,133),this.addPart("metP2",139,-56,133),this.addPart("metP2",118,-37,133),this.addPart("metP3",102,-60,133),this.addPart("metP7",88,0,-75),this.addPart("metP7",62,-41,87),this.addPart("metP7",25,-24,-121),this.addPart("metP5",84,36,32),this.active=!0,this.exp.animations.play("animExp2"),n.GameManager.instance.level.customAction(5)},t.prototype.addPart=function(e,t,a,i){t=n.GameManager.instance.layerElements.create(this.stX+t,this.stY+a,"level13_2",e+" instance 10000");t.angle=i,t.anchor.setTo(.5),this.parts.push(t)},t.prototype.update=function(){!1!==this.active&&(this.counter+=1,1===this.counter?(this.setTween(0,39,-292,4),this.setTween(1,-401,96,-9),this.setTween(2,303,303,9),this.setTween(3,112,53,0),this.setTween(4,-143,-227,0),this.setTween(5,-51,-218,0),this.setTween(6,-189,-65,6),this.setTween(7,-234,-121,0),this.setTween(8,-218,41,28),this.setTween(9,-148,40,0),this.setTween(10,-280,114,0),this.setTween(11,-85,92,152),this.setTween(12,-122,180,-45),this.setTween(13,11,132,-45),this.setTween(14,-166,266,-45),this.setTween(15,-39,185,-45),this.setTween(16,147,215,-45),this.setTween(17,90,266,-45),this.setTween(18,112,185,107),this.setTween(19,281,165,133),this.setTween(20,263,53,133),this.setTween(21,246,-79,133),this.setTween(22,218,-32,133),this.setTween(23,205,-199,133),this.setTween(24,145,-50,-75),this.setTween(25,148,-203,87),this.setTween(26,29,-141,-121),this.setTween(27,186,156,32)):121===this.counter&&(this.active=!1,n.GameManager.instance.level.customAction(4)))},t.prototype.setTween=function(e,t,a,i){n.GameManager.instance.level.setSimpleTween(this.parts[e],120,{x:this.stX+t,y:this.stY+a,angle:i})},t.prototype.free=function(){this.parts=[],this.parts=null,this.exp=null},n.Lvl13ExpMeteor=t})(Wheely=Wheely||{}),(e=>{var o,h=e.Client||(e.Client={});function t(e){for(var t,a=o.call(this)||this,i=(a.stX=440,a.stY=320,a.activeAnimParts=!0,a.counter=0,a.numPart=0,a.destroy=!1,a.timeSpentPart=0,a.game=e,a.meteorParts=new Array,h.Tools.toRad(-45)),n=15*Math.cos(i),s=15*Math.sin(i),r=1;r<5;r++)(t=new c(e,a.stX,a.stY,"level13","meteorPart"+r+" instance 10000",n,s)).anchor.setTo(.5),t.visible=!1,h.GameManager.instance.layerBackground.add(t),a.meteorParts.push(t);return t=null,a.graphic=h.GameManager.instance.layerElements.create(440,320,"level13","meteor instance 10000"),e.physics.box2d.enable(a.graphic),a.graphic.body.setCircle(178),a.graphic.body.kinematic=!0,a}o=h.BasicElement,__extends(t,o),t.prototype.createWind=function(){this.wind=h.GameManager.instance.layerElements.create(110,295,"level13"),this.wind.animations.add("anim",Phaser.Animation.generateFrameNames("cismicwind instance 1",0,31,"",4),30,!0),this.wind.animations.play("anim"),this.wind.scale.setTo(2),this.wind.angle=-40},t.prototype.deactivate=function(){this.destroy=!0,this.activeAnimParts=!1,this.graphic.destroy(),this.wind.destroy()},t.prototype.update=function(){var e;!0===this.activeAnimParts&&(this.counter+=1,this.counter>=this.timeSpentPart)&&(this.counter=0,this.timeSpentPart=h.Tools.random(20,30),e=h.Tools.rotatePointByAngle(this.stX,this.stY,this.stX+140,this.stY,h.Tools.toRad(h.Tools.random(-90,0))),this.meteorParts[this.numPart].start(e.x,e.y),this.numPart+=1,this.numPart===this.meteorParts.length)&&(this.numPart=0)},t.prototype.free=function(){this.game=null,this.graphic=null,this.meteorParts=[],this.meteorParts=null},h.Lvl13Meteor=t,l=Phaser.Sprite,__extends(a,l),a.prototype.start=function(e,t){this.x=e,this.y=t,this.scale.setTo(1),this.active=!0,this.visible=!0,this.counter=0},a.prototype.update=function(){!0===this.active&&(this.x+=this.speedX,this.y+=this.speedY,this.scale.x-=.02,this.scale.y=this.scale.x,this.counter+=1,40===this.counter)&&(this.visible=!1,this.active=!1)};var l,c=a;function a(e,t,a,i,n,s,r){e=l.call(this,e,t,a,i,n)||this;return e.counter=0,e.active=!1,e.anchor.setTo(.5),e.visible=!1,e.speedX=s,e.speedY=r,e}h.Lvl13MeteorPart=c})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.active=!1,t.counter=0,t.game=e,t.planet=a.GameManager.instance.layerUpper.create(423,357,"level13","earth_small instance 10000"),t.planet.anchor.setTo(.5),t.planet.visible=!1,t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.activate=function(e){this.planet.visible=!0,this.active=!0,this.win=e,!0===this.win?(this.meteor1=this.game.make.sprite(317,-319,"level13","meteor1 instance 10000"),this.meteor1.anchor.setTo(.5,.9),this.meteor1.angle=45,this.planet.addChild(this.meteor1),this.meteor2=this.game.make.sprite(314,-285,"level13","meteor1 instance 10000"),this.meteor2.anchor.setTo(.5,.9),this.meteor2.angle=45,this.planet.addChild(this.meteor2),this.meteor3=this.game.make.sprite(273,-302,"level13","meteor1 instance 10000"),this.meteor3.anchor.setTo(.5,.9),this.meteor3.angle=45,this.planet.addChild(this.meteor3)):(this.meteor1=this.game.make.sprite(273,-269,"level13","meteor2 instance 10000"),this.meteor1.anchor.setTo(.5,.95),this.meteor1.angle=45,this.planet.addChild(this.meteor1),this.animBlow=this.game.make.sprite(-58,-212,"level13"),this.animBlow.animations.add("anim",Phaser.Animation.generateFrameNames("blowEarth instance 1",0,14,"",4),30,!1).onComplete.addOnce(function(){this.planet.frameName="earth_small instance 10001",this.animBlow.animations.play("anim2")},this),this.animBlow.animations.add("anim2",Phaser.Animation.generateFrameNames("blowEarth instance 1",15,68,"",4),30,!1).onComplete.addOnce(function(){a.LevelBuilder.instance.levelFailed()},this),this.animBlow.visible=!1,this.planet.addChild(this.animBlow))},t.prototype.update=function(){!1!==this.active&&(this.counter+=1,!0===this.win?this.updateAnimWin():this.updateAnimLose())},t.prototype.updateAnimWin=function(){1===this.counter?(this.meteor1Pos(308,-309,45),this.meteor2Pos(303,-274,45),this.meteor3Pos(263,-293,45)):2===this.counter?(this.meteor1Pos(299,-300,45),this.meteor2Pos(292,-263,45),this.meteor3Pos(253,-283,45)):3===this.counter?(this.meteor1Pos(289,-290,45),this.meteor2Pos(282,-252,45),this.meteor3Pos(242,-273,45)):4===this.counter?(this.meteor1Pos(280,-280,45),this.meteor2Pos(271,-241,45),this.meteor3Pos(232,-264,45)):5===this.counter?(this.meteor1Pos(270,-271,45),this.meteor2Pos(260,-230,45),this.meteor3Pos(222,-254,45)):6===this.counter?(this.meteor1Pos(260,-261,45),this.meteor2Pos(249,-219,45),this.meteor3Pos(211,-245,45)):7===this.counter?(this.meteor1Pos(250,-252,45),this.meteor2Pos(238,-208,45),this.meteor3Pos(201,-235,45)):8===this.counter?(this.meteor1Pos(241,-243,45),this.meteor2Pos(227,-197,45),this.meteor3Pos(190,-225,45)):9===this.counter?(this.meteor1Pos(231,-233,45),this.meteor2Pos(217,-186,45),this.meteor3Pos(180,-216,45)):10===this.counter?(this.meteor1Pos(221,-224,45),this.meteor2Pos(206,-174,45),this.meteor3Pos(170,-206,45)):11===this.counter?(this.meteor1Pos(211,-215,45),this.meteor2Pos(195,-163,45),this.meteor3Pos(159,-197,45)):12===this.counter?(this.meteor1Pos(201,-205,45),this.meteor2Pos(184,-152,45),this.meteor3Pos(149,-187,45)):13===this.counter?(this.meteor1Pos(196,-201,46),this.meteor2Pos(180,-147,44),this.meteor3Pos(145,-183,46)):14===this.counter?(this.meteor1Pos(192,-198,46),this.meteor2Pos(176,-143,43),this.meteor3Pos(141,-179,47)):15===this.counter?(this.meteor1Pos(188,-194,47),this.meteor2Pos(173,-139,43),this.meteor3Pos(136,-175,47)):16===this.counter?(this.meteor1Pos(184,-190,47),this.meteor2Pos(169,-135,42),this.meteor3Pos(132,-171,48)):17===this.counter?(this.meteor1Pos(179,-186,48),this.meteor2Pos(165,-131,41),this.meteor3Pos(128,-167,49)):18===this.counter?(this.meteor1Pos(175,-183,48),this.meteor2Pos(161,-126,40),this.meteor3Pos(123,-163,50)):19===this.counter?(this.meteor1Pos(171,-179,49),this.meteor2Pos(157,-122,39),this.meteor3Pos(119,-159,50)):20===this.counter?(this.meteor1Pos(167,-175,49),this.meteor2Pos(154,-118,38),this.meteor3Pos(114,-156,51)):21===this.counter?(this.meteor1Pos(162,-172,50),this.meteor2Pos(150,-113,38),this.meteor3Pos(109,-152,52)):22===this.counter?(this.meteor1Pos(158,-168,50),this.meteor2Pos(146,-109,37),this.meteor3Pos(105,-149,53)):23===this.counter?(this.meteor1Pos(153,-164,51),this.meteor2Pos(143,-104,36),this.meteor3Pos(100,-145,54)):24===this.counter?(this.meteor1Pos(149,-161,52),this.meteor2Pos(139,-100,35),this.meteor3Pos(95,-142,54)):25===this.counter?(this.meteor1Pos(145,-157,52),this.meteor2Pos(136,-95,34),this.meteor3Pos(90,-139,55)):26===this.counter?(this.meteor1Pos(140,-154,53),this.meteor2Pos(133,-90,34),this.meteor3Pos(85,-135,56)):27===this.counter?(this.meteor1Pos(136,-150,53),this.meteor2Pos(130,-85,33),this.meteor3Pos(80,-132,57)):28===this.counter?(this.meteor1Pos(131,-147,54),this.meteor2Pos(127,-79,32),this.meteor3Pos(75,-129,57)):29===this.counter?(this.meteor1Pos(126,-143,54),this.meteor2Pos(124,-74,31),this.meteor3Pos(70,-127,58)):30===this.counter?(this.meteor1Pos(122,-140,55),this.meteor2Pos(122,-69,30),this.meteor3Pos(65,-124,59)):31===this.counter?(this.meteor1Pos(117,-136,55),this.meteor2Pos(119,-64,30),this.meteor3Pos(60,-121,59)):32===this.counter?(this.meteor1Pos(113,-133,56),this.meteor2Pos(116,-58,29),this.meteor3Pos(54,-118,60)):33===this.counter?(this.meteor1Pos(108,-130,57),this.meteor2Pos(114,-53,28),this.meteor3Pos(49,-116,61)):34===this.counter?(this.meteor1Pos(103,-127,57),this.meteor2Pos(112,-48,28),this.meteor3Pos(44,-114,61)):35===this.counter?(this.meteor1Pos(98,-124,58),this.meteor2Pos(110,-43,27),this.meteor3Pos(39,-111,62)):36===this.counter?(this.meteor1Pos(93,-121,58),this.meteor2Pos(108,-37,27),this.meteor3Pos(33,-109,62)):37===this.counter?(this.meteor1Pos(88,-118,59),this.meteor2Pos(106,-32,26),this.meteor3Pos(28,-107,63)):38===this.counter?(this.meteor1Pos(83,-115,59),this.meteor2Pos(104,-26,26),this.meteor3Pos(22,-105,64)):39===this.counter?(this.meteor1Pos(78,-112,60),this.meteor2Pos(102,-21,25),this.meteor3Pos(17,-103,64)):40===this.counter?(this.meteor1Pos(73,-110,60),this.meteor2Pos(100,-16,24),this.meteor3Pos(11,-101,65)):41===this.counter?(this.meteor1Pos(67,-107,61),this.meteor2Pos(98,-11,24),this.meteor3Pos(6,-99,65)):42===this.counter?(this.meteor1Pos(62,-105,61),this.meteor2Pos(95,-5,23),this.meteor3Pos(1,-97,66)):43===this.counter?(this.meteor1Pos(57,-102,62),this.meteor2Pos(93,0,23),this.meteor3Pos(-5,-95,67)):44===this.counter?(this.meteor1Pos(52,-100,62),this.meteor2Pos(91,5,22),this.meteor3Pos(-10,-92,67)):45===this.counter?(this.meteor1Pos(46,-97,62),this.meteor2Pos(89,10,22),this.meteor3Pos(-15,-90,68)):46===this.counter?(this.meteor1Pos(41,-95,62),this.meteor2Pos(86,16,21),this.meteor3Pos(-21,-88,66)):47===this.counter?(this.meteor1Pos(36,-92,61),this.meteor2Pos(84,21,20),this.meteor3Pos(-26,-85,64)):48===this.counter?(this.meteor1Pos(31,-90,61),this.meteor2Pos(81,26,22),this.meteor3Pos(-31,-83,63)):49===this.counter?(this.meteor1Pos(26,-87,61),this.meteor2Pos(79,31,24),this.meteor3Pos(-37,-80,61)):50===this.counter?(this.meteor1Pos(21,-84,61),this.meteor2Pos(76,36,26),this.meteor3Pos(-42,-77,60)):51===this.counter?(this.meteor1Pos(16,-82,61),this.meteor2Pos(73,41,28),this.meteor3Pos(-47,-75,58)):52===this.counter?(this.meteor1Pos(11,-79,61),this.meteor2Pos(70,46,30),this.meteor3Pos(-52,-72,56)):53===this.counter?(this.meteor1Pos(6,-76,60),this.meteor2Pos(67,51,32),this.meteor3Pos(-57,-69,55)):54===this.counter?(this.meteor1Pos(1,-74,60),this.meteor2Pos(64,55,34),this.meteor3Pos(-62,-65,53)):55===this.counter?(this.meteor1Pos(-4,-71,60),this.meteor2Pos(60,60,35),this.meteor3Pos(-67,-62,51)):56===this.counter?(this.meteor1Pos(-9,-68,60),this.meteor2Pos(56,65,37),this.meteor3Pos(-71,-58,50)):57===this.counter?(this.meteor1Pos(-14,-65,60),this.meteor2Pos(52,69,39),this.meteor3Pos(-75,-54,48)):58===this.counter?(this.meteor1Pos(-19,-62,60),this.meteor2Pos(47,73,40),this.meteor3Pos(-80,-50,46)):59===this.counter?(this.meteor1Pos(-23,-59,60),this.meteor2Pos(42,77,42),this.meteor3Pos(-83,-45,45)):60===this.counter?(this.meteor1Pos(-28,-56,59),this.meteor2Pos(37,81,44),this.meteor3Pos(-87,-40,43)):61===this.counter?(this.meteor1Pos(-33,-53,59),this.meteor2Pos(33,84,45),this.meteor3Pos(-91,-35,42)):62===this.counter?(this.meteor1Pos(-38,-50,58),this.meteor2Pos(28,87,47),this.meteor3Pos(-94,-30,41)):63===this.counter?(this.meteor1Pos(-43,-46,56),this.meteor2Pos(22,91,49),this.meteor3Pos(-98,-25,39)):64===this.counter?(this.meteor1Pos(-47,-43,54),this.meteor2Pos(17,94,50),this.meteor3Pos(-101,-20,38)):65===this.counter?(this.meteor1Pos(-52,-39,52),this.meteor2Pos(12,97,52),this.meteor3Pos(-104,-15,36)):66===this.counter?(this.meteor1Pos(-56,-35,51),this.meteor2Pos(7,100,54),this.meteor3Pos(-107,-9,35)):67===this.counter?(this.meteor1Pos(-60,-31,49),this.meteor2Pos(2,103,55),this.meteor3Pos(-110,-4,34)):68===this.counter?(this.meteor1Pos(-64,-26,47),this.meteor2Pos(-3,106,57),this.meteor3Pos(-113,1,32)):69===this.counter?(this.meteor1Pos(-68,-22,45),this.meteor2Pos(-8,108,59),this.meteor3Pos(-116,6,31)):70===this.counter?(this.meteor1Pos(-72,-17,44),this.meteor2Pos(-14,111,60),this.meteor3Pos(-118,12,29)):71===this.counter?(this.meteor1Pos(-75,-13,42),this.meteor2Pos(-19,114,62),this.meteor3Pos(-121,17,30)):72===this.counter?(this.meteor1Pos(-79,-8,40),this.meteor2Pos(-24,116,61),this.meteor3Pos(-124,22,31)):73===this.counter?(this.meteor1Pos(-82,-3,38),this.meteor2Pos(-29,119,60),this.meteor3Pos(-127,28,31)):74===this.counter?(this.meteor1Pos(-85,2,37),this.meteor2Pos(-35,121,59),this.meteor3Pos(-129,33,32)):75===this.counter?(this.meteor1Pos(-88,7,35),this.meteor2Pos(-40,124,58),this.meteor3Pos(-132,38,33)):76===this.counter?(this.meteor1Pos(-91,12,33),this.meteor2Pos(-45,127,57),this.meteor3Pos(-134,44,33)):77===this.counter?(this.meteor1Pos(-93,17,31),this.meteor2Pos(-50,129,56),this.meteor3Pos(-137,49,34)):78===this.counter?(this.meteor1Pos(-96,23,30),this.meteor2Pos(-56,132,55),this.meteor3Pos(-140,54,35)):79===this.counter?(this.meteor1Pos(-98,28,28),this.meteor2Pos(-61,135,55),this.meteor3Pos(-143,59,36)):80===this.counter?(this.meteor1Pos(-101,33,26),this.meteor2Pos(-66,138,54),this.meteor3Pos(-146,65,36)):81===this.counter?(this.meteor1Pos(-103,38,24),this.meteor2Pos(-71,141,53),this.meteor3Pos(-149,70,37)):82===this.counter?(this.meteor1Pos(-105,44,23),this.meteor2Pos(-75,145,52),this.meteor3Pos(-153,75,38)):83===this.counter?(this.meteor1Pos(-107,49,21),this.meteor2Pos(-80,148,51),this.meteor3Pos(-156,79,38)):84===this.counter?(this.meteor1Pos(-110,55,22),this.meteor2Pos(-85,152,50),this.meteor3Pos(-160,84,39)):85===this.counter?(this.meteor1Pos(-113,60,23),this.meteor2Pos(-89,155,49),this.meteor3Pos(-163,89,40)):86===this.counter?(this.meteor1Pos(-115,65,24),this.meteor2Pos(-94,159,48),this.meteor3Pos(-167,93,40)):87===this.counter?(this.meteor1Pos(-118,70,25),this.meteor2Pos(-98,163,47),this.meteor3Pos(-171,98,41)):88===this.counter?(this.meteor1Pos(-122,76,26),this.meteor2Pos(-103,167,46),this.meteor3Pos(-175,102,42)):89===this.counter?(this.meteor1Pos(-125,81,27),this.meteor2Pos(-107,171,45),this.meteor3Pos(-179,107,42)):90===this.counter?(this.meteor1Pos(-128,85,28),this.meteor2Pos(-111,175,44),this.meteor3Pos(-183,111,43)):91===this.counter?(this.meteor1Pos(-132,90,29),this.meteor2Pos(-115,179,43),this.meteor3Pos(-187,115,44)):92===this.counter?(this.meteor1Pos(-135,95,30),this.meteor2Pos(-119,184,43),this.meteor3Pos(-192,119,45)):93===this.counter?(this.meteor1Pos(-139,100,31),this.meteor2Pos(-123,188,42),this.meteor3Pos(-196,123,46)):94===this.counter?(this.meteor1Pos(-143,104,32),this.meteor2Pos(-127,192,41),this.meteor3Pos(-201,127,47)):95===this.counter?(this.meteor1Pos(-146,109,33),this.meteor2Pos(-131,197,40),this.meteor3Pos(-205,131,48)):96===this.counter?(this.meteor1Pos(-150,113,34),this.meteor2Pos(-134,201,40),this.meteor3Pos(-210,134,49)):97===this.counter?(this.meteor1Pos(-154,118,35),this.meteor2Pos(-138,206,39),this.meteor3Pos(-215,138,50)):98===this.counter?(this.meteor1Pos(-158,122,36),this.meteor2Pos(-142,211,38),this.meteor3Pos(-219,142,50)):99===this.counter?(this.meteor1Pos(-162,126,37),this.meteor2Pos(-145,216,38),this.meteor3Pos(-224,145,51)):100===this.counter?(this.meteor1Pos(-166,131,38),this.meteor2Pos(-148,220,37),this.meteor3Pos(-229,149,52)):101===this.counter?(this.meteor1Pos(-170,135,39),this.meteor2Pos(-152,225,36),this.meteor3Pos(-234,152,53)):102===this.counter?(this.meteor1Pos(-174,139,40),this.meteor2Pos(-155,230,35),this.meteor3Pos(-239,155,54)):103===this.counter?(this.meteor1Pos(-178,143,41),this.meteor2Pos(-158,235,35),this.meteor3Pos(-244,158,55)):104===this.counter?(this.meteor1Pos(-182,147,42),this.meteor2Pos(-161,240,34),this.meteor3Pos(-249,161,56)):105===this.counter?(this.meteor1Pos(-186,151,43),this.meteor2Pos(-164,245,33),this.meteor3Pos(-254,165,57)):106===this.counter?(this.meteor1Pos(-191,155,44),this.meteor2Pos(-167,250,33),this.meteor3Pos(-259,168,58)):107===this.counter?(this.meteor1Pos(-195,159,45),this.meteor2Pos(-170,255,32),this.meteor3Pos(-264,170,59)):108===this.counter?(this.meteor1Pos(-199,163,45),this.meteor2Pos(-174,259,32),this.meteor3Pos(-268,174,58)):109===this.counter?(this.meteor1Pos(-202,167,45),this.meteor2Pos(-178,262,33),this.meteor3Pos(-272,178,58)):110===this.counter?(this.meteor1Pos(-206,171,45),this.meteor2Pos(-181,266,33),this.meteor3Pos(-275,182,58)):111===this.counter?(this.meteor1Pos(-210,174,45),this.meteor2Pos(-185,270,34),this.meteor3Pos(-279,185,58)):112===this.counter?(this.meteor1Pos(-214,178,45),this.meteor2Pos(-189,274,34),this.meteor3Pos(-283,189,57)):113===this.counter?(this.meteor1Pos(-218,182,45),this.meteor2Pos(-193,277,35),this.meteor3Pos(-287,193,57)):114===this.counter?(this.meteor1Pos(-221,186,45),this.meteor2Pos(-197,281,36),this.meteor3Pos(-291,197,57)):115===this.counter?(this.meteor1Pos(-225,189,45),this.meteor2Pos(-200,285,36),this.meteor3Pos(-294,200,57)):116===this.counter?(this.meteor1Pos(-229,193,45),this.meteor2Pos(-204,289,37),this.meteor3Pos(-298,204,56)):117===this.counter?(this.meteor1Pos(-233,197,45),this.meteor2Pos(-208,292,37),this.meteor3Pos(-302,208,56)):118===this.counter?(this.meteor1Pos(-237,201,45),this.meteor2Pos(-212,296,38),this.meteor3Pos(-306,212,56)):119===this.counter?(this.meteor1Pos(-240,204,45),this.meteor2Pos(-216,300,38),this.meteor3Pos(-310,215,56)):120===this.counter?(this.meteor1Pos(-244,208,45),this.meteor2Pos(-219,304,39),this.meteor3Pos(-313,219,55)):121===this.counter?(this.meteor1Pos(-248,212,45),this.meteor2Pos(-223,307,39),this.meteor3Pos(-317,223,55)):122===this.counter?(this.meteor1Pos(-252,216,45),this.meteor2Pos(-227,311,40),this.meteor3Pos(-321,227,55)):123===this.counter?(this.meteor1Pos(-256,219,45),this.meteor2Pos(-231,315,40),this.meteor3Pos(-325,230,55)):124===this.counter?(this.meteor1Pos(-259,223,45),this.meteor2Pos(-235,319,41),this.meteor3Pos(-329,234,54)):125===this.counter?(this.meteor1Pos(-263,227,45),this.meteor2Pos(-238,322,41),this.meteor3Pos(-332,238,54)):126===this.counter?(this.meteor1Pos(-267,231,45),this.meteor2Pos(-242,326,42),this.meteor3Pos(-336,242,54)):127===this.counter?(this.meteor1Pos(-271,234,45),this.meteor2Pos(-246,330,43),this.meteor3Pos(-340,245,54)):128===this.counter?(this.meteor1Pos(-275,238,45),this.meteor2Pos(-250,334,43),this.meteor3Pos(-344,249,53)):129===this.counter?(this.meteor1Pos(-278,242,45),this.meteor2Pos(-253,337,44),this.meteor3Pos(-348,253,53)):130===this.counter?(this.meteor1Pos(-282,246,45),this.meteor2Pos(-257,341,44),this.meteor3Pos(-351,257,53)):131===this.counter?(this.meteor1Pos(-286,249,45),this.meteor2Pos(-261,345,45),this.meteor3Pos(-355,260,53)):132===this.counter?(this.meteor1Pos(-290,253,45),this.meteor2Pos(-265,349,45),this.meteor3Pos(-359,264,52)):133===this.counter?(this.meteor1Pos(-294,257,45),this.meteor2Pos(-269,352,46),this.meteor3Pos(-363,268,52)):134===this.counter?(this.meteor1Pos(-297,261,45),this.meteor2Pos(-272,356,46),this.meteor3Pos(-367,272,52)):135===this.counter?(this.meteor1Pos(-301,264,45),this.meteor2Pos(-276,360,47),this.meteor3Pos(-370,275,52)):136===this.counter?(this.meteor1Pos(-305,268,45),this.meteor2Pos(-280,364,47),this.meteor3Pos(-374,279,51)):137===this.counter?(this.meteor1Pos(-309,272,45),this.meteor2Pos(-284,367,48),this.meteor3Pos(-378,283,51)):138===this.counter?(this.meteor1Pos(-313,276,45),this.meteor2Pos(-288,371,48),this.meteor3Pos(-382,287,51)):139===this.counter||140===this.counter?(this.meteor1Pos(-316,279,45),this.meteor2Pos(-291,375,49),this.meteor3Pos(-386,290,51)):141===this.counter&&(this.active=!1,a.DataManager.getInstance().saveData("questFlag"+a.LevelManager.getInstance().currentLevel,1),a.LevelBuilder.instance.nextLevel())},t.prototype.meteor1Pos=function(e,t,a){this.meteor1.x=e,this.meteor1.y=t,this.meteor1.angle=a},t.prototype.meteor2Pos=function(e,t,a){this.meteor2.x=e,this.meteor2.y=t,this.meteor2.angle=a},t.prototype.meteor3Pos=function(e,t,a){this.meteor3.x=e,this.meteor3.y=t,this.meteor3.angle=a},t.prototype.updateAnimLose=function(){1===this.counter?a.GameManager.instance.level.setSimpleTween(this.meteor1,16,{x:31,y:-31}):17===this.counter&&(this.meteor1.destroy(),this.animBlow.visible=!0,this.animBlow.animations.play("anim"),this.active=!1)},t.prototype.free=function(){this.game=null,this.planet=null,this.meteor1=null,this.meteor2=null,this.meteor3=null,this.animBlow=null},a.Lvl13SmallEarth=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.active=!0,t.anim=!0,t.counter=0,t.graphic=a.GameManager.instance.layerElements.create(309,-2,"level13","smallMeteor instance 10000"),t.graphic.anchor.setTo(.1,.5),t.graphic.angle=-20,t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.update=function(){!0===this.active&&(this.counter+=1,!0===this.anim?1===this.counter?a.GameManager.instance.level.setSimpleTween(this.graphic,120,{x:-133,y:160}):121===this.counter&&(this.counter=0,this.anim=!1):350===this.counter&&(this.counter=0,this.anim=!0,this.graphic.x=309,this.graphic.y=-2))},t.prototype.free=function(){this.graphic=null},a.Lvl13SmallMeteor=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.active=!0,t.anim=!0,t.counter=0,t.graphic=a.GameManager.instance.layerElements.create(855,79,"level13","sputnik instance 10000"),t.graphic.anchor.setTo(.5),t.graphic.angle=-13,t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.update=function(){!0===this.active&&(this.counter+=1,!0===this.anim?1===this.counter?a.GameManager.instance.level.setSimpleTween(this.graphic,270,{x:406,y:-30,angle:145}):271===this.counter&&(this.counter=0,this.anim=!1):400===this.counter&&(this.counter=0,this.anim=!0,this.graphic.x=855,this.graphic.y=79,this.graphic.angle=-13))},t.prototype.free=function(){this.graphic=null},a.Lvl13Sputnik=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.work=!1,i.active=!1,i.connected=!1,i.brokenCutter=!1,i.grassCutting=!1,i.stopCar=!1,i.game=e,i.cutter=new Phaser.Physics.Box2D.Body(i.game,null,t,a,2),i.cutter.setRectangle(85,30),i.sensor=new Phaser.Physics.Box2D.Body(i.game,null,625,484,0),i.sensor.setRectangle(20,27),i.sensor.sensor=!0,i.cutter.setBodyContactCallback(i.sensor,i.startCuteGrass,i),i.graphic=n.GameManager.instance.layerElements.create(t,a,"level1","grassCutterRed instance 10000"),i.graphic.animations.add("move",Phaser.Animation.generateFrameNames("grassCutterRed instance 1",0,14,"",4),35,!0),i.graphic.anchor.set(.5),i.wheel1=n.GameManager.instance.layerElements.create(t-10,a+18,"level1","grassCutterWheel instance 10000"),i.game.physics.box2d.enable(i.wheel1),i.wheel1.body.setCircle(8),i.wheel2=n.GameManager.instance.layerElements.create(t+27,a+18,"level1","grassCutterWheel instance 10000"),i.game.physics.box2d.enable(i.wheel2),i.wheel2.body.setCircle(8),i.game.physics.box2d.revoluteJoint(i.cutter,i.wheel1,-10,18,0,0),i.game.physics.box2d.revoluteJoint(i.cutter,i.wheel2,27,18,0,0),i.grassSnip=n.GameManager.instance.layerElements.create(t,a,"level1","grassSnip instance 10000"),i.grassSnip.animations.add("move",Phaser.Animation.generateFrameNames("grassSnip instance 1",0,11,"",4),35,!0),i.grassSnip.anchor.set(0,1),i.grassSnip.visible=!1,i.mask=new Phaser.Graphics(i.game,625,462),i.mask.beginFill(0),i.mask.drawRect(0,0,450,35),i.mask.endFill(),n.GameManager.instance.layerUpper.addChild(i.mask),i.grass=n.GameManager.instance.layerUpper.create(410,462,"level1","grass instance 10000",!0,0),i.grass.mask=i.mask,i.startWork(),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.startWork=function(){this.active=!0,this.work=!0,this.graphic.play("move")},t.prototype.startCuteGrass=function(e,t,a,i,n){e!==t&&!1!==n&&(this.grassSnip.play("move"),this.grassSnip.visible=!0,this.grassCutting=!0)},t.prototype.update=function(){this.graphic.x=this.cutter.x,this.graphic.y=this.cutter.y,this.grassSnip.x=this.cutter.x+25,this.grassSnip.y=this.cutter.y+10,!0===this.grassCutting&&(this.mask.x=this.wheel2.x+15),!0===this.active&&!1===this.connected&&(this.connected=!0,this.connectJ=this.game.physics.box2d.revoluteJoint(this.cutter,n.GameManager.instance.hero.bodyBase,-40,-20,60,0)),!0===this.active&&!0===this.brokenCutter&&(this.active=!1,this.work=!1,n.GameManager.instance.hero.setEnableMotor(!1),this.game.physics.box2d.world.DestroyJoint(this.connectJ),this.cutter.data.SetActive(!1),this.wheel1.body.data.SetActive(!1),this.wheel2.body.data.SetActive(!1),this.grassSnip.visible=!1,this.graphic.animations.stop()),!0===this.grassCutting&&!0===this.work&&(this.cutter.velocity.x<1?this.grassSnip.visible=!1:this.grassSnip.visible=!0),680<n.GameManager.instance.hero.bodyBase.x&&!1===this.stopCar&&(this.stopCar=!0,n.GameManager.instance.hero.setEnableMotor(!1,!1),n.GameManager.instance.level.showBlackScreen=!0)},t.prototype.free=function(){this.game=null,this.cutter=null,this.graphic=null,this.wheel1=null,this.wheel2=null,this.grass=null,this.grassSnip=null,this.mask=null,this.connectJ=null,this.sensor=null},n.Lvl15GrassCutter=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.goUp=!1,i.speedHand=1,i.active=!0,i.oil=new n.Lvl2Oil(e,t+5,a+50,"level2","oil instance 10000"),n.GameManager.instance.layerBackground0.add(i.oil),i.graphic=n.GameManager.instance.layerBackground0.create(t,a,"level2","dino instance 10000"),i.hand=n.GameManager.instance.layerBackground0.create(t+45,a+50,"level2","dinoHand instance 10000"),i.hand.anchor.setTo(.11,.53),i.hand.angle=-40,i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.broke=function(){this.graphic.frameName="dino instance 10001",this.active=!1,this.hand.angle=-40,this.hand.x=this.graphic.x+173,this.hand.y=this.graphic.y+96,this.oil.destroy()},t.prototype.update=function(){!1!==this.active&&(!0===this.goUp?(this.hand.angle-=this.speedHand,this.hand.angle<=-40&&(this.goUp=!1)):(this.hand.angle+=this.speedHand,-10<=this.hand.angle&&(this.goUp=!0)))},t.prototype.free=function(){this.graphic=null,this.hand=null,this.oil=null},n.Lvl2Dino=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.speedY=130,i.moving=0,i.endPoint=1,i.closeY=a,i.openY=a-190,i.graphic=n.GameManager.instance.layerBackground.create(t,a,"level2","door instance 10000"),e.physics.box2d.enable(i.graphic),i.graphic.body.setRectangle(18,218),i.graphic.body.kinematic=!0,i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.open=function(){-1!==this.moving&&-1!==this.endPoint&&(this.moving=-1,this.graphic.body.velocity.y=-this.speedY,n.SoundManager.playSFX("lvl2_s_openDoor"))},t.prototype.close=function(){1!==this.moving&&1!==this.endPoint&&(this.moving=1,this.graphic.body.velocity.y=this.speedY,n.SoundManager.playSFX("lvl2_s_openDoor"))},t.prototype.stopMove=function(){this.moving=0,this.graphic.body.velocity.y=0},t.prototype.update=function(){-1===this.moving?this.graphic.body.y<=this.openY&&(this.graphic.body.y=this.openY,this.endPoint=-1,this.stopMove()):1===this.moving&&this.graphic.body.y>=this.closeY&&(this.graphic.body.y=this.closeY,this.endPoint=1,this.stopMove())},t.prototype.free=function(){this.graphic=null},n.Lvl2Door=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.counterAnim=0,i.active=!1,i.stX=t,i.stY=a,i.game=e,i.graphicGlass=n.GameManager.instance.layerBackground0.create(t,a,"level2","glass instance 10000"),i.graphicGlass.anchor.setTo(.5),i.element1=n.GameManager.instance.layerBackground0.create(t-23,a-56,"level2","glassElement1 instance 10000"),i.element1.anchor.setTo(.5),i.element2=n.GameManager.instance.layerBackground0.create(t+17,a-18,"level2","glassElement2 instance 10000"),i.element2.anchor.setTo(.5),i.element3=n.GameManager.instance.layerBackground0.create(t+47,a-20,"level2","glassElement3 instance 10000"),i.element3.anchor.setTo(.5),i.element4=n.GameManager.instance.layerBackground0.create(t+90,a-20,"level2","glassElement4 instance 10000"),i.element4.anchor.setTo(.5),i.element5=n.GameManager.instance.layerBackground0.create(t+134,a-20,"level2","glassElement5 instance 10000"),i.element5.anchor.setTo(.5),i.element6=n.GameManager.instance.layerBackground0.create(t+34,a+47,"level2","glassElement1 instance 10000"),i.element6.anchor.setTo(.5),i.element7=n.GameManager.instance.layerBackground0.create(t+78,a+43,"level2","glassElement6 instance 10000"),i.element7.anchor.setTo(.5),i.element8=n.GameManager.instance.layerBackground0.create(t+75,a+105,"level2","glassElement7 instance 10000"),i.element8.anchor.setTo(.5),i.element9=n.GameManager.instance.layerBackground0.create(t+125,a+110,"level2","glassElement8 instance 10000"),i.element9.anchor.setTo(.5),n.GameManager.instance.layerBackground0.create(t+40,a-8,"level2","glassTabl instance 10000"),n.GameManager.instance.layerBackground0.create(t+35,a+61,"level2","glassTabl instance 10000"),n.GameManager.instance.layerBackground0.create(t+112,a+61,"level2","glassTabl instance 10000"),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.broke=function(){this.graphicGlass.frameName="glass instance 10001",this.active=!0},t.prototype.update=function(){!1!==this.active&&(this.counterAnim+=1,1===this.counterAnim?(n.GameManager.instance.level.setSimpleTween(this.element1,5,{x:this.stX-22,y:this.stY-70,angle:20}),n.GameManager.instance.level.setSimpleTween(this.element2,5,{y:this.stY-30}),n.GameManager.instance.level.setSimpleTween(this.element3,5,{y:this.stY-35,angle:8}),n.GameManager.instance.level.setSimpleTween(this.element4,5,{y:this.stY-30}),n.GameManager.instance.level.setSimpleTween(this.element5,5,{x:this.stX+138,y:this.stY-35,angle:20}),n.GameManager.instance.level.setSimpleTween(this.element6,5,{x:this.stX+38,y:this.stY+40,angle:10}),n.GameManager.instance.level.setSimpleTween(this.element7,5,{x:this.stX+82,y:this.stY+37}),n.GameManager.instance.level.setSimpleTween(this.element8,10,{x:this.stX+110,y:this.stY+109,angle:41})):6===this.counterAnim?(n.GameManager.instance.level.setSimpleTween(this.element1,5,{x:this.stX-12,y:this.stY-53,angle:90}),n.GameManager.instance.level.setSimpleTween(this.element2,5,{y:this.stY-18}),n.GameManager.instance.level.setSimpleTween(this.element3,5,{y:this.stY-25,angle:25}),n.GameManager.instance.level.setSimpleTween(this.element4,5,{y:this.stY-20}),n.GameManager.instance.level.setSimpleTween(this.element5,5,{x:this.stX+136,y:this.stY-18,angle:85}),n.GameManager.instance.level.setSimpleTween(this.element6,5,{x:this.stX+38,y:this.stY+47,angle:10}),n.GameManager.instance.level.setSimpleTween(this.element7,5,{x:this.stX+86,y:this.stY+43})):11===this.counterAnim&&(this.active=!1,this.element9.x=this.stX+134,this.element9.angle=40))},t.prototype.free=function(){this.game=null,this.graphicGlass=null,this.element1=null,this.element2=null,this.element3=null,this.element4=null,this.element5=null,this.element6=null,this.element7=null,this.element8=null,this.element9=null},n.Lvl2Glass=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.graphic=a.GameManager.instance.layerBackground0.create(235,225,"level2","grassCutter instance 10000"),t.graphic.anchor.setTo(.5),t.explosion=a.GameManager.instance.layerBackground0.create(250,200,"level2","explosion instance 10000"),t.explosion.animations.add("anim",Phaser.Animation.generateFrameNames("explosion instance 1",0,29,"",4),30,!1).killOnComplete=!0,t.explosion.anchor.setTo(.5),t.explosion.visible=!1,t.grassCutterBack=a.GameManager.instance.layerElements.create(235,225,"level2","grassCutterBack instance 10000"),e.physics.box2d.enable(t.grassCutterBack),t.grassCutterBack.body.setRectangle(26,18),t.grassCutterBack.body.setCollisionMask(~a.FilterGroups.IGNORE_CAR),t.grassCutterBack.visible=!1,t.grassCutterBack.body.data.SetActive(!1),t.grassCutterBody=a.GameManager.instance.layerElements.create(235,225,"level2","grassCutterBody instance 10000"),e.physics.box2d.enable(t.grassCutterBody),t.grassCutterBody.body.setRectangle(60,16),t.grassCutterBody.body.setCollisionMask(~a.FilterGroups.IGNORE_CAR),t.grassCutterBody.visible=!1,t.grassCutterBody.body.data.SetActive(!1),t.grassCutterHaft=a.GameManager.instance.layerElements.create(235,225,"level2","grassCutterHaft instance 10000"),e.physics.box2d.enable(t.grassCutterHaft),t.grassCutterHaft.body.setRectangle(48,15),t.grassCutterHaft.body.setCollisionMask(~a.FilterGroups.IGNORE_CAR),t.grassCutterHaft.visible=!1,t.grassCutterHaft.body.data.SetActive(!1),t.grassCutterTop1=a.GameManager.instance.layerElements.create(235,225,"level2","grassCutterTop1 instance 10000"),e.physics.box2d.enable(t.grassCutterTop1),t.grassCutterTop1.body.setRectangle(36,8),t.grassCutterTop1.body.setCollisionMask(~a.FilterGroups.IGNORE_CAR),t.grassCutterTop1.visible=!1,t.grassCutterTop1.body.data.SetActive(!1),t.grassCutterTop2=a.GameManager.instance.layerElements.create(235,225,"level2","grassCutterTop2 instance 10000"),e.physics.box2d.enable(t.grassCutterTop2),t.grassCutterTop2.body.setCollisionMask(~a.FilterGroups.IGNORE_CAR),t.grassCutterTop2.visible=!1,t.grassCutterTop2.body.data.SetActive(!1),t.grassCutterWheel1=a.GameManager.instance.layerElements.create(235,225,"level2","grassCutterWheel instance 10000"),e.physics.box2d.enable(t.grassCutterWheel1),t.grassCutterWheel1.body.setCircle(10),t.grassCutterWheel1.body.setCollisionMask(~a.FilterGroups.IGNORE_CAR),t.grassCutterWheel1.visible=!1,t.grassCutterWheel1.body.data.SetActive(!1),t.grassCutterWheel2=a.GameManager.instance.layerElements.create(235,225,"level2","grassCutterWheel instance 10000"),e.physics.box2d.enable(t.grassCutterWheel2),t.grassCutterWheel2.body.setCircle(10),t.grassCutterWheel2.body.setCollisionMask(~a.FilterGroups.IGNORE_CAR),t.grassCutterWheel2.visible=!1,t.grassCutterWheel2.body.data.SetActive(!1),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.broke=function(){this.explosion.visible=!0,this.explosion.animations.play("anim"),this.graphic.destroy(),this.grassCutterWheel2.visible=!0,this.grassCutterWheel2.body.data.SetActive(!0),this.grassCutterWheel2.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.2,.4),this.grassCutterWheel2.body.data.GetPosition()),this.grassCutterTop2.visible=!0,this.grassCutterTop2.body.data.SetActive(!0),this.grassCutterTop2.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.57,.7),this.grassCutterTop2.body.data.GetPosition()),this.grassCutterTop1.visible=!0,this.grassCutterTop1.body.data.SetActive(!0),this.grassCutterTop1.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.6,.7),this.grassCutterTop1.body.data.GetPosition()),this.grassCutterBack.visible=!0,this.grassCutterBack.body.data.SetActive(!0),this.grassCutterBack.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.15,1.2),this.grassCutterBack.body.data.GetPosition()),this.grassCutterHaft.visible=!0,this.grassCutterHaft.body.data.SetActive(!0),this.grassCutterHaft.body.data.ApplyLinearImpulse(new box2d.b2Vec2(2.7,1.2),this.grassCutterHaft.body.data.GetPosition()),this.grassCutterBody.visible=!0,this.grassCutterBody.body.data.SetActive(!0),this.grassCutterBody.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-2,3.3),this.grassCutterBody.body.data.GetPosition()),this.grassCutterWheel1.visible=!0,this.grassCutterWheel1.body.data.SetActive(!0),this.grassCutterWheel1.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-1,.7),this.grassCutterWheel1.body.data.GetPosition())},t.prototype.free=function(){this.graphic=null,this.explosion=null,this.grassCutterBack=null,this.grassCutterBody=null,this.grassCutterHaft=null,this.grassCutterTop1=null,this.grassCutterTop2=null,this.grassCutterWheel1=null,this.grassCutterWheel2=null},a.Lvl2GrassCutter=t})(Wheely=Wheely||{}),(e=>{var t,a;function i(){var e=a.call(this)||this;return e.activePart1=!1,e.activePart2=!1,e.counterAnim1=0,e.counterAnim2=0,e.brokeHouse1=t.GameManager.instance.layerBackground0.create(144,41,"level2","brokeHouse1 instance 10000"),e.brokeHouse1.visible=!1,e.brokeHouse2=t.GameManager.instance.layerBackground0.create(177.5,246,"level2","brokeHouse2 instance 10000"),e.brokeHouse2.visible=!1,e.house1part1=t.GameManager.instance.layerBackground0.create(137.5,48.5,"level2","house1part1 instance 10000"),e.house1part2=t.GameManager.instance.layerBackground0.create(156,136,"level2","house1part2 instance 10000"),e.house1part2.anchor.setTo(.5,.85),e.house1part3=t.GameManager.instance.layerBackground0.create(347,57,"level2","house1part3 instance 10000"),e.house1part3.anchor.setTo(.9,.5),e.house2part1=t.GameManager.instance.layerBackground0.create(177,254,"level2","house2part1 instance 10000"),e.house2part1.anchor.setTo(0,.5),e.house2part2=t.GameManager.instance.layerBackground0.create(243,254,"level2","house2part2 instance 10000"),e.house2part2.anchor.setTo(.5),e.house2part3=t.GameManager.instance.layerBackground0.create(318,254,"level2","house2part3 instance 10000"),e.house2part3.anchor.setTo(1,.5),e.house3part1=t.GameManager.instance.layerUpper.create(245,506,"level2","house3part1 instance 10000"),e.boom=t.GameManager.instance.layerUpper.create(67,398,"level2"),e.boom.animations.add("anim",Phaser.Animation.generateFrameNames("boom instance 1",0,22,"",4),35,!1),e.boom.visible=!1,e}t=e.Client||(e.Client={}),a=t.BasicElement,__extends(i,a),i.prototype.broke1=function(){this.brokeHouse1.visible=!0,this.activePart1=!0},i.prototype.broke2=function(){this.brokeHouse2.visible=!0,this.activePart2=!0},i.prototype.broke3=function(){this.house3part1.frameName="house3part1 instance 10001",this.boom.visible=!0,this.boom.animations.play("anim")},i.prototype.update=function(){!0===this.activePart1&&(this.counterAnim1+=1,1===this.counterAnim1?(t.GameManager.instance.level.setSimpleTween(this.house1part2,4,{angle:162}),t.GameManager.instance.level.setSimpleTween(this.house1part3,4,{angle:-94})):5===this.counterAnim1&&(t.GameManager.instance.level.setSimpleTween(this.house1part2,4,{angle:137}),t.GameManager.instance.level.setSimpleTween(this.house1part3,4,{angle:-74}),this.activePart1=!1)),!0===this.activePart2&&(this.counterAnim2+=1,1===this.counterAnim2?(t.GameManager.instance.level.setSimpleTween(this.house2part1,5,{angle:90}),t.GameManager.instance.level.setSimpleTween(this.house2part2,10,{y:517}),t.GameManager.instance.level.setSimpleTween(this.house2part3,5,{angle:-107})):6===this.counterAnim2?(t.GameManager.instance.level.setSimpleTween(this.house2part1,5,{angle:60}),t.GameManager.instance.level.setSimpleTween(this.house2part3,5,{angle:-80})):11===this.counterAnim2&&(t.GameManager.instance.level.setSimpleTween(this.house2part1,5,{angle:81}),t.GameManager.instance.level.setSimpleTween(this.house2part3,5,{angle:-97}),this.activePart2=!1))},i.prototype.free=function(){this.brokeHouse1=null,this.brokeHouse2=null,this.house1part1=null,this.house1part2=null,this.house1part3=null,this.house2part1=null,this.house2part2=null,this.house2part3=null,this.house3part1=null,this.boom=null},t.Lvl2House=i})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.moving=0,i.speedMove=50,i.drivenHero=!1,i.activeControl=!0,i.endUp=a,i.endDown=a+273,i.group=e.make.group(),i.group.x=t,i.group.y=a,n.GameManager.instance.layerBackground.add(i.group),i.body=new Phaser.Physics.Box2D.Body(e,null,t,a,1),i.body.setRectangle(142,20,0,15),i.body.sensor=!0,i.graphicPropeler=i.group.create(-9.5,25,"level2","liftPropeler instance 10000"),i.graphicPropeler.anchor.setTo(.5),i.group.create(-9.5,25,"level2","liftPropelerRam instance 10000").anchor.setTo(.5),i.graphicLift=i.group.create(0,0,"level2","lift instance 10000"),i.graphicLift.anchor.setTo(.5),i.graphicDisplay=i.group.create(20,-26,"level2","liftDisplay instance 10000"),i.graphicDisplay.anchor.setTo(.5),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.broke=function(){this.body.sensor=!0},t.prototype.moveUp=function(e){Math.floor(this.body.y)!==this.endUp&&!1!==this.activeControl&&(this.moving=-1,this.body.velocity.y=-this.speedMove,this.graphicDisplay.frameName="liftDisplay instance 10001",!0===e&&Math.floor(this.body.y)===this.endDown&&(this.body.sensor=!1,this.drivenHero=!0),n.SoundManager.playSFX("s_elevator",!0))},t.prototype.moveDown=function(){Math.floor(this.body.y)!==this.endDown&&!1!==this.activeControl&&(this.moving=1,this.body.velocity.y=this.speedMove,this.graphicDisplay.frameName="liftDisplay instance 10001",n.SoundManager.playSFX("s_elevator",!0))},t.prototype.stopMove=function(e){void 0===e&&(e=!0),0===this.moving||!0===e&&!1===this.activeControl||(this.body.velocity.y=0,this.moving=0,this.graphicDisplay.frameName="liftDisplay instance 10000",n.SoundManager.stopSFXLoop("s_elevator"))},t.prototype.update=function(){0!==this.moving&&(-1===this.moving?(this.body.y<=this.endUp&&(this.stopMove(!1),this.body.y=this.endUp),!0===this.drivenHero&&!0===this.activeControl&&this.body.y<=this.endUp+50&&(n.GameManager.instance.level.customAction(1),this.activeControl=!1)):1===this.moving&&this.body.y>=this.endDown&&(this.stopMove(!1),this.body.y=this.endDown),this.graphicPropeler.angle+=10,this.group.y=this.body.y)},t.prototype.free=function(){this.group=null,this.body=null,this.graphicLift=null,this.graphicDisplay=null,this.graphicPropeler=null},n.Lvl2Lift=t})(Wheely=Wheely||{}),(e=>{var s;function t(e,t,a,i,n){t=s.call(this,e,t,a,i,n)||this;return t.anchor.setTo(.5),t.blick=e.make.sprite(0,0,i,"oilBlick instance 10000"),t.blick.anchor.setTo(.5),t.addChild(t.blick),t}e=e.Client||(e.Client={}),s=Phaser.Sprite,__extends(t,s),t.prototype.update=function(){this.blick.angle+=1},t.prototype.destroy=function(){s.prototype.destroy.call(this),this.blick=null},e.Lvl2Oil=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.moving=!1,i.speed=5,i.startParticle=!1,i.particleCounter=0,i.game=e,i.particles=new Array,i.graphic=n.GameManager.instance.layerElements.create(t,a,"level2","redCar instance 10000"),e.physics.box2d.enable(i.graphic),i.graphic.body.setRectangle(180,50),i.graphic.body.data.SetUserData("heroCorpus"),i.graphic.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.graphicEyes=e.make.sprite(17,-45,"level2"),i.graphicEyes.animations.add("idle",Phaser.Animation.generateFrameNames("redCarEyes instance 1",0,118,"",4),30,!0),i.graphicEyes.animations.add("meteor",Phaser.Animation.generateFrameNames("redCarEyes instance 1",119,169,"",4),30,!1),i.graphicEyes.animations.play("idle"),i.graphic.addChild(i.graphicEyes),i.graphicWheelBack=n.GameManager.instance.layerElements.create(t-49,a+39,"level2","redCarWheel instance 10000"),e.physics.box2d.enable(i.graphicWheelBack),i.graphicWheelBack.body.setCircle(23),i.graphicWheelBack.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.graphicWheelFront=n.GameManager.instance.layerElements.create(t+68,a+39,"level2","redCarWheel instance 10000"),e.physics.box2d.enable(i.graphicWheelFront),i.graphicWheelFront.body.setCircle(23),i.graphicWheelFront.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.joinBack=e.physics.box2d.revoluteJoint(i.graphic,i.graphicWheelBack,-49,39,0,0,0,4),e.physics.box2d.revoluteJoint(i.graphic,i.graphicWheelFront,68,39,0,0,0,4),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.broke=function(){this.graphicEyes.animations.play("meteor"),this.move(-1),this.startParticle=!0},t.prototype.move=function(e){this.moving=!0,this.joinBack.EnableMotor(!0),this.speed=5*e},t.prototype.stopMove=function(){this.moving=!1,this.joinBack.EnableMotor(!1),this.graphic.body.velocity.x=0,this.graphicWheelBack.body.velocity.x=0,this.graphicWheelBack.body.angularVelocity=0,this.graphicWheelFront.body.velocity.x=0,this.graphicWheelFront.body.angularVelocity=0,this.speed=0},t.prototype.update=function(){!0===this.moving&&this.joinBack.SetMotorSpeed(this.speed),!0===this.startParticle&&(this.particleCounter+=1,2===this.particleCounter)&&(this.particleCounter=0,this.playParticle(70+n.Tools.random(-15,15),-20+n.Tools.random(-10,10),n.Tools.random(5,10)/10))},t.prototype.playParticle=function(e,t,a){for(var i=0;i<this.particles.length;i++)if(!1===this.particles[i].visible)return this.particles[i].x=e,this.particles[i].y=t,this.particles[i].scale.setTo(a),this.particles[i].visible=!0,void this.particles[i].animations.play("anim");var n=this.game.make.sprite(e,t,"level2");n.animations.add("anim",Phaser.Animation.generateFrameNames("meteorTrackParticle instance 1",0,14,"",4),30,!1).onComplete.add(function(){n.visible=!1},this),n.animations.play("anim"),n.scale.setTo(a),n.anchor.setTo(.5),this.graphic.addChild(n),this.particles.push(n)},t.prototype.free=function(){this.game=null,this.graphic=null,this.graphicEyes=null,this.graphicWheelBack=null,this.graphicWheelFront=null,this.joinBack=null,this.particles=null},n.Lvl2RedCar=t})(Wheely=Wheely||{}),(e=>{var r,o;function t(e,t,a,i,n){var s=o.call(this)||this;return s.rotateSpeed=7,s.body=null,s.direction=0,s.speed=5,s.lever=null,s.leverActions=0,s.eyes=null,s.game=e,s.id=n,s.line=i,s.group=new Phaser.Group(s.game),s.group.x=t,s.group.y=a,s.wheelsArray=new Array,s.graphic=s.game.make.sprite(0,0,"level3","car"+s.id+" instance 10000"),s.graphic.anchor.set(.5,1),s.group.addChild(s.graphic),0===s.line?r.GameManager.instance.level.carGroup1.addChild(s.group):1===s.line?r.GameManager.instance.level.carGroup2.addChild(s.group):2===s.line&&r.GameManager.instance.level.carGroup3.addChild(s.group),s}r=e.Client||(e.Client={}),o=r.BasicElement,__extends(t,o),t.prototype.setIndex=function(e){-1===(e=void 0===e?-1:e)&&(e=r.GameManager.instance.layerElements.length-1),r.GameManager.instance.layerElements.setChildIndex(this.graphic,e)},t.prototype.addWheel=function(e,t){e=this.game.make.sprite(e,t,"level3","wheel"+this.id+" instance 10000");e.anchor.set(.5),this.graphic.addChild(e),this.wheelsArray.push(e)},t.prototype.addEyes=function(e,t,a){this.eyes=this.game.make.sprite(e,t,"level3","eye"+this.id+" instance 10000"),this.eyes.animations.add("idle",Phaser.Animation.generateFrameNames("eye"+this.id+" instance 1",0,a,"",4),35,!0),this.eyes.play("idle"),this.graphic.addChild(this.eyes)},t.prototype.addMeteorAnim=function(e,t){this.eyes.animations.add("meteor",Phaser.Animation.generateFrameNames("eye"+this.id+" instance 1",e,t,"",4),35,!1).onComplete.addOnce(function(){this.eyes.play("idle")},this),this.eyes.play("idle")},t.prototype.playMeteorAnim=function(){null!=this.eyes&&this.eyes.play("meteor")},t.prototype.addScareAnim=function(e,t){this.eyes.animations.add("scare",Phaser.Animation.generateFrameNames("eye"+this.id+" instance 1",e,t,"",4),35,!1).onComplete.addOnce(function(){this.eyes.play("idle")},this)},t.prototype.moveToDifference=function(e,t){this.moveTo(this.group.x+e,t)},t.prototype.moveTo=function(e,t){this.direction=1,this.group.x>e&&(this.direction=-1),this.speed=t,this.movePoint=e},t.prototype.addBody=function(e,t,a){void 0===a&&(a=-10),this.body=new Phaser.Physics.Box2D.Body(this.game,null,this.group.x,this.group.y,1),this.body.setRectangle(e,t,0,a),this.body.setCollisionMask(r.FilterGroups.CAR2),this.body.sensor=!0,r.GameManager.instance.hero.bodyBase.setBodyContactCallback(this.body,r.GameManager.instance.level.contact,r.GameManager.instance.level)},t.prototype.addLever=function(){this.lever=this.game.make.sprite(-112,-88,"level3","lever7 instance 10000"),this.lever.inputEnabled=!0,this.lever.input.useHandCursor=!0,this.lever.events.onInputUp.add(this.useLever,this),this.graphic.addChild(this.lever)},t.prototype.useLever=function(e){this.leverActions+=1,e.inputEnabled=!1,r.GameManager.instance.level.leverOn=!r.GameManager.instance.level.leverOn,1===this.leverActions?(this.moveTo(965,1),1===r.GameManager.instance.level.heroOnRoad.currentLine&&r.GameManager.instance.level.action2()):(this.leverActions=0,this.moveTo(810,1),1===r.GameManager.instance.level.heroOnRoad.currentLine&&r.GameManager.instance.level.moveAllCarsTo(155)),e.frameName="lever7 instance 1000"+this.leverActions,r.SoundManager.playSFX("s_lever")},t.prototype.addTrap=function(e,t){e=this.game.make.button(e,t,"level3",this.useTrap,this,"trapButton instance 10001","trapButton instance 10000","trapButton instance 10000");this.group.addChildAt(e,0)},t.prototype.useTrap=function(e){var t=this.game.make.sprite(e.x+183,e.y+5,"level3","trapAnim instance 10000");t.anchor.set(1,.5),t.animations.add("move",Phaser.Animation.generateFrameNames("trapAnim instance 1",0,37,"",4),35,!1).onComplete.addOnce(this.canCreateBridge,this),this.game.add.tween(t).to({angle:-30},1500,"Linear",!0).onComplete.addOnce(function(){t.play("move")},this),this.group.addChildAt(t,0),e.kill(),r.GameManager.instance.level.canCriateBridge=!0,r.SoundManager.playSFX("s_trampline")},t.prototype.canCreateBridge=function(){r.GameManager.instance.level.addBridge()},t.prototype.addBridge=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,270,this.graphic.world.y-57,1);e.setRectangle(300,10,-30,0),e.angle=-27,(e=new Phaser.Physics.Box2D.Body(this.game,null,160,this.graphic.world.y-62,1)).setRectangle(10,200,0,0),e.sensor=!0,r.GameManager.instance.hero.bodyBase.setBodyContactCallback(e,this.boostHero,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,210,this.graphic.world.y-62,1)).setRectangle(10,200,0,0),e.sensor=!0,r.GameManager.instance.hero.bodyBase.setBodyContactCallback(e,this.boostHero,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,260,this.graphic.world.y-62,1)).setRectangle(10,200,0,0),e.sensor=!0,r.GameManager.instance.hero.bodyBase.setBodyContactCallback(e,this.boostHero,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,310,this.graphic.world.y-62,1)).setRectangle(10,200,0,0),e.sensor=!0,r.GameManager.instance.hero.bodyBase.setBodyContactCallback(e,this.boostHero2,this)},t.prototype.boostHero=function(){r.GameManager.instance.hero.boost(55,60)},t.prototype.boostHero2=function(){r.GameManager.instance.hero.bodyBase.velocity.x=300,r.GameManager.instance.hero.bodyBase.velocity.y=-200},t.prototype.addPigs=function(){this.pigs=this.game.make.sprite(-123,-120,"level3","pigs instance 10000"),this.pigs.animations.add("move",Phaser.Animation.generateFrameNames("pigs instance 1",0,79,"",4),35,!1).onComplete.addOnce(this.createQuestCar,this),this.group.addChild(this.pigs),this.group.create(-98,-82,"level3","truck instance 10000")},t.prototype.createQuestCar=function(){r.GameManager.instance.level.tryAddQuestCar(this)},t.prototype.goBack=function(){this.eyes.play("scare"),this.game.add.tween(this.group).to({x:this.group.x-35},300,Phaser.Easing.Linear.None,!0,600);for(var e=0;e<this.wheelsArray.length;e++)this.game.add.tween(this.wheelsArray[e]).to({angle:-250},300,Phaser.Easing.Linear.None,!0,600)},t.prototype.addTomatos=function(){var e=new Phaser.Button(this.game,-45,-121,"level3",this.simpleClick,this,"tomatos instance 10001","tomatos instance 10000","tomatos instance 10000");e.events.onInputDown.add(this.takeTomato,this),this.group.addChild(e)},t.prototype.takeTomato=function(){r.GameManager.instance.level.takeTomato()},t.prototype.simpleClick=function(){},t.prototype.addZZZ=function(){var e=this.group.create(-15,-130,"level3");e.animations.add("move",Phaser.Animation.generateFrameNames("zzz instance 1",0,59,"",4),35,!0),e.play("move")},t.prototype.update=function(){for(var e=0;e<this.wheelsArray.length;e++)this.wheelsArray[e].angle+=this.rotateSpeed;this.group.x<this.movePoint&&1===this.direction||this.group.x>this.movePoint&&-1===this.direction?this.group.x+=this.speed*this.direction:null!==this.lever&&!1===this.lever.inputEnabled&&(this.lever.inputEnabled=!0,this.lever.input.useHandCursor=!0),null!==this.body&&(this.body.x=this.graphic.world.x)},t.prototype.free=function(){this.graphic=null,this.group.destroy(!0,!1),this.group=null,this.wheelsArray=[],this.wheelsArray=null,this.body=null,this.pigs=null},r.Lvl3Car=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.speed=120,i.roadPos=[305,390,470],i.currentLine=1,i.topLimin=280,i.botLimit=490,i.carOnLine=!1,i.stopMove=!1,i.beforeStopDirectoin=0,i.actionComplete=!1,i.game=e,i.flyBody=new Phaser.Physics.Box2D.Body(i.game,null,t,a,1),i.flyBody.setRectangle(200,20,0,0),i.connect1=i.game.physics.box2d.revoluteJoint(n.GameManager.instance.hero.bodyBase,i.flyBody,50,55,50,0),i.connect2=i.game.physics.box2d.revoluteJoint(n.GameManager.instance.hero.bodyBase,i.flyBody,-50,55,-50,0),i.rudder=new n.Lvl3Rudder(i.game,100,100),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.stop=function(){this.stopMove=!0,this.beforeStopDirectoin=this.rudder.direction,this.flyBody.setZeroVelocity(),this.game.add.tween(this.flyBody).to({angle:0},500,Phaser.Easing.Back.Out,!0)},t.prototype.move=function(){this.stopMove=!1},t.prototype.hide=function(){this.stop(),this.rudder.hide(),this.game.add.tween(this.flyBody).to({y:this.roadPos[2],angle:0},800,Phaser.Easing.Back.Out,!0)},t.prototype.disconnect=function(){this.game.physics.box2d.world.DestroyJoint(this.connect1),this.game.physics.box2d.world.DestroyJoint(this.connect2)},t.prototype.update=function(){if(this.rudder.update(),!1===this.actionComplete&&-1===n.GameManager.instance.level.action&&this.flyBody.y>this.roadPos[1]&&-1===this.rudder.direction&&(this.rudder.direction=1),!0===this.stopMove)this.rudder.direction!==this.beforeStopDirectoin&&(this.stopMove=!1);else if(this.flyBody.velocity.y=this.speed*this.rudder.direction,-1===this.rudder.direction&&this.flyBody.y<this.topLimin?this.flyBody.y=this.topLimin:1===this.rudder.direction&&this.flyBody.y>this.botLimit&&(this.flyBody.y=this.botLimit,this.flyBody.setZeroVelocity()),0!==this.rudder.direction){this.flyBody.angle=7*this.rudder.direction,this.carOnLine=!1;for(var e=0;e<this.roadPos.length;e++)if(!(this.flyBody.y>this.roadPos[e]+30)){this.currentLine=e;break}}else!1===this.carOnLine&&(this.game.add.tween(this.flyBody).to({y:this.roadPos[this.currentLine],angle:0},800,Phaser.Easing.Back.Out,!0),this.carOnLine=!0)},t.prototype.free=function(){this.game=null,this.flyBody=null,this.rudder.free(),this.rudder=null},n.Lvl3HeroRoad=t})(Wheely=Wheely||{}),(e=>{var t;function a(e,t,a){void 0===a&&(a=0),this.id=0,this.sprite=null,this.tileSprite=null,this.parent=e,this.speed=t,this.id=a}t=e.Client||(e.Client={}),a.prototype.addTileSprite=function(e,t,a,i,n,s){this.tileSprite=new Phaser.TileSprite(e,t,a,i,n,s),this.parent.addChild(this.tileSprite)},a.prototype.addSprite=function(e,t,a,i,n){this.sprite=new Phaser.Sprite(e,t,a,i,n),this.sprite.anchor.set(0,1),this.parent.addChild(this.sprite)},a.prototype.update=function(){null!==this.sprite&&(this.sprite.x+=this.speed,this.sprite.x<-300)&&(this.sprite.x=1600),null!==this.tileSprite&&(this.tileSprite.tilePosition.x+=this.speed)},a.prototype.hideHills=function(){t.GameManager.instance.level.game.add.tween(this.tileSprite).to({x:-1e3},2e3,"Linear",!0).onComplete.addOnce(function(){this.tileSprite.kill()},this)},a.prototype.hide=function(){null!=this.sprite&&t.GameManager.instance.level.game.add.tween(this.sprite).to({x:this.sprite.x-1500,alpha:0},4e3,"Linear",!0).onComplete.addOnce(function(){this.sprite.kill()},this),null!=this.tileSprite&&t.GameManager.instance.level.game.add.tween(this.tileSprite).to({x:-2e3,alpha:0},4e3,"Linear",!0).onComplete.addOnce(function(){this.tileSprite.kill()},this)},a.prototype.free=function(){null!==this.sprite&&(this.sprite.destroy(),this.sprite=null),null!==this.tileSprite&&(this.tileSprite.destroy(),this.tileSprite=null),this.parent=null},t.Lvl3MoovingObj=a})(Wheely=Wheely||{}),(e=>{var i;function t(e,t,a){this.direction=0,this.buttonDown=!1,this.oldAngle=0,this.firstX=0,this.oldDirection=0,this.game=e,this.graphic=this.game.make.button(t,a,"level3",this.up,this,"rudder instance 10001","rudder instance 10000","rudder instance 10000"),this.graphic.anchor.set(.5),this.graphic.hitArea=new Phaser.Rectangle(-55,-30,110,60),this.graphic.events.onInputDown.add(this.down,this),i.GameManager.instance.layerUpper.addChild(this.graphic)}i=e.Client||(e.Client={}),t.prototype.hide=function(){this.graphic.visible=!1},t.prototype.down=function(){this.buttonDown=!0},t.prototype.up=function(){this.buttonDown=!1,this.direction=0,this.oldDirection=0,this.firstX=0,this.oldAngle=0},t.prototype.update=function(){var e;!0===this.buttonDown?(e=i.Tools.toDeg(Phaser.Math.angleBetween(this.graphic.x,this.graphic.y,this.game.input.activePointer.worldX,this.game.input.activePointer.worldY)),Math.abs(e-this.oldAngle)<5||(0===this.firstX&&(this.firstX=-1,this.game.input.activePointer.worldX>this.graphic.x)&&(this.firstX=1),this.oldAngle===e?this.direction=this.oldDirection:(1===this.firstX?this.graphic.angle=e:this.graphic.angle=e-180,e>this.oldAngle?this.direction=1:this.direction=-1,-1===this.direction&&e-this.oldAngle<-300?this.direction=1:1===this.direction&&300<e-this.oldAngle&&(this.direction=-1),this.oldAngle=e,this.oldDirection=this.direction))):0!==this.graphic.angle&&(0<this.graphic.angle?(this.graphic.angle-=5,this.graphic.angle<0&&(this.graphic.angle=0)):this.graphic.angle<0&&(this.graphic.angle+=5,0<this.graphic.angle)&&(this.graphic.angle=0))},t.prototype.free=function(){this.game=null,this.graphic=null},i.Lvl3Rudder=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.fall=!1,i.graphic=n.GameManager.instance.layerUpper.create(t,a,"level3","tomato_mc instance 10000"),i.graphic.scale.set(.8),e.physics.box2d.enable(i.graphic),i.graphic.body.setRectangle(25,25,0,0),i.graphic.body.sensor=!0,i.graphic.body.data.SetUserData("DragBody"),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.deactivate=function(){this.graphic.body.data.SetActive(!1),this.graphic.kill()},t.prototype.update=function(){!0===this.fall&&(370<this.graphic.y&&this.graphic.y<400&&this.graphic.x<800&&(this.fall=!1,this.deactivate(),this.createTomatodestroy()),650<this.graphic.y)&&this.deactivate()},t.prototype.createTomatodestroy=function(){var e=n.GameManager.instance.layerBackground.create(this.graphic.x,370,"level3","tomatoDestroy instance 10000");e.anchor.set(.5),n.GameManager.instance.level.game.add.tween(e).to({x:e.x-800},1500,"Linear",!0)},t.prototype.free=function(){this.graphic=null},n.Lvl3Tomato=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e,t){var a=n.call(this)||this;return a.activeEngine=!1,a.counter=0,a.withMagnet=!1,a.leverPressed=!1,a.leverPositionRight=!0,a.leverPositionWireRight=!0,a.level4=t,a.engine=i.GameManager.instance.layerBackground.create(14,41,"level4"),a.engine.animations.add("normal",Phaser.Animation.generateFrameNames("engine instance 1",0,0,"",4),30,!1),a.engine.animations.add("work",Phaser.Animation.generateFrameNames("engine instance 1",0,2,"",4),30,!0),a.engine.animations.play("normal"),a.btn=e.make.sprite(68,35,"level4","engineBtn instance 10000"),a.btn.anchor.setTo(.5),a.engine.addChild(a.btn),a.btn.inputEnabled=!0,a.btn.input.useHandCursor=!0,a.btn.events.onInputDown.add(a.btnDown,a),a.btn.events.onInputOut.add(a.btnOut,a),a.btn.events.onInputOver.add(a.btnOver,a),a.wire1=i.GameManager.instance.layerBackground.create(89,68,"level4","wire1 instance 10000"),a.wire2=i.GameManager.instance.layerBackground.create(333,137,"level4","wire2 instance 10000"),a.wire3=i.GameManager.instance.layerBackground.create(428,84,"level4","wire3 instance 10000"),a.lever=i.GameManager.instance.layerBackground.create(418,156,"level4","swapLever instance 10000"),a.lever.anchor.setTo(1,.5),a.lever.scale.x=-1,a.leverBtn=i.GameManager.instance.layerBackground.create(438,152,"level4","swapBtn instance 10000"),a.leverBtn.anchor.setTo(.5),a.leverBtn.inputEnabled=!0,a.leverBtn.input.useHandCursor=!0,a.leverBtn.events.onInputDown.add(a.leverBtnDown,a),a.leverBtn.events.onInputOut.add(a.leverBtnOut,a),a.leverBtn.events.onInputOver.add(a.leverBtnOver,a),a}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.btnDown=function(){this.btn.inputEnabled=!1,this.btn.frameName="engineBtn instance 10002",this.activeEngine=!0,this.engine.animations.play("work"),this.wire1.frameName="wire1 instance 10001",!0===this.leverPositionWireRight?(this.wire3.frameName="wire3 instance 10001",i.GameManager.instance.level.customAction(1)):(this.wire2.frameName="wire2 instance 10001",i.GameManager.instance.level.customAction(2)),this.level4.magnetJointLeft&&!1===this.leverPositionWireRight||this.level4.magnetJointRight&&!0===this.leverPositionWireRight?this.withMagnet=!0:this.withMagnet=!1,i.SoundManager.playSFX("s_generatorStart",!0)},t.prototype.btnOut=function(){!0!==this.activeEngine&&(this.btn.frameName="engineBtn instance 10000")},t.prototype.btnOver=function(){!0!==this.activeEngine&&(this.btn.frameName="engineBtn instance 10001")},t.prototype.leverBtnDown=function(){!0!==this.leverPressed&&(this.leverPressed=!0,this.stopEngine(),this.leverPositionWireRight=!this.leverPositionWireRight,i.SoundManager.playSFX("s_turnOn"))},t.prototype.leverBtnOut=function(){this.leverBtn.frameName="swapBtn instance 10000"},t.prototype.leverBtnOver=function(){this.leverBtn.frameName="swapBtn instance 10001"},t.prototype.stopEngine=function(){this.activeEngine=!1,this.counter=0,this.engine.animations.play("normal"),this.btn.inputEnabled=!0,this.btn.input.useHandCursor=!0,this.btnOut(),this.wire1.frameName="wire1 instance 10000",!0===this.leverPositionWireRight?this.wire3.frameName="wire3 instance 10000":this.wire2.frameName="wire2 instance 10000",i.GameManager.instance.level.customAction(3),i.SoundManager.stopSFXLoop("s_generatorStart"),i.SoundManager.stopSFXLoop("s_generatorLoop")},t.prototype.update=function(){!0===this.activeEngine&&(!1===this.withMagnet?(this.counter+=1,120===this.counter&&this.stopEngine()):(this.counter+=1,120===this.counter&&(i.SoundManager.stopSFXLoop("s_generatorStart"),i.SoundManager.playSFX("s_generatorLoop",!0)))),!0===this.leverPressed&&(!0===this.leverPositionRight?(this.leverBtn.x-=2,this.leverBtn.x<=392&&(this.leverBtn.x=392,this.leverPressed=!1,this.leverPositionRight=!this.leverPositionRight)):(this.leverBtn.x+=2,438<=this.leverBtn.x&&(this.leverBtn.x=438,this.leverPressed=!1,this.leverPositionRight=!this.leverPositionRight)),this.lever.scale.x=(415-this.leverBtn.x)/23,this.lever.x=415+-3*this.lever.scale.x)},t.prototype.free=function(){this.engine=null,this.btn=null,this.wire1=null,this.wire2=null,this.wire3=null,this.lever=null,this.leverBtn=null,this.level4=null},i.Lvl4Engine=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.counter=0,t.group=e.make.group(),t.group.x=397,t.group.y=535,a.GameManager.instance.layerBackground.add(t.group),t.graphicHandLeft=t.group.create(-13,14,"level4","krabHand instance 10000"),t.graphicHandLeft.animations.add("anim",Phaser.Animation.generateFrameNames("krabHand instance 1",0,49,"",4),30,!0),t.graphicHandLeft.animations.play("anim"),t.graphicHandLeft.anchor.setTo(.25,.45),t.graphicHandLeft.angle=-29,t.graphicHandRight=t.group.create(44,21,"level4","krabHand instance 10000"),t.graphicHandRight.animations.add("anim",Phaser.Animation.generateFrameNames("krabHand instance 1",0,49,"",4),30,!0),t.graphicHandRight.animations.play("anim"),t.graphicHandRight.anchor.setTo(.25,.45),t.graphicHandRight.scale.x=-1,t.graphicHandRight.angle=45,t.graphicLeg1=t.group.create(-6,38,"level4","krabLeg instance 10000"),t.graphicLeg1.anchor.setTo(.4,.5),t.graphicLeg2=t.group.create(2,43,"level4","krabLeg instance 10000"),t.graphicLeg2.anchor.setTo(.4,.5),t.graphicLeg2.angle=-22,t.graphicLeg3=t.group.create(20,43,"level4","krabLeg instance 10000"),t.graphicLeg3.anchor.setTo(.4,.5),t.graphicLeg3.angle=22,t.graphicLeg3.scale.x=-1,t.graphicLeg4=t.group.create(28,38,"level4","krabLeg instance 10000"),t.graphicLeg4.anchor.setTo(.4,.5),t.graphicLeg4.scale.x=-1,t.graphicBody=t.group.create(13,32,"level4","krabBody instance 10000"),t.graphicBody.anchor.setTo(.5),t.graphicEyes=t.group.create(14,22,"level4","krabEyes instance 10000"),t.graphicEyes.animations.add("anim",Phaser.Animation.generateFrameNames("krabEyes instance 1",0,98,"",4),30,!0),t.graphicEyes.animations.play("anim"),t.graphicEyes.anchor.setTo(.5),t.graphicEyes.angle=-4,t.graphicBubble=t.group.create(22,7,"level4","krabBubble instance 10000"),t.graphicBubble.animations.add("anim",Phaser.Animation.generateFrameNames("krabBubble instance 1",0,29,"",4),30,!1),t.graphicBubble.anchor.setTo(.5,.56),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.update=function(){this.counter+=1,1===this.counter?this.graphicBubble.animations.play("anim"):41===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicHandRight,18,{x:29,y:29,angle:83}),a.GameManager.instance.level.setSimpleTween(this.graphicHandLeft,18,{x:-14,y:-5,angle:10}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,9,{x:-16,y:24,angle:48}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,9,{x:-7,y:35,angle:-17}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,9,{x:6,y:38,angle:57}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,9,{x:18,y:34,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicBody,18,{x:-4,y:21,angle:22}),a.GameManager.instance.level.setSimpleTween(this.graphicEyes,18,{x:0,y:13,angle:18})):50===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,9,{x:-21,y:22,angle:6}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,9,{x:-14,y:28,angle:19}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,9,{x:-3,y:32,angle:31}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,9,{x:6,y:32,angle:31})):59===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicHandRight,17,{x:17,y:15,angle:89}),a.GameManager.instance.level.setSimpleTween(this.graphicHandLeft,17,{x:-19,y:-29,angle:14}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,9,{x:-27,y:2,angle:61}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,9,{x:-22,y:15,angle:-1}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,9,{x:-11,y:22,angle:78}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,9,{x:3,y:23,angle:8}),a.GameManager.instance.level.setSimpleTween(this.graphicBody,17,{x:-13,y:2,angle:43}),a.GameManager.instance.level.setSimpleTween(this.graphicEyes,17,{x:-5,y:-4,angle:39})):68===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,8,{x:-31,y:-6,angle:43}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,8,{x:-28,y:2,angle:21}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,8,{x:-15,y:14,angle:65}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,8,{x:-6,y:16,angle:43})):102===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicHandRight,17,{x:29,y:29,angle:83}),a.GameManager.instance.level.setSimpleTween(this.graphicHandLeft,17,{x:-14,y:-5,angle:10}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,8,{x:-27,y:2,angle:61}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,8,{x:-22,y:15,angle:-1}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,8,{x:-11,y:22,angle:78}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,8,{x:3,y:23,angle:8}),a.GameManager.instance.level.setSimpleTween(this.graphicBody,17,{x:-4,y:21,angle:22}),a.GameManager.instance.level.setSimpleTween(this.graphicEyes,17,{x:0,y:13,angle:18})):110===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,9,{x:-21,y:22,angle:6}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,9,{x:-14,y:28,angle:19}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,9,{x:-3,y:32,angle:31}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,9,{x:6,y:32,angle:31})):119===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicHandRight,18,{x:44,y:21,angle:45}),a.GameManager.instance.level.setSimpleTween(this.graphicHandLeft,18,{x:-13,y:14,angle:-29}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,9,{x:-16,y:24,angle:48}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,9,{x:-7,y:35,angle:-17}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,9,{x:6,y:38,angle:57}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,9,{x:18,y:34,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicBody,18,{x:13,y:32,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicEyes,18,{x:14,y:22,angle:-4})):128===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,9,{x:-6,y:38,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,9,{x:2,y:43,angle:-22}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,9,{x:20,y:43,angle:22}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,9,{x:28,y:38,angle:0})):151===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicHandRight,9,{x:43,y:16,angle:41}),a.GameManager.instance.level.setSimpleTween(this.graphicHandLeft,9,{x:-10,y:8,angle:-25}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,9,{x:-6,y:38,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,9,{x:2,y:43,angle:-22}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,9,{x:20,y:43,angle:22}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,9,{x:28,y:38,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicBody,9,{x:13,y:29,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicEyes,9,{x:14,y:18,angle:-4})):160===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicHandRight,10,{x:48,y:38,angle:84}),a.GameManager.instance.level.setSimpleTween(this.graphicHandLeft,10,{x:-21,y:34,angle:-90}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,10,{x:-3,y:37,angle:39}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,10,{x:0,y:40,angle:18}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,10,{x:25,y:42,angle:-9}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,10,{x:29,y:39,angle:-37}),a.GameManager.instance.level.setSimpleTween(this.graphicBody,10,{x:13,y:32,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicEyes,10,{x:14,y:22,angle:-4})):163===this.counter?this.graphicBubble.animations.play("anim"):205===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphicHandRight,10,{x:44,y:21,angle:45}),a.GameManager.instance.level.setSimpleTween(this.graphicHandLeft,10,{x:-13,y:14,angle:-29}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg1,10,{x:-6,y:38,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg2,10,{x:2,y:43,angle:-22}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg3,10,{x:20,y:43,angle:22}),a.GameManager.instance.level.setSimpleTween(this.graphicLeg4,10,{x:28,y:38,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicBody,10,{x:13,y:32,angle:0}),a.GameManager.instance.level.setSimpleTween(this.graphicEyes,10,{x:14,y:22,angle:-4})):215===this.counter&&(this.counter=0)},t.prototype.free=function(){this.group=null,this.graphicBody=null,this.graphicBubble=null,this.graphicEyes=null,this.graphicHandLeft=null,this.graphicHandRight=null,this.graphicLeg1=null,this.graphicLeg2=null,this.graphicLeg3=null,this.graphicLeg4=null},a.Lvl4Krab=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.pressed=!1,i.active=!1,i.counterAnim=0,i.usilitelActive=!1,i.propelerActive=!1,i.opened=!1,i.bulbFrame=0,i.game=e,i.gear=n.GameManager.instance.layerBackground.create(t+46,a+138,"level4","liftGear instance 10000"),i.gear.anchor.setTo(.5),i.startY=a+175,i.wire1=n.GameManager.instance.layerBackground.create(t-1,i.startY,"level4","wire4 instance 10000"),i.wire1.pivot.set(11,288),i.graphic=n.GameManager.instance.layerBackground.create(t-1,i.startY,"level4","lift instance 10000"),i.graphic.anchor.setTo(.5,.986),i.propeler=e.make.sprite(1,-39,"level4"),i.propeler.animations.add("normal",Phaser.Animation.generateFrameNames("magnetUsilProp instance 1",0,0,"",4),30,!1),i.propeler.animations.add("active",Phaser.Animation.generateFrameNames("magnetUsilProp instance 1",1,9,"",4),30,!1).onComplete.add(i.propelerAnimComp,i),i.propeler.animations.play("normal"),i.propeler.anchor.setTo(.494,.515),i.propeler.angle=80,i.graphic.addChild(i.propeler),i.wire2=e.make.sprite(-17,-51,"level4","wire5 instance 10000"),i.wire2.angle=-90,i.graphic.addChild(i.wire2),i.btn=e.make.sprite(2,0,"level4","liftBtn instance 10000"),i.btn.anchor.setTo(.5),i.btn.inputEnabled=!0,i.btn.input.useHandCursor=!0,i.btn.events.onInputDown.add(i.btnDown,i),i.btn.events.onInputOut.add(i.btnOut,i),i.btn.events.onInputOver.add(i.btnOver,i),i.btn.events.onInputUp.add(i.btnUp,i),i.graphic.addChild(i.btn),i.bg=n.GameManager.instance.layerBackground.create(t,a,"level4","bgPart2 instance 10000"),i.bg.anchor.setTo(.5,0),i.bulb=e.make.sprite(-14,125,"level4","liftBulb instance 10000"),i.bulb.anchor.setTo(.5),i.bg.addChild(i.bulb),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.btnDown=function(){this.pressed=!0,n.SoundManager.playSFX("s_partSlide")},t.prototype.btnOut=function(){!0!==this.active&&(this.btn.frameName="liftBtn instance 10000")},t.prototype.btnOver=function(){!0!==this.active&&(this.btn.frameName="liftBtn instance 10001")},t.prototype.btnUp=function(){this.pressed=!1},t.prototype.enableUsilitel=function(){!0!==this.usilitelActive&&(this.usilitelActive=!0,this.wire1.frameName="wire4 instance 10001",this.wire2.frameName="wire5 instance 10001",this.propeler.animations.play("active"))},t.prototype.disableUsilitel=function(){!1!==this.usilitelActive&&(this.usilitelActive=!1,this.propelerActive=!1,this.wire1.frameName="wire4 instance 10000",this.wire2.frameName="wire5 instance 10000",this.propeler.animations.play("normal"))},t.prototype.propelerAnimComp=function(){this.propelerActive=!0},t.prototype.magnetPos=function(e,t){n.Tools.distance(e,t,this.bg.x+this.bulb.x,this.bg.y+this.bulb.y)<150?0===this.bulbFrame&&(this.bulbFrame=1,this.bulb.frameName="liftBulb instance 10001"):1===this.bulbFrame&&(this.bulbFrame=0,this.bulb.frameName="liftBulb instance 10000")},t.prototype.update=function(){!0===this.pressed&&(this.graphic.y=this.game.input.worldY,this.graphic.y<=this.startY?this.graphic.y=this.startY:225<=this.graphic.y&&(this.pressed=!1,this.btn.inputEnabled=!1,this.btn.frameName="liftBtn instance 10002",this.active=!0,this.bulb.frameName="liftBulb instance 10001"),this.wire1.y=this.graphic.y),!0===this.propelerActive&&(this.propeler.angle+=23),!0===this.active&&(this.counterAnim+=1,1===this.counterAnim?n.GameManager.instance.level.setSimpleTween(this.graphic,16,{y:this.startY+213}):17===this.counterAnim?(n.SoundManager.playSFX("s_partsFall"),this.bulb.frameName="liftBulb instance 10000",this.graphic.y=this.startY+210):18===this.counterAnim?n.GameManager.instance.level.setSimpleTween(this.graphic,2,{y:this.startY+201}):20===this.counterAnim?n.GameManager.instance.level.setSimpleTween(this.graphic,4,{y:this.startY+213}):24===this.counterAnim&&(this.active=!1,this.opened=!0),this.gear.angle-=6,this.wire1.y=this.graphic.y)},t.prototype.free=function(){this.game=null,this.bg=null,this.graphic=null,this.btn=null,this.gear=null,this.bulb=null,this.wire1=null,this.wire2=null,this.propeler=null},n.Lvl4Lift=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.usilitelActive=!1,i.propelerActive=!1,i.graphic=n.GameManager.instance.layerBackground.create(t,a,"level4","bgPart3 instance 10000"),i.propeler=e.make.sprite(31,66.5,"level4"),i.propeler.animations.add("normal",Phaser.Animation.generateFrameNames("magnetUsilProp instance 1",0,0,"",4),30,!1),i.propeler.animations.add("active",Phaser.Animation.generateFrameNames("magnetUsilProp instance 1",1,9,"",4),30,!1).onComplete.add(i.propelerAnimComp,i),i.propeler.animations.play("normal"),i.propeler.anchor.setTo(.494,.515),i.propeler.angle=140,i.graphic.addChild(i.propeler),i.wire=e.make.sprite(58,63,"level4","wire5 instance 10000"),i.wire.scale.x=-1,i.wire.angle=110,i.graphic.addChild(i.wire),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.enableUsilitel=function(){!0!==this.usilitelActive&&(this.usilitelActive=!0,this.wire.frameName="wire5 instance 10001",this.propeler.animations.play("active"))},t.prototype.disableUsilitel=function(){!1!==this.usilitelActive&&(this.usilitelActive=!1,this.propelerActive=!1,this.wire.frameName="wire5 instance 10000",this.propeler.animations.play("normal"))},t.prototype.propelerAnimComp=function(){this.propelerActive=!0},t.prototype.update=function(){!0===this.propelerActive&&(this.propeler.angle+=23)},t.prototype.free=function(){this.graphic=null,this.wire=null,this.propeler=null},n.Lvl4MiddleBridge=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.counter=0,t.startX=116,t.startY=527,t.graphic1=new a.SkewSprite(e,t.startX+5,t.startY+9,"level4","vodorosli2 instance 10000"),t.graphic1.anchor.setTo(.5),a.GameManager.instance.layerElements.add(t.graphic1),t.graphic2=new a.SkewSprite(e,t.startX-9,t.startY+14,"level4","vodorosli1 instance 10000"),t.graphic2.anchor.setTo(.5),a.GameManager.instance.layerElements.add(t.graphic2),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.update=function(){this.counter+=1,1===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphic2,40,{x:this.startX-10,skewX:a.Tools.toRad(-5.4),skewY:a.Tools.toRad(-2.7)}),a.GameManager.instance.level.setSimpleTween(this.graphic1,40,{x:this.startX+4,y:this.startY+7,angle:-3})):41===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphic2,40,{x:this.startX-9,skewX:0,skewY:0}),a.GameManager.instance.level.setSimpleTween(this.graphic1,40,{x:this.startX+5,y:this.startY+9,angle:0})):80===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphic2,51,{x:this.startX-7,y:this.startY+11,angle:4,scaleY:1.1}),a.GameManager.instance.level.setSimpleTween(this.graphic1,51,{x:this.startX+6,y:this.startY+14,skewX:a.Tools.toRad(5),skewY:a.Tools.toRad(8.9),sclaeY:.91})):131===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphic2,43,{x:this.startX-9,y:this.startY+14,skewX:0,skewY:0,angle:0,scaleY:1}),a.GameManager.instance.level.setSimpleTween(this.graphic1,43,{x:this.startX+5,y:this.startY+9,skewX:0,skewY:0,angle:0,scaleY:1})):174===this.counter&&(this.counter=0)},t.prototype.free=function(){this.graphic1=null,this.graphic2=null},a.Lvl4Vodorosli=t})(Wheely=Wheely||{}),(e=>{var t,a;function i(){var e=a.call(this)||this;return e.counter=0,e.active=!0,e.animDuration=0,e.sx=60,e.sy=212,e.currAnim="idle",e.leg3=t.GameManager.instance.layerBackground.create(e.sx-13,e.sy+25,"level5","cowLeg instance 10000"),e.leg3.anchor.setTo(.5,.52),e.leg3.visible=!1,e.leg4=t.GameManager.instance.layerBackground.create(e.sx-17,e.sy+23,"level5","cowLeg instance 10000"),e.leg4.anchor.setTo(.5,.52),e.leg4.angle=9,e.leg4.visible=!1,e.head=t.GameManager.instance.layerBackground.create(e.sx+32,e.sy+3,"level5","cowHead instance 10000"),e.head.anchor.setTo(.49,.61),e.body=t.GameManager.instance.layerBackground.create(e.sx-2,e.sy+2,"level5","cowBody instance 10000"),e.body.anchor.setTo(.5),e.leg2=t.GameManager.instance.layerBackground.create(e.sx+13,e.sy+25,"level5","cowLeg instance 10000"),e.leg2.anchor.setTo(.5,.52),e.leg1=t.GameManager.instance.layerBackground.create(e.sx-17,e.sy+23,"level5","cowLeg instance 10000"),e.leg1.anchor.setTo(.5,.52),e.leg1.angle=9,e.hair=t.GameManager.instance.layerBackground.create(e.sx+46,e.sy-6,"level5","cowHair instance 10000"),e.hair.anchor.setTo(.5),e}t=e.Client||(e.Client={}),a=t.BasicElement,__extends(i,a),i.prototype.setAnimSaraiOpen=function(){this.currAnim="openSarai",this.counter=184,t.SoundManager.playSFX("s_cow")},i.prototype.update=function(){!1!==this.active&&(this.counter+=1,"idle"===this.currAnim?1===this.counter?(this.animDuration=18,t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+32,y:this.sy+12,angle:11}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx-1,y:this.sy+2,angle:4}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx+13,y:this.sy+25,angle:8}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-17,y:this.sy+23,angle:13}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+48,y:this.sy+6,angle:0})):46===this.counter?(this.animDuration=7,t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+32,y:this.sy,angle:0}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx-4,y:this.sy,angle:-2}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx+13,y:this.sy+25,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-17,y:this.sy+23,angle:9}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+46,y:this.sy-11,angle:-10})):53===this.counter?(this.animDuration=4,t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+32,y:this.sy+3,angle:0}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx-2,y:this.sy+2,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx+13,y:this.sy+25,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-17,y:this.sy+23,angle:9}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+46,y:this.sy-6,angle:0})):70===this.counter?(this.animDuration=10,t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+36,y:this.sy-9,angle:-10}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx+1,y:this.sy+2,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx+16,y:this.sy+25,angle:7}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-15,y:this.sy+23,angle:15}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+47,y:this.sy-25,angle:-31})):95===this.counter?(this.animDuration=11,t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+35,y:this.sy-5,angle:-6}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx,y:this.sy+2,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx+15,y:this.sy+25,angle:4}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-16,y:this.sy+23,angle:13}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+48,y:this.sy-19,angle:-39})):95===this.counter?(this.animDuration=5,t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+47,y:this.sy-18,angle:-20})):140===this.counter?(this.animDuration=24,t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+32,y:this.sy+3,angle:0}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx-2,y:this.sy+2,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx+13,y:this.sy+25,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-17,y:this.sy+23,angle:9}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+46,y:this.sy-6,angle:0})):185===this.counter&&(this.counter=0):"openSarai"===this.currAnim&&(185===this.counter?(this.animDuration=16,t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+32,y:this.sy-7,angle:-19}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx-2,y:this.sy,angle:-6}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx+13,y:this.sy+25,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-17,y:this.sy+23,angle:9}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+41,y:this.sy-27,angle:-55})):201===this.counter?(this.animDuration=5,t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+42,y:this.sy-23,angle:-41})):211===this.counter?(this.animDuration=4,this.leg3.visible=!0,this.leg4.visible=!0,t.GameManager.instance.level.setSimpleTween(this.leg3,this.animDuration,{x:this.sx+11,y:this.sy+18,angle:-14}),t.GameManager.instance.level.setSimpleTween(this.leg4,this.animDuration,{x:this.sx-29,y:this.sy+17,angle:27}),t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+23,y:this.sy-11,angle:-19}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx-11,y:this.sy-4,angle:-6}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx,y:this.sy+20,angle:29}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-23,y:this.sy+18,angle:-10}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+33,y:this.sy-31,angle:-48})):215===this.counter?(this.animDuration=5,t.GameManager.instance.level.setSimpleTween(this.leg3,this.animDuration,{x:this.sx-5,y:this.sy+25,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg4,this.animDuration,{x:this.sx-36,y:this.sy+23,angle:9}),t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+13,y:this.sy-7,angle:-19}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx-21,y:this.sy,angle:-6}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx-5,y:this.sy+25,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-36,y:this.sy+23,angle:9}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+24,y:this.sy-23,angle:-41})):220===this.counter?(this.animDuration=4,t.GameManager.instance.level.setSimpleTween(this.leg3,this.animDuration,{x:this.sx-12,y:this.sy+17,angle:-14}),t.GameManager.instance.level.setSimpleTween(this.leg4,this.animDuration,{x:this.sx-49,y:this.sy+17,angle:30}),t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx+5,y:this.sy-11,angle:-19}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx-29,y:this.sy-4,angle:-6}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx-19,y:this.sy+19,angle:36}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-41,y:this.sy+18,angle:-10}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+16,y:this.sy-32,angle:-49})):224===this.counter?(this.animDuration=5,t.GameManager.instance.level.setSimpleTween(this.leg3,this.animDuration,{x:this.sx-23,y:this.sy+25,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg4,this.animDuration,{x:this.sx-54,y:this.sy+23,angle:9}),t.GameManager.instance.level.setSimpleTween(this.head,this.animDuration,{x:this.sx-5,y:this.sy-7,angle:-19}),t.GameManager.instance.level.setSimpleTween(this.body,this.animDuration,{x:this.sx-39,y:this.sy,angle:-6}),t.GameManager.instance.level.setSimpleTween(this.leg2,this.animDuration,{x:this.sx-23,y:this.sy+25,angle:0}),t.GameManager.instance.level.setSimpleTween(this.leg1,this.animDuration,{x:this.sx-54,y:this.sy+23,angle:9}),t.GameManager.instance.level.setSimpleTween(this.hair,this.animDuration,{x:this.sx+5,y:this.sy-23,angle:-41})):229===this.counter&&(this.active=!1)))},i.prototype.free=function(){this.body=null,this.head=null,this.hair=null,this.leg1=null,this.leg2=null,this.leg3=null,this.leg4=null},t.Lvl5Cow=i})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.btnPressed=!1,t.totalRotate=0,t.oldAngle=0,t.lockStep=0,t.soundPLayed=!1,t.game=e,t.group=e.make.group(),t.group.x=450,t.group.y=185,a.GameManager.instance.layerBackground.add(t.group),t.createPart(0),t.createPart(90),t.createPart(180),t.createPart(270),a.SoundManager.playSFX("s_mill",!0),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.createPart=function(e){var t=this.game.make.button(0,0,"level5",this.btnUp,this,"mill instance 10001","mill instance 10000");t.anchor.x=.5,t.pivot.y=200,t.angle=e,t.hitArea=new Phaser.Rectangle(-51,0,102,86),t.onInputDown.add(this.btnDown,this),this.group.add(t)},t.prototype.btnDown=function(){a.SoundManager.stopSFXLoop("s_mill"),this.btnPressed=!0,this.oldAngle=this.oldMillAngle=this.group.rotation,this.startMillAngle=Math.atan2(this.game.input.worldY-this.group.y,this.game.input.worldX-this.group.x)},t.prototype.btnUp=function(){this.btnPressed=!1,a.SoundManager.playSFX("s_mill",!0)},t.prototype.update=function(){var e;!1===this.btnPressed?this.group.angle-=1.5:(e=Math.atan2(this.game.input.worldY-this.group.y,this.game.input.worldX-this.group.x),this.group.rotation=this.oldMillAngle+(e-this.startMillAngle),this.updateLockDoors(this.group.angle))},t.prototype.updateLockDoors=function(e){var t;2<this.lockStep||((t=this.oldAngle-e)<-180?t+=360:180<t&&(t-=360),0===t?(this.soundPLayed=!1,a.SoundManager.stopSFXLoop("s_millSingle")):!1===this.soundPLayed&&(this.soundPLayed=!0,a.SoundManager.playSFX("s_millSingle",!0)),this.oldAngle=e,0===this.lockStep&&t<0?(this.totalRotate+=t,this.totalRotate<-90&&(this.lockStep+=1,a.GameManager.instance.level.customAction(1))):1===this.lockStep&&0<t?(this.totalRotate+=t,120<this.totalRotate&&(this.lockStep+=1,a.GameManager.instance.level.customAction(2))):2===this.lockStep&&t<0&&(this.totalRotate+=t,this.totalRotate<-240)&&(this.lockStep+=1,a.GameManager.instance.level.customAction(3)))},t.prototype.free=function(){this.game=null,this.group=null},a.Lvl5Mill=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.moving=!1,i.speed=10,i.startShoping=!1,i.updateObject=!0,i.blickActive=0,i.game=e,i.bodyBase=new Phaser.Physics.Box2D.Body(e,null,t,a,2),i.bodyBase.setRectangle(180,50),i.bodyBase.data.SetUserData("heroCorpus"),i.bodyBase.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.bodyBase.collideWorldBounds=!1,i.graphicObject=n.GameManager.instance.layerElements.create(t-40,a,"level5","redCarGold instance 10000"),i.graphicObject.anchor.setTo(.5),i.graphic=n.GameManager.instance.layerElements.create(t,a,"level2","redCar instance 10000"),i.graphic.anchor.setTo(.5),i.graphicEyes=e.make.sprite(17,-45,"level2"),i.graphicEyes.animations.add("idle",Phaser.Animation.generateFrameNames("redCarEyes instance 1",0,73,"",4),30,!0),i.graphicEyes.animations.add("meteor",Phaser.Animation.generateFrameNames("redCarEyes instance 1",74,99,"",4),30,!1),i.graphicEyes.animations.play("idle"),i.graphic.addChild(i.graphicEyes),i.graphicWheelBack=n.GameManager.instance.layerElements.create(t-49,a+39,"level2","redCarWheel instance 10000"),e.physics.box2d.enable(i.graphicWheelBack),i.graphicWheelBack.body.setCircle(23),i.graphicWheelBack.body.friction=1,i.graphicWheelBack.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.graphicWheelBack.body.collideWorldBounds=!1,i.graphicWheelFront=n.GameManager.instance.layerElements.create(t+68,a+39,"level2","redCarWheel instance 10000"),e.physics.box2d.enable(i.graphicWheelFront),i.graphicWheelFront.body.setCircle(23),i.graphicWheelFront.body.friction=1,i.graphicWheelFront.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.graphicWheelFront.body.collideWorldBounds=!1,i.joinBack=e.physics.box2d.revoluteJoint(i.bodyBase,i.graphicWheelBack,-49,39,0,0,0,4),i.joinFront=e.physics.box2d.revoluteJoint(i.bodyBase,i.graphicWheelFront,68,39,0,0,0,4),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.move=function(e){this.moving=!0,this.joinBack.EnableMotor(!0),this.joinFront.EnableMotor(!0),this.speed=10*e,n.SoundManager.playSFX("s_engineStart")},t.prototype.stopMove=function(){this.moving=!1,this.joinBack.EnableMotor(!1),this.joinFront.EnableMotor(!1),this.bodyBase.velocity.x=0,this.graphicWheelBack.body.velocity.x=0,this.graphicWheelBack.body.angularVelocity=0,this.graphicWheelFront.body.velocity.x=0,this.graphicWheelFront.body.angularVelocity=0,this.speed=0},t.prototype.shoping=function(){this.stopMove(),n.SoundManager.playSFX("s_buy"),this.startShoping=!0,this.updateObject=!1;var e=this.graphicObject.y;this.game.add.tween(this.graphicObject).to({y:[e-30,e+40]},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){n.GameManager.instance.level.customAction(4),this.addGrassCutter()},this)},t.prototype.addGrassCutter=function(){this.updateObject=!0,this.graphicObject.anchor.setTo(.66,.6),this.graphicObject.animations.add("anim",Phaser.Animation.generateFrameNames("grassCutter instance 1",0,7,"",4),30,!1),this.graphicObject.animations.play("anim"),this.blickActive=1,this.graphicBlick=n.GameManager.instance.layerElements.create(this.graphicObject.x,this.graphicObject.y,"level5","grassCutterBlick instance 10000"),this.graphicBlick.anchor.setTo(.5);var e=this.graphic.y;this.game.add.tween(this.graphic).to({y:[e+5,e],angle:[-2,0]},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){n.GameManager.instance.level.customAction(5),this.move(1),this.startShoping=!1},this)},t.prototype.update=function(){!0===this.moving&&(this.joinBack.SetMotorSpeed(this.speed),this.joinFront.SetMotorSpeed(this.speed)),!1===this.startShoping&&(this.graphic.x=this.bodyBase.x,this.graphic.y=this.bodyBase.y,this.graphic.rotation=this.bodyBase.rotation,950<this.graphic.x)&&(this.stopMove(),this.startShoping=!0),!0===this.updateObject&&(this.graphicObject.position=n.Tools.rotatePointByAngle(this.graphic.x,this.graphic.y,this.graphic.x-55,this.graphic.y-13,this.graphic.rotation),this.graphicObject.rotation=this.graphic.rotation),1===this.blickActive&&(this.graphicBlick.x=this.graphicObject.x,this.graphicBlick.y=this.graphicObject.y,this.graphicBlick.alpha-=.07,this.graphicBlick.alpha<=0)&&(this.blickActive=2,this.graphicBlick.destroy())},t.prototype.free=function(){this.game=null,this.graphic=null,this.graphicEyes=null,this.graphicWheelBack=null,this.graphicWheelFront=null,this.graphicObject=null,this.joinBack=null,this.joinFront=null,this.graphicBlick=null},n.Lvl5RedCar=t})(Wheely=Wheely||{}),(e=>{var s,a;function t(e){var t=a.call(this)||this;return t.updateGraphic=!1,t.sx=365,t.sy=404,t.currState="",t.animActive=!1,t.animDuration=0,t.animCounter=0,t.moving=!1,t.movingNum=0,t.updateParticlesBool=!1,t.updateParticlesCount=0,t.hookPressed=!1,t.hookConnectedCount=0,t.activeUpdateStarter=0,t.starterInTractor=0,t.starterCounterRot=0,t.game=e,t.particles=new Array,t.group=e.make.group(),t.group.x=t.sx,t.group.y=t.sy,s.GameManager.instance.layerBackground.add(t.group),t.grBody=t.group.create(0,0,"level5","tractorBody instance 10000"),t.grBody.anchor.setTo(.5),t.grBody.inputEnabled=!1,t.grEyes=e.make.sprite(-5,-38,"level5"),t.grEyes.animations.add("blink",Phaser.Animation.generateFrameNames("tractorEyes instance 1",0,38,"",4),30,!1),t.grEyes.animations.add("awake",Phaser.Animation.generateFrameNames("tractorEyes instance 1",39,68,"",4),30,!1),t.grEyes.animations.add("sleep",Phaser.Animation.generateFrameNames("tractorEyes instance 1",69,69,"",4),30,!1),t.grEyes.animations.add("try",Phaser.Animation.generateFrameNames("tractorEyes instance 1",70,70,"",4),30,!1),t.grBody.addChild(t.grEyes),t.grHat=e.make.sprite(-18,-45,"level5","tractorHat instance 10000"),t.grHat.anchor.setTo(.5),t.grBody.addChild(t.grHat),t.grShchit1=e.make.sprite(-35,-7,"level5","tractorShit1 instance 10000"),t.grShchit1.anchor.setTo(.5),t.grBody.addChild(t.grShchit1),t.grShchit2=e.make.sprite(38,27,"level5","tractorShit2 instance 10000"),t.grShchit2.anchor.setTo(.5),t.grBody.addChild(t.grShchit2),t.grTutuka=e.make.sprite(0,-20,"level5","tractorTutuka instance 10000"),t.grTutuka.anchor.setTo(.5,.51),t.grBody.addChild(t.grTutuka),t.grBrown1=e.make.sprite(12,-43,"level5","tractorBrown1 instance 10000"),t.grBrown1.anchor.setTo(.5,.63),t.grBody.addChild(t.grBrown1),t.grBrown2=e.make.sprite(26,-46,"level5","tractorBrown2 instance 10000"),t.grBrown2.anchor.setTo(.45,.6),t.grBody.addChild(t.grBrown2),t.grZ=e.make.sprite(-10,-103,"level5"),t.grZ.animations.add("anim",Phaser.Animation.generateFrameNames("tractorZ instance 1",0,74,"",4),30,!0),t.grZ.animations.play("anim"),t.grBody.addChild(t.grZ),t.bodyBase=new Phaser.Physics.Box2D.Body(e,null,t.sx,t.sy,2),t.bodyBase.setRectangle(126,80),t.bodyBase.mass=70,t.bodyBase.setCollisionCategory(s.FilterGroups.CAR1),t.bodyBase.setCollisionMask(~s.FilterGroups.IGNORE_CAR),t.grWheel1=s.GameManager.instance.layerBackground.create(t.sx-35,t.sy+35,"level5","tractorWheel1 instance 10000"),t.grWheel1.anchor.setTo(.5),t.bodyWheel1=new Phaser.Physics.Box2D.Body(e,null,t.sx-35,t.sy+35,2),t.bodyWheel1.setCircle(35),t.bodyWheel1.friction=2,t.bodyWheel1.mass=20,t.bodyWheel1.fixedRotation=!0,t.bodyWheel1.setCollisionCategory(s.FilterGroups.CAR1),t.bodyWheel1.setCollisionMask(~s.FilterGroups.IGNORE_CAR),t.grWheel2=s.GameManager.instance.layerBackground.create(t.sx+50,t.sy+47,"level5","tractorWheel2 instance 10000"),t.grWheel2.anchor.setTo(.5),t.bodyWheel2=new Phaser.Physics.Box2D.Body(e,null,t.sx+50,t.sy+47,2),t.bodyWheel2.setCircle(23),t.bodyWheel2.friction=2,t.bodyWheel2.mass=20,t.bodyWheel2.fixedRotation=!0,t.bodyWheel2.setCollisionCategory(s.FilterGroups.CAR1),t.bodyWheel2.setCollisionMask(~s.FilterGroups.IGNORE_CAR),t.joint1=e.physics.box2d.revoluteJoint(t.bodyBase,t.bodyWheel1,-35,35,0,0,0,500),t.joint2=e.physics.box2d.revoluteJoint(t.bodyBase,t.bodyWheel2,50,47,0,0,0,500),t.hookRope=e.make.graphics(),s.GameManager.instance.layerBackground.addChild(t.hookRope),t.grHook=e.make.button(t.sx-64,t.sy-23,"level5",t.hookUp,t,"tractorHook instance 10001","tractorHook instance 10000"),t.grHook.anchor.setTo(.8,.55),t.grHook.inputEnabled=!1,t.grHook.onInputDown.add(t.hookDown,t),s.GameManager.instance.layerBackground.addChild(t.grHook),t.bodyHook=new Phaser.Physics.Box2D.Body(e,null,t.sx-64,t.sy-23,2),t.bodyHook.setRectangle(42,18,-13),t.bodyHook.fixedRotation=!0,t.bodyHook.angle=-15,t.bodyHook.setCollisionCategory(s.FilterGroups.CAR1),t.bodyHook.setCollisionMask(~s.FilterGroups.IGNORE_CAR),t.jointHook=e.physics.box2d.ropeJoint(t.bodyBase,t.bodyHook,1,-64,-23,0,0),t.bodyHeroContact=new Phaser.Physics.Box2D.Body(e,null,s.GameManager.instance.hero.bodyBase.x+50,s.GameManager.instance.hero.bodyBase.y+10,2),t.bodyHeroContact.setRectangle(20,20),t.bodyHeroContact.sensor=!0,e.physics.box2d.revoluteJoint(s.GameManager.instance.hero.bodyBase,t.bodyHeroContact,50,10,0,0),t.bodyHeroContact.setBodyContactCallback(t.bodyHook,t.hookConnected,t),t.setStateSleep(),t.createStarter(),t.grAnim=s.GameManager.instance.layerBackground.create(0,0,"level5"),t.grAnim.animations.add("anim",Phaser.Animation.generateFrameNames("tractorTryStart instance 1",0,13,"",4),30,!1).onComplete.add(function(){this.grAnim.visible=!1},t),t.grAnim.anchor.setTo(.5),t.grAnim.visible=!1,t}s=e.Client||(e.Client={}),a=s.BasicElement,__extends(t,a),t.prototype.createStarter=function(){this.grStarter=s.GameManager.instance.layerBackground.create(this.sx+100,this.sy+20,"level5"),this.grStarter.anchor.setTo(.45,.26),this.grStarter.animations.add("anim",Phaser.Animation.generateFrameNames("tractorStarter instance 1",3,37,"",4),30,!1),this.grStarter.visible=!1,this.bodyStarter=new Phaser.Physics.Box2D.Body(this.game,null,505,460,2),this.bodyStarter.setRectangle(72,24),this.bodyStarter.data.SetActive(!1),this.bodyStarter.setCollisionCategory(s.FilterGroups.CAR1),this.bodyStarter.setCollisionMask(~s.FilterGroups.IGNORE_CAR),this.bodyContactStarter=new Phaser.Physics.Box2D.Body(this.game,null,this.sx+40,this.sy+5,2),this.bodyContactStarter.setCircle(23),this.bodyContactStarter.sensor=!0,this.bodyContactStarter.setBodyContactCallback(this.bodyStarter,this.contactWithTractor,this),this.game.physics.box2d.revoluteJoint(this.bodyBase,this.bodyContactStarter,40,5,0,0)},t.prototype.bodyUp=function(){this.jointHeroContact&&(this.currState="try",this.grEyes.animations.play("try"),this.activateAnim(),this.moving=!0,this.joint1.EnableMotor(!0),this.joint2.EnableMotor(!0),this.updateGraphic=!0,this.bodyWheel1.fixedRotation=!1,this.bodyWheel2.fixedRotation=!1,s.GameManager.instance.level.customAction(7),this.jointHook.SetMaxLength(this.jointHook.m_length),this.bodyOut(),this.grBody.inputEnabled=!1,s.SoundManager.stopSFXLoop("s_tractorEngine"),s.SoundManager.playSFX("s_tractorEngineGas"))},t.prototype.bodyOut=function(){!1!==this.grBody.inputEnabled&&(this.grBody.frameName="tractorBody instance 10000")},t.prototype.bodyOver=function(){!1!==this.grBody.inputEnabled&&(this.grBody.frameName="tractorBody instance 10001")},t.prototype.hookDown=function(){this.hookPressed=!0,this.bodyHook.fixedRotation=!1,this.jointHook.SetMaxLength(4.2),s.SoundManager.playSFX("s_rope")},t.prototype.hookUp=function(){this.hookPressed=!1,this.bodyHook.angle=0,this.jointHook.SetMaxLength(.01),this.bodyHook.fixedRotation=!0,this.bodyHook.angle=-15,this.bodyHook.x=this.bodyBase.x-64,this.bodyHook.y=this.bodyBase.y-23,this.hookRope.clear()},t.prototype.update=function(){!0===this.updateGraphic&&(this.group.x=this.bodyBase.x,this.group.y=this.bodyBase.y,this.group.rotation=this.bodyBase.rotation,this.grWheel1.x=this.bodyWheel1.x,this.grWheel1.y=this.bodyWheel1.y,this.grWheel1.rotation=this.bodyWheel1.rotation,this.grWheel2.x=this.bodyWheel2.x,this.grWheel2.y=this.bodyWheel2.y,this.grWheel2.rotation=this.bodyWheel2.rotation),1===this.hookConnectedCount&&(s.SoundManager.playSFX("s_hook"),this.hookConnectedCount=2,this.jointHeroContact=this.game.physics.box2d.revoluteJoint(this.bodyHeroContact,this.bodyHook,0,0,0,0),s.GameManager.instance.level.customAction(6),this.grHook.inputEnabled=!1,this.grHook.visible=!1,this.bodyHook.data.SetUserData(null),this.bodyHook.sensor=!0),1===this.starterInTractor&&(this.starterInTractor=2,s.GameManager.instance.level.customAction(6),this.activeUpdateStarter=2,this.bodyStarter.destroy(),this.grStarter.angle=0,this.grStarter.x=416,this.grStarter.y=396),!0===this.moving&&(0===this.movingNum?(this.joint1.SetMotorSpeed(-3),this.joint2.SetMotorSpeed(-3),this.bodyBase.x<=340&&this.stopMoveTractor()):1===this.movingNum&&(this.joint1.SetMotorSpeed(3),this.joint2.SetMotorSpeed(3),600<=this.bodyBase.x)&&(this.stopMoveTractor(),this.game.physics.box2d.world.DestroyJoint(this.jointHeroContact),this.hookPressed=!1,this.hookRope.clear(),s.GameManager.instance.hero.setClickable(!0))),this.updateHookBody(),this.updateStarter(),this.updateAnim(),this.updateParticles()},t.prototype.stopMoveTractor=function(){this.moving=!1,this.movingNum+=1,this.joint1.EnableMotor(!1),this.joint2.EnableMotor(!1),this.bodyWheel1.fixedRotation=!0,this.bodyWheel2.fixedRotation=!0,this.updateGraphic=!1,this.bodyBase.velocity.x=0,this.bodyWheel1.velocity.x=0,this.bodyWheel2.velocity.x=0,this.bodyWheel1.angularVelocity=0,this.bodyWheel2.angularVelocity=0,this.sx=this.bodyBase.x,this.sy=this.bodyBase.y},t.prototype.hookConnected=function(){0===this.hookConnectedCount&&(this.hookConnectedCount=1)},t.prototype.contactWithTractor=function(){0===this.starterInTractor&&(this.starterInTractor=1)},t.prototype.updateHookBody=function(){var e,t;this.grHook.x=this.bodyHook.x,this.grHook.y=this.bodyHook.y,this.grHook.rotation=this.bodyHook.rotation,!0===this.hookPressed&&(t=this.group.x+this.grBody.x,e=this.group.y+this.grBody.y,t=s.Tools.rotatePointByAngle(t,e,t-60,e-25,this.group.rotation),this.hookRope.clear(),this.hookRope.lineStyle(3,0,1),this.hookRope.moveTo(t.x,t.y),this.hookRope.lineTo(this.grHook.x,this.grHook.y),this.hookRope.endFill())},t.prototype.updateStarter=function(){1===this.activeUpdateStarter&&(this.grStarter.x=this.bodyStarter.x,this.grStarter.y=this.bodyStarter.y,this.grStarter.rotation=this.bodyStarter.rotation)},t.prototype.activateHook=function(){this.grHook.inputEnabled=!0,this.grHook.input.useHandCursor=!0,this.bodyHook.data.SetUserData("DragBody")},t.prototype.setStateSleep=function(){this.currState="sleep",this.grEyes.animations.play("sleep"),this.activateAnim(),s.SoundManager.playSFX("s_tractorSnore",!0)},t.prototype.meteor=function(){this.activeUpdateStarter=1,this.grStarter.visible=!0,this.grStarter.inputEnabled=!0,this.grStarter.input.useHandCursor=!0,this.grStarter.events.onInputOut.add(this.starterOut,this),this.grStarter.events.onInputOver.add(this.starterOver,this),this.grStarter.events.onInputUp.add(this.starterUp,this),this.bodyStarter.data.SetActive(!0),this.bodyStarter.data.SetUserData("DragBody"),this.grZ.destroy(),this.starterOut(),this.currState="wakeUp",this.grEyes.animations.play("awake"),this.activateAnim(),this.moving=!0,this.joint1.EnableMotor(!0),this.joint2.EnableMotor(!0),this.updateGraphic=!0,this.bodyWheel1.fixedRotation=!1,this.bodyWheel2.fixedRotation=!1,s.SoundManager.stopSFXLoop("s_tractorSnore"),s.SoundManager.playSFX("s_tractorWakeup")},t.prototype.starterOut=function(){!1!==this.grStarter.inputEnabled&&(this.grStarter.frameName="tractorStarter instance 10000")},t.prototype.starterOver=function(){!1!==this.grStarter.inputEnabled&&(this.grStarter.frameName="tractorStarter instance 10001")},t.prototype.starterUp=function(){2===this.starterInTractor?this.starterInTractor=3:3===this.starterInTractor&&(s.SoundManager.playSFX("s_handStart"),this.grStarter.animations.play("anim"),this.grStarter.inputEnabled=!1,this.setStateStarter())},t.prototype.starterComplete=function(){this.starterCounterRot+=1,3===this.starterCounterRot?(this.grStarter.animations.stop(),this.grStarter.frameName="tractorStarter instance 10002",s.GameManager.instance.level.setSimpleTween(this.grStarter,20,{y:460,angle:24}),this.grBody.inputEnabled=!0,this.grBody.input.useHandCursor=!0,this.grBody.events.onInputOut.add(this.bodyOut,this),this.grBody.events.onInputOver.add(this.bodyOver,this),this.grBody.events.onInputUp.add(this.bodyUp,this),this.setStateWait(),this.updateParticlesBool=!0):(this.grStarter.inputEnabled=!0,this.grStarter.input.useHandCursor=!0)},t.prototype.setStateStarter=function(){this.currState="starter",this.grEyes.animations.play("blink"),this.activateAnim()},t.prototype.setStateWait=function(){this.currState="wait",this.grEyes.animations.play("blink"),this.activateAnim(),s.SoundManager.playSFX("s_tractorEngine",!0)},t.prototype.updateAnim=function(){var e,t;!1!==this.animActive&&(this.animCounter+=1,"sleep"===this.currState?1===this.animCounter?(this.animDuration=38,s.GameManager.instance.level.setSimpleTween(this.grBody,this.animDuration,{y:-2}),s.GameManager.instance.level.setSimpleTween(this.grShchit1,this.animDuration,{angle:-3}),s.GameManager.instance.level.setSimpleTween(this.grShchit2,this.animDuration,{angle:14}),s.GameManager.instance.level.setSimpleTween(this.grBrown1,this.animDuration,{x:11,y:-52,angle:-10}),s.GameManager.instance.level.setSimpleTween(this.grBrown2,this.animDuration,{y:-54,angle:11})):39===this.animCounter?(this.animDuration=37,s.GameManager.instance.level.setSimpleTween(this.grBody,this.animDuration,{y:0}),s.GameManager.instance.level.setSimpleTween(this.grShchit1,this.animDuration,{angle:0}),s.GameManager.instance.level.setSimpleTween(this.grShchit2,this.animDuration,{angle:0}),s.GameManager.instance.level.setSimpleTween(this.grBrown1,this.animDuration,{x:12,y:-43,angle:0}),s.GameManager.instance.level.setSimpleTween(this.grBrown2,this.animDuration,{y:-46,angle:0})):76===this.animCounter&&(this.animCounter=0):"wakeUp"===this.currState?1===this.animCounter?(this.animDuration=6,s.GameManager.instance.level.setSimpleTween(this.grBody,this.animDuration,{y:-9}),s.GameManager.instance.level.setSimpleTween(this.grShchit1,this.animDuration,{x:-37,y:-18}),s.GameManager.instance.level.setSimpleTween(this.grShchit2,this.animDuration,{x:41,y:18}),s.GameManager.instance.level.setSimpleTween(this.grBrown1,8,{x:9,y:-63,angle:-19}),s.GameManager.instance.level.setSimpleTween(this.grBrown2,8,{x:27,y:-63,angle:13}),s.GameManager.instance.level.setSimpleTween(this.grHat,this.animDuration,{x:-16,y:-77,angle:-9})):7===this.animCounter?(this.animDuration=9,s.GameManager.instance.level.setSimpleTween(this.grBody,this.animDuration,{y:0}),s.GameManager.instance.level.setSimpleTween(this.grShchit1,this.animDuration,{x:-35,y:-7}),s.GameManager.instance.level.setSimpleTween(this.grShchit2,this.animDuration,{x:38,y:27}),s.GameManager.instance.level.setSimpleTween(this.grHat,5,{x:-14,y:-57,angle:14})):9===this.animCounter?(s.GameManager.instance.level.setSimpleTween(this.grBrown1,7,{x:12,y:-43,angle:0}),s.GameManager.instance.level.setSimpleTween(this.grBrown2,7,{x:26,y:-46,angle:-9})):12===this.animCounter?s.GameManager.instance.level.setSimpleTween(this.grHat,5,{x:-18,y:-45,angle:0}):16===this.animCounter&&(this.animActive=!1):"starter"===this.currState?(1===this.animCounter?(this.animDuration=16,s.GameManager.instance.level.setSimpleTween(this.grBody,this.animDuration,{x:1,y:-6}),s.GameManager.instance.level.setSimpleTween(this.grShchit1,this.animDuration,{x:-35,y:-15,angle:6}),s.GameManager.instance.level.setSimpleTween(this.grShchit2,this.animDuration,{x:41,y:20,angle:18}),s.GameManager.instance.level.setSimpleTween(this.grHat,this.animDuration,{x:-18,y:-56}),s.GameManager.instance.level.setSimpleTween(this.grBrown1,this.animDuration,{x:9,y:-54,angle:-6}),s.GameManager.instance.level.setSimpleTween(this.grBrown2,this.animDuration,{x:25,y:-58,angle:6})):17===this.animCounter?(this.animDuration=8,s.GameManager.instance.level.setSimpleTween(this.grBody,this.animDuration,{x:1,y:-3}),s.GameManager.instance.level.setSimpleTween(this.grShchit1,this.animDuration,{x:-30,y:-10,angle:12}),s.GameManager.instance.level.setSimpleTween(this.grShchit2,this.animDuration,{x:44,y:23,angle:26}),s.GameManager.instance.level.setSimpleTween(this.grHat,this.animDuration,{x:-13,y:-53,angle:7}),s.GameManager.instance.level.setSimpleTween(this.grBrown1,this.animDuration,{x:17,y:-49,angle:-13}),s.GameManager.instance.level.setSimpleTween(this.grBrown2,this.animDuration,{x:31,y:-52,angle:26})):22===this.animCounter?(this.grAnim.animations.play("anim"),this.grAnim.x=this.sx,this.grAnim.y=this.sy,this.grAnim.visible=!0):25===this.animCounter?(this.animDuration=16,s.GameManager.instance.level.setSimpleTween(this.grBody,this.animDuration,{x:0,y:0}),s.GameManager.instance.level.setSimpleTween(this.grShchit1,this.animDuration,{x:-35,y:-7,angle:0}),s.GameManager.instance.level.setSimpleTween(this.grShchit2,this.animDuration,{x:38,y:27,angle:0}),s.GameManager.instance.level.setSimpleTween(this.grHat,this.animDuration,{x:-18,y:-45,angle:0}),s.GameManager.instance.level.setSimpleTween(this.grBrown1,this.animDuration,{x:12,y:-43,angle:0}),s.GameManager.instance.level.setSimpleTween(this.grBrown2,this.animDuration,{x:26,y:-46,angle:0})):50===this.animCounter&&(this.animActive=!1,this.starterComplete()),e=this.group.x+this.grBody.x,t=this.group.y+this.grBody.y,this.grStarter.position=s.Tools.rotatePointByAngle(e,t,e+77,t-9,this.grBody.rotation)):"wait"===this.currState?1===this.animCounter?(this.animDuration=10,s.GameManager.instance.level.setSimpleTween(this.grBody,this.animDuration,{y:3}),s.GameManager.instance.level.setSimpleTween(this.grShchit2,this.animDuration,{y:25}),s.GameManager.instance.level.setSimpleTween(this.grBrown1,this.animDuration,{y:-40}),s.GameManager.instance.level.setSimpleTween(this.grBrown2,this.animDuration,{y:-43})):11===this.animCounter?(this.animDuration=10,s.GameManager.instance.level.setSimpleTween(this.grBody,this.animDuration,{y:0}),s.GameManager.instance.level.setSimpleTween(this.grShchit2,this.animDuration,{y:27}),s.GameManager.instance.level.setSimpleTween(this.grBrown1,this.animDuration,{y:-43}),s.GameManager.instance.level.setSimpleTween(this.grBrown2,this.animDuration,{y:-46})):21===this.animCounter&&(this.animCounter=0):"try"===this.currState&&(1===this.animCounter?(this.animDuration=11,s.GameManager.instance.level.setSimpleTween(this.grBody.scale,this.animDuration,{x:1.05,y:1.1})):12===this.animCounter?(this.animDuration=11,s.GameManager.instance.level.setSimpleTween(this.grBody.scale,this.animDuration,{x:1,y:1})):23===this.animCounter&&this.setStateWait()))},t.prototype.activateAnim=function(){this.animActive=!0,this.animCounter=0},t.prototype.updateParticles=function(){!1!==this.updateParticlesBool&&(this.updateParticlesCount+=1,3===this.updateParticlesCount)&&(this.updateParticlesCount=0,this.setParticle(this.group.x+7+s.Tools.random(-7,7),this.group.y-70+s.Tools.random(-15,15),s.Tools.random(6,10)/10))},t.prototype.setParticle=function(e,t,a){for(var i=0;i<this.particles.length;i++)if(!1===this.particles[i].visible)return this.particles[i].visible=!0,this.particles[i].x=e,this.particles[i].y=t,this.particles[i].scale.setTo(a),void this.particles[i].animations.play("anim");var n=s.GameManager.instance.layerBackground.create(e,t,"level5");n.animations.add("anim",Phaser.Animation.generateFrameNames("smokeParticleAnimUp instance 1",0,12,"",4),30,!1).onComplete.add(this.particeComp,this),n.animations.play("anim"),n.scale.setTo(a),n.anchor.setTo(.5,.9),this.particles.push(n)},t.prototype.particeComp=function(e,t){e.visible=!1},t.prototype.free=function(){this.game=null,this.group=null,this.grBody=null,this.grBrown1=null,this.grBrown2=null,this.grEyes=null,this.grHat=null,this.grHook=null,this.grShchit1=null,this.grShchit2=null,this.grTutuka=null,this.grStarter=null,this.grWheel1=null,this.grWheel2=null,this.grZ=null,this.grAnim=null,this.bodyBase=null,this.bodyWheel1=null,this.bodyWheel2=null,this.bodyHook=null,this.bodyStarter=null,this.bodyContactStarter=null,this.joint1=null,this.joint2=null,this.jointHook=null,this.hookRope=null,this.bodyHeroContact=null,this.jointHeroContact=null,this.particles=[],this.particles=null},s.Lvl5Tractor=t})(Wheely=Wheely||{}),(e=>{var t,s;function a(e,t,a,i){var n=s.call(this)||this;return n.direction=0,n.oldAngle=0,n.active=!1,n.game=e,n.arm=n.game.make.sprite(a,i,"level6","arm instance 10000"),n.arm.anchor.set(0,.5),t.addChild(n.arm),n.button=n.game.make.sprite(35,0,"level6","bodyArmHandle instance 10002"),n.button.anchor.set(.5),n.button.inputEnabled=!0,n.button.input.useHandCursor=!0,n.arm.addChild(n.button),n.button.events.onInputDown.add(n.down,n),n.button.events.onInputUp.add(n.up,n),n.button.events.onInputOver.add(n.over,n),n.button.events.onInputOut.add(n.out,n),n.setActive(!1),n}t=e.Client||(e.Client={}),s=t.BasicElement,__extends(a,s),a.prototype.setActive=function(e){this.active=e,!0===(this.button.inputEnabled=e)&&(this.out(),this.button.input.useHandCursor=e)},a.prototype.down=function(){this.buttonDown=!0},a.prototype.up=function(){this.buttonDown=!1,this.direction=0},a.prototype.over=function(){!0===this.active&&(this.button.frameName="bodyArmHandle instance 10001")},a.prototype.out=function(){!0===this.active&&(this.button.frameName="bodyArmHandle instance 10000")},a.prototype.getDirection=function(){return this.direction},a.prototype.deactivate=function(){this.button.inputEnabled=!1,this.button.events.onInputDown.remove(this.down,this),this.button.events.onInputUp.remove(this.up,this),this.button.events.onInputOver.remove(this.over,this),this.button.events.onInputOut.remove(this.out,this),this.button.frameName="bodyArmHandle instance 10002"},a.prototype.update=function(){var e;!0===this.buttonDown&&(e=Phaser.Math.angleBetween(this.game.input.activePointer.x,this.game.input.activePointer.y,this.arm.world.x,this.arm.world.y),this.oldAngle===e?this.direction=0:(e>this.oldAngle?this.direction=-1:this.direction=1,this.arm.rotation=e-t.Tools.toRad(180),this.oldAngle=e))},a.prototype.free=function(){this.game=null,this.arm=null,this.button=null},t.Lvl6Arm=a})(Wheely=Wheely||{}),(e=>{var s,r;function t(e,t,a){var i=r.call(this,e)||this;i.connected=!0,i.moveNow=!1,i.speed=50,i.rightLimit=642,i.leftLimit=350,i.x=t,i.y=a;i.create(0,0,"level6","boat_mc instance 10000").anchor.set(.5);var n=i.create(55,15,"level6","anthena instance 10000",!0,0);return n.anchor.set(.5,.95),i.game.add.tween(n).to({angle:3},500,"Linear",!0,0,-1,!0),i.cable=i.create(-9,10,"level6","cable instance 10000"),i.cable.animations.add("connect",Phaser.Animation.generateFrameNames("cable instance 1",15,0,"",4),35,!1).onComplete.add(i.fullConnect,i),i.cable.animations.add("disconnect",Phaser.Animation.generateFrameNames("cable instance 1",0,15,"",4),35,!1).onComplete.add(i.fullDisconnect,i),i.cable.anchor.set(.5,1),i.body=new Phaser.Physics.Box2D.Body(i.game,null,t,a,1),i.body.setRectangle(126,10,0,13),i.boatController=new s.Lvl6BoatController(e),i.waves=e.make.sprite(55,-60,"level6","waves instance 10000"),i.waves.animations.add("move",Phaser.Animation.generateFrameNames("waves instance 1",0,38,"",4),35,!1),i.waves.angle=-15,i.addChild(i.waves),i.engineWaterAnim=i.create(47,18,"level6","boatWaterAnim instance 10000",!0,0),i.engineWaterAnim.animations.add("work",Phaser.Animation.generateFrameNames("boatWaterAnim instance 1",0,13,"",4),35,!0),i.engineWaterAnim.visible=!1,i.engineWaterAnim.play("work"),i}s=e.Client||(e.Client={}),r=Phaser.Group,__extends(t,r),t.prototype.connect=function(){this.cable.play("connect"),this.boatController.hide()},t.prototype.fullConnect=function(){this.connected=!0,this.swimAnim.stop(),this.angle=0},t.prototype.disconnect=function(){this.cable.play("disconnect")},t.prototype.fullDisconnect=function(){this.connected=!1,this.body.y=470,this.angle=-3,this.swimAnim=this.game.add.tween(this).to({angle:3},1e3,"Linear",!0,0,-1,!0),this.boatController.show()},t.prototype.update=function(){!0===this.connected?(this.body.x=this.x,this.body.y=this.y):(0!==this.boatController.direction?!1===this.moveNow&&(this.moveNow=!0,this.engineWaterAnim.visible=!0,this.waves.play("move")):(this.engineWaterAnim.visible=!1,this.moveNow=!1),this.body.velocity.x=this.boatController.direction*this.speed,this.body.x<this.leftLimit?this.body.x=this.leftLimit:this.body.x>this.rightLimit&&(this.body.x=this.rightLimit),this.x=this.body.x,this.y=this.body.y)},t.prototype.free=function(){this.game=null,this.cable=null,this.body=null,this.swimAnim=null,this.boatController.free(),this.boatController=null,this.waves=null,this.engineWaterAnim=null},s.Lvl6Boat=t})(Wheely=Wheely||{}),(e=>{var t;function a(e){this.direction=0,this.controller=new Phaser.Group(e),this.controller.x=810,this.controller.y=235,t.GameManager.instance.layerUpper.addChild(this.controller),this.controller.create(0,0,"level6","console_mc instance 10000"),this.buttonLeft=new Phaser.Button(e,47,88,"level6",this.stop,this,"btnControll instance 10001","btnControll instance 10000","btnControll instance 10002","btnControll instance 10000"),this.buttonLeft.events.onInputDown.add(this.moveLeft,this),this.buttonLeft.anchor.set(.5),this.controller.addChild(this.buttonLeft),this.buttonRight=new Phaser.Button(e,115,88,"level6",this.stop,this,"btnControll instance 10001","btnControll instance 10000","btnControll instance 10002","btnControll instance 10000"),this.buttonRight.events.onInputDown.add(this.moveRight,this),this.buttonRight.anchor.set(.5),this.buttonRight.scale.x=-1,this.controller.addChild(this.buttonRight),this.waveL=e.make.sprite(70,0,"level6","waves instance 10000"),this.waveL.animations.add("move",Phaser.Animation.generateFrameNames("waves instance 1",0,38,"",4),35,!1),this.waveL.scale.x=-1,this.controller.addChild(this.waveL),this.waveR=e.make.sprite(90,0,"level6","waves instance 10000"),this.waveR.animations.add("move",Phaser.Animation.generateFrameNames("waves instance 1",0,38,"",4),35,!1),this.controller.addChild(this.waveR)}t=e.Client||(e.Client={}),a.prototype.stop=function(){this.direction=0},a.prototype.moveLeft=function(){this.direction=-1,this.waveL.play("move"),this.waveR.play("move")},a.prototype.moveRight=function(){this.direction=1,this.waveL.play("move"),this.waveR.play("move")},a.prototype.show=function(){t.GameManager.instance.level.game.add.tween(this.controller).to({x:660},400,"Linear",!0)},a.prototype.hide=function(){t.GameManager.instance.level.game.add.tween(this.controller).to({x:810},400,"Linear",!0)},a.prototype.free=function(){this.controller=null,this.buttonLeft=null,this.buttonRight=null,this.waveL=null,this.waveR=null},t.Lvl6BoatController=a})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t){var a=s.call(this)||this,i=(a.topLimit=30,a.botLimit=292,a.speed=1.5,a.active=!1,a.boatConnected=!0,t.create(-82,-35,"level6","cran instance 10000",!(a.stopUpdate=!1),0),a.arm=new n.Lvl6Arm(e,t,20,55),a.hook=new Phaser.Group(e),a.hook.x=-65,a.hook.y=a.topLimit,t.addChildAt(a.hook,0),e.make.sprite(0,0,"level6","rope instance 10000"));return i.anchor.set(.5,1),a.hook.addChild(i),a.hookBtn=a.hook.create(0,0,"level6","hook instance 10002"),a.hookBtn.anchor.set(.5),a.hookBtn.events.onInputUp.add(a.up,a),a.hookBtn.events.onInputOver.add(a.over,a),a.hookBtn.events.onInputOut.add(a.out,a),a.mask=new Phaser.Graphics(e,-65,0),a.mask.beginFill(0),a.mask.drawRect(-5,0,10,400),a.mask.endFill(),t.addChild(a.mask),i.mask=a.mask,a.boatConnected=!0,a}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.up=function(){!0===this.boatConnected?(this.boatConnected=!1,n.GameManager.instance.level.disconnectBoat()):(this.stopUpdate=!0,n.GameManager.instance.level.game.add.tween(this.hook).to({y:400},300,"Linear",!0).onComplete.addOnce(this.catchBoat,this))},t.prototype.catchBoat=function(){!1===this.boatConnected&&(this.boatConnected=!0,n.GameManager.instance.level.game.add.tween(this.hook).to({y:this.botLimit},300,"Linear",!0).onComplete.add(function(){this.stopUpdate=!1},this),n.GameManager.instance.level.catchBoat())},t.prototype.over=function(e){!0===this.active&&(e.frameName="hook instance 10001")},t.prototype.out=function(e){!0===this.active&&(e.frameName="hook instance 10000")},t.prototype.activate=function(){this.arm.setActive(!0)},t.prototype.setActive=function(e){!0===(this.hookBtn.inputEnabled=e)?(this.hookBtn.frameName="hook instance 10000",this.hookBtn.input.useHandCursor=e):this.hookBtn.frameName="hook instance 10002",this.active=e},t.prototype.update=function(){this.arm.update(),this.hook.y+=this.speed*this.arm.getDirection(),!1===this.stopUpdate&&(this.hook.y>this.botLimit?this.hook.y=this.botLimit:this.hook.y<this.topLimit&&(this.hook.y=this.topLimit),this.hook.y>this.botLimit-10?!1===this.active&&this.setActive(!0):!0===this.active&&this.setActive(!1)),n.GameManager.instance.level.boat.x<635&&this.setActive(!1)},t.prototype.free=function(){this.arm.free(),this.arm=null,this.hook=null,this.mask=null,this.hookBtn=null},n.Lvl6Cran=t})(Wheely=Wheely||{}),(e=>{var t;function a(e,t,a,i){this.ratio=0,this.updateElevatorHandler=!1,this.armCurrentFrame=0,this.minY=0,this.maxY=0,this.minY=i-25,this.maxY=i+25,this.armAnim=t.create(a,i,"level6","armAnim instance 10000"),this.armAnim.anchor.set(.5,.5),this.handle=t.create(a,this.minY,"level6","armHandle instance 10000"),this.handle.anchor.set(.5,.5),this.handle.inputEnabled=!0,this.handle.input.useHandCursor=!0,this.handle.input.enableDrag(),this.handle.input.boundsRect=new Phaser.Rectangle(this.handle.x-this.handle.width/2,this.handle.y-this.handle.height/2,65,80),this.handle.input.setDragLock(!1,!0),this.handle.events.onInputDown.add(this.down,this),this.handle.events.onInputUp.add(this.up,this)}t=e.Client||(e.Client={}),a.prototype.up=function(){this.updateElevatorHandler=!1},a.prototype.down=function(){t.GameManager.instance.hero.bodyBase.data.SetAwake(!0),this.updateElevatorHandler=!0},a.prototype.update=function(){this.updateElevatorHandler&&(this.ratio=Math.floor(100*(this.handle.y-this.minY))/(this.maxY-this.minY)/100,this.armCurrentFrame=Math.floor(68*this.ratio),this.armAnim.frameName="armAnim instance "+(1e4+this.armCurrentFrame))},a.prototype.free=function(){this.handle=null,this.armAnim=null},t.Lvl6CranArm=a})(Wheely=Wheely||{}),(e=>{var t,i;function a(e){var t=i.call(this,e)||this,a=(t.move=!1,t.topLimit=92,t.botLimit=197,t.moveDistance=0,t.speed=1,t.direction=1,t.work=!1,t.selected=!1,t.x=123,t.y=100,t.moveDistance=t.botLimit-t.topLimit,t.create(-35,-27,"level6","elevatorButtonPlace instance 10000"),t.wheel1=t.create(-16,-24,"level6","elevatorWheel instance 10000",!0,0),t.wheel1.anchor.set(.5),t.wheel2=t.create(16,-24,"level6","elevatorWheel instance 10000",!0,0),t.wheel2.anchor.set(.5),t.button=t.create(0,17,"level6","elevatorButton instance 10000"),t.button.anchor.set(.5),t.button.inputEnabled=!0,t.button.input.useHandCursor=!0,t.button.events.onInputDown.add(t.down,t),t.button.events.onInputOver.add(t.over,t),t.button.events.onInputOut.add(t.out,t),t.karabin=new Phaser.Group(e),t.karabin.x=3,t.karabin.y=t.topLimit,t.addChildAt(t.karabin,0),e.make.sprite(0,0,"level6","elevatorKarabin instance 10000")),a=(a.anchor.set(.5),t.karabin.addChild(a),e.make.sprite(0,0,"level6","doubleRope instance 10000"));return a.anchor.set(.5,1),t.karabin.addChildAt(a,0),t.ropeMask=new Phaser.Graphics(e,0,0),t.ropeMask.beginFill(0),t.ropeMask.drawRect(-15,0,30,200),t.ropeMask.endFill(),t.addChild(t.ropeMask),a.mask=t.ropeMask,t.rope=e.make.sprite(0,20,"level6","rope instance 10000"),t.rope.anchor.set(.5,1),t.karabin.addChildAt(t.rope,0),t.elevatorMain=e.make.sprite(0,18,"level6","elevatorMain1 instance 10000"),t.elevatorMain.anchor.set(.5,0),t.karabin.addChild(t.elevatorMain),t.ropeMask2=new Phaser.Graphics(e,0,0),t.ropeMask2.beginFill(0),t.ropeMask2.drawRect(-65,0,130,200),t.ropeMask2.endFill(),t.karabin.addChild(t.ropeMask2),t.rope.mask=t.ropeMask2,t.body=new Phaser.Physics.Box2D.Body(e,null,t.x,t.y+t.elevatorMain.height+t.karabin.y+6,1),t.body.setRectangle(125,10,-53),t.body.sensor=!0,t}t=e.Client||(e.Client={}),i=Phaser.Group,__extends(a,i),a.prototype.down=function(){t.GameManager.instance.hero.bodyBase.data.SetAwake(!0),t.GameManager.instance.level.activateElevator(1),this.selected=!0,this.button.frameName="elevatorButton instance 10002"},a.prototype.over=function(){!1===this.selected&&(this.button.frameName="elevatorButton instance 10001")},a.prototype.out=function(){!1===this.selected&&(this.button.frameName="elevatorButton instance 10000")},a.prototype.select=function(e){this.selected=e,this.button.frameName=!0===e?"elevatorButton instance 10002":"elevatorButton instance 10000"},a.prototype.moveUpdate=function(e){e=this.moveDistance*e,e=this.topLimit+e;Math.round(this.karabin.y)===this.botLimit-2&&!0===this.body.sensor&&(this.body.sensor=!1),e===this.karabin.y?(!0===this.move&&t.SoundManager.stopSFXLoop("s_upStartloop"),this.move=!1):(!1===this.move&&(t.SoundManager.playSFX("s_upStart"),t.SoundManager.playSFX("s_upStartloop",!0)),this.move=!0,this.karabin.y>e?this.direction=-1:this.karabin.y<e&&(this.direction=1),this.rope.y+=this.speed*this.direction,this.elevatorMain.y=this.rope.y-2,this.body.y+=2*this.speed*this.direction,this.karabin.y+=this.speed*this.direction,this.wheel1.angle+=3*this.direction,this.wheel2.angle+=3*this.direction*-1,(1===this.direction&&this.karabin.y>e||-1===this.direction&&this.karabin.y<e)&&(this.karabin.y=e))},a.prototype.destroy=function(){i.prototype.destroy.call(this),this.wheel1=null,this.wheel2=null,this.button=null,this.ropeMask=null,this.ropeMask2=null,this.elevatorMain=null,this.karabin=null},t.Lvl6Elevator1=a})(Wheely=Wheely||{}),(e=>{var t,i;function a(e){var t=i.call(this,e)||this,a=(t.move=!1,t.topLimit=53,t.botLimit=121,t.moveDistance=0,t.speed=1,t.direction=1,t.work=!1,t.selected=!1,t.x=517,t.y=100,t.moveDistance=t.botLimit-t.topLimit,t.create(-35,-27,"level6","elevatorButtonPlace instance 10000"),t.wheel1=t.create(-16,-24,"level6","elevatorWheel instance 10000",!0,0),t.wheel1.anchor.set(.5),t.wheel2=t.create(16,-24,"level6","elevatorWheel instance 10000",!0,0),t.wheel2.anchor.set(.5),t.button=t.create(0,17,"level6","elevatorButton instance 10000"),t.button.anchor.set(.5),t.button.inputEnabled=!0,t.button.input.useHandCursor=!0,t.button.events.onInputDown.add(t.down,t),t.button.events.onInputOver.add(t.over,t),t.button.events.onInputOut.add(t.out,t),t.karabin=new Phaser.Group(e),t.karabin.x=3,t.karabin.y=t.topLimit,t.addChildAt(t.karabin,0),e.make.sprite(0,0,"level6","elevatorKarabin instance 10000")),a=(a.anchor.set(.5),t.karabin.addChild(a),e.make.sprite(0,0,"level6","doubleRope instance 10000"));return a.anchor.set(.5,1),t.karabin.addChildAt(a,0),t.ropeMask=new Phaser.Graphics(e,0,0),t.ropeMask.beginFill(0),t.ropeMask.drawRect(-15,0,30,200),t.ropeMask.endFill(),t.addChild(t.ropeMask),a.mask=t.ropeMask,t.rope=e.make.sprite(0,20,"level6","rope instance 10000"),t.rope.anchor.set(.5,1),t.karabin.addChildAt(t.rope,0),t.elevatorMain=e.make.sprite(0,18,"level6","elevatorMain2 instance 10000"),t.elevatorMain.anchor.set(.5,0),t.karabin.addChild(t.elevatorMain),t.nine=t.game.make.sprite(0,125,"level6","nine instance 10000"),t.nine.anchor.set(.5),t.nine.inputEnabled=!0,t.nine.input.useHandCursor=!0,t.nine.events.onInputUp.add(t.numberClick,t),t.elevatorMain.addChild(t.nine),t.ropeMask2=new Phaser.Graphics(e,0,0),t.ropeMask2.beginFill(0),t.ropeMask2.drawRect(-65,0,130,200),t.ropeMask2.endFill(),t.karabin.addChild(t.ropeMask2),t.rope.mask=t.ropeMask2,t.body=new Phaser.Physics.Box2D.Body(e,null,t.x,t.y+t.elevatorMain.height+t.karabin.y+6,1),t.body.setRectangle(125,10,-53),t.body.sensor=!0,t}t=e.Client||(e.Client={}),i=Phaser.Group,__extends(a,i),a.prototype.numberClick=function(){this.nine.inputEnabled=!1,this.nine.frameName="nine instance 10001",t.GameManager.instance.level.numberClick("9")},a.prototype.activateNumbers=function(){this.nine.inputEnabled=!0,this.nine.input.useHandCursor=!0,this.nine.frameName="nine instance 10000"},a.prototype.down=function(){t.GameManager.instance.hero.bodyBase.data.SetAwake(!0),t.GameManager.instance.level.activateElevator(2),this.selected=!0,this.button.frameName="elevatorButton instance 10002"},a.prototype.over=function(){!1===this.selected&&(this.button.frameName="elevatorButton instance 10001")},a.prototype.out=function(){!1===this.selected&&(this.button.frameName="elevatorButton instance 10000")},a.prototype.select=function(e){this.selected=e,this.button.frameName=!0===e?"elevatorButton instance 10002":"elevatorButton instance 10000"},a.prototype.moveUpdate=function(e){e=this.moveDistance*e,e=this.topLimit+e;this.karabin.y===this.botLimit-2&&!0===this.body.sensor&&(this.body.sensor=!1),e===this.karabin.y?(!0===this.move&&t.SoundManager.stopSFXLoop("s_upStartloop"),this.move=!1):(!1===this.move&&(t.SoundManager.playSFX("s_upStart"),t.SoundManager.playSFX("s_upStartloop",!0)),this.move=!0,this.karabin.y>e?this.direction=-1:this.karabin.y<e&&(this.direction=1),this.rope.y+=this.speed*this.direction,this.elevatorMain.y=this.rope.y-2,this.body.y+=2*this.speed*this.direction,this.karabin.y+=this.speed*this.direction,this.wheel1.angle+=3*this.direction,this.wheel2.angle+=3*this.direction*-1,(1===this.direction&&this.karabin.y>e||-1===this.direction&&this.karabin.y<e)&&(this.karabin.y=e))},a.prototype.update=function(){this.body.y>t.GameManager.instance.hero.bodyBase.y+35?this.body.sensor=!1:this.body.sensor=!0},a.prototype.destroy=function(){i.prototype.destroy.call(this),this.wheel1=null,this.wheel2=null,this.button=null,this.ropeMask=null,this.ropeMask2=null,this.elevatorMain=null,this.nine=null,this.karabin=null},t.Lvl6Elevator2=a})(Wheely=Wheely||{}),(e=>{var s,r;function t(e,t,a){var i=r.call(this)||this,n=(i.active=!0,i.car=s.GameManager.instance.layerBackground.create(t,a,"level6","redCar instance 10000"),e.physics.box2d.enable(i.car),i.car.body.setRectangle(215,50),e.make.sprite(25,-40,"level6","redCarEyes instance 10000")),n=(n.animations.add("idle",Phaser.Animation.generateFrameNames("redCarEyes instance 1",0,79,"",4),35,!0),n.play("idle"),i.car.addChild(n),s.GameManager.instance.layerBackground.create(t-55,a+40,"level6","redCarWheel instance 10000")),t=(e.physics.box2d.enable(n),n.body.setCircle(22),n.body.friction=1,s.GameManager.instance.layerBackground.create(t+75,a+40,"level6","redCarWheel instance 10000"));return e.physics.box2d.enable(t),t.body.setCircle(22),t.body.friction=1,i.motorJ=e.physics.box2d.revoluteJoint(i.car.body,n.body,-55,40,0,0,0,30,!0),i.motorJ2=e.physics.box2d.revoluteJoint(i.car.body,t.body,75,40,0,0,0,30,!0),i.motorJ.m_motorSpeed=10,i.motorJ2.m_motorSpeed=10,i}s=e.Client||(e.Client={}),r=s.BasicElement,__extends(t,r),t.prototype.update=function(){!1!==this.active&&370<this.car.body.x&&(this.active=!1,this.motorJ.m_motorSpeed=0,this.motorJ2.m_motorSpeed=0,s.GameManager.instance.level.closeShipDoors())},t.prototype.free=function(){this.motorJ=null,this.motorJ2=null,this.car=null},s.Lvl6RedCar=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.game=e,i.ship=new Phaser.Group(i.game),i.ship.x=t,i.ship.y=a,n.GameManager.instance.layerUpper.addChild(i.ship),i.cranGroup=new Phaser.Group(i.game),i.cranGroup.x=t,i.cranGroup.y=a,n.GameManager.instance.layerBackground.addChild(i.cranGroup),i.shipBack=n.GameManager.instance.layerBackground0.create(221,375,"shipBackLvl6"),i.ship.create(0,0,"shipLvl6"),i.door=i.game.make.sprite(5,172,"level6","door instance 10000"),i.ship.addChildAt(i.door,0),i.trap=i.game.make.sprite(-70,278,"level6","ramp instance 10000"),i.trap.animations.add("close",Phaser.Animation.generateFrameNames("ramp instance 1",0,15,"",4),35,!1).onComplete.addOnce(function(){this.game.add.tween(this.door).to({y:287},800,"Linear",!0).onComplete.addOnce(function(){this.game.add.tween(this.door).to({x:20},600,"Linear",!0).onComplete.addOnce(this.startMove,this)},this)},i),i.ship.addChildAt(i.trap,0),i.engine=i.ship.create(113,452,"level6","engine instance 10000"),i.engine.animations.add("work",Phaser.Animation.generateFrameNames("engine instance 1",0,3,"",4),35,!0),i.engineWaterAnim=i.ship.create(20,452,"level6","whaterAnim instance 10000"),i.engineWaterAnim.animations.add("work",Phaser.Animation.generateFrameNames("whaterAnim instance 1",0,13,"",4),35,!0),i.engineWaterAnim.visible=!1,i.vent=i.ship.create(103,232,"level6","shipVent instance 10000"),i.vent.anchor.set(.5),i.addSeaStar(),i.addPhysics(),i.addCran(),i.seven=i.ship.create(24,146,"level6","seven instance 10000"),i.seven.inputEnabled=!0,i.seven.input.useHandCursor=!0,i.seven.events.onInputUp.add(i.numberClick,i),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.activateNumbers=function(){this.seven.inputEnabled=!0,this.seven.input.useHandCursor=!0,this.seven.frameName="seven instance 10000"},t.prototype.numberClick=function(){this.seven.inputEnabled=!1,this.seven.frameName="seven instance 10001",n.GameManager.instance.level.numberClick("7")},t.prototype.addCran=function(){this.cran=new n.Lvl6Cran(this.game,this.cranGroup)},t.prototype.addSeaStar=function(){var e=this.ship.create(315,421,"level6","star instance 10000");e.animations.add("idle",Phaser.Animation.generateFrameNames("star instance 1",0,68,"",4),24,!0),e.play("idle"),this.addStarEye(328,436),this.addStarEye(338,432)},t.prototype.addStarEye=function(e,t){e=this.ship.create(e,t,"level6","starEye instance 10000");e.animations.add("idle",Phaser.Animation.generateFrameNames("starEye instance 1",0,45,"",4),24,!0),e.play("idle")},t.prototype.addPhysics=function(){this.body=new Phaser.Physics.Box2D.Body(this.game,null,377,490,1),this.body.setRectangle(325,15,0,0),this.body.addRectangle(10,50,110,-40),this.trapBody=new Phaser.Physics.Box2D.Body(this.game,null,377,490,1),this.trapBody.setRectangle(90,5,-200,-28,n.Tools.toRad(-10)),this.stopperBody=new Phaser.Physics.Box2D.Body(this.game,null,255,410,1),this.stopperBody.setRectangle(15,100,0,0),this.stopperBody.sensor=!0},t.prototype.startMove=function(){this.game.add.tween(this.ship).to({x:this.ship.x+502},3300,"Linear",!0).onComplete.add(this.stopShip,this),this.game.add.tween(this.shipBack).to({x:this.shipBack.x+502},3300,"Linear",!0),this.game.add.tween(this.body).to({x:this.body.x+502},3300,"Linear",!0),this.game.add.tween(this.stopperBody).to({x:this.stopperBody.x+502},3300,"Linear",!0),this.game.add.tween(this.vent).to({angle:360},800,"Linear",!0,0,-1),this.engine.play("work"),this.engineWaterAnim.visible=!0,this.engineWaterAnim.play("work"),this.stopperBody.sensor=!1,this.trapBody.data.SetActive(!1),n.SoundManager.playSFX("s_shipOut"),n.SoundManager.playSFX("s_shipHorn")},t.prototype.stopShip=function(){this.engine.animations.stop(),this.engineWaterAnim.animations.stop(),this.engineWaterAnim.visible=!1,this.cran.activate(),n.GameManager.instance.level.activateTopGroup()},t.prototype.closeDoors=function(){this.trap.play("close")},t.prototype.update=function(){this.cranGroup.x=this.ship.x,this.cranGroup.y=this.ship.y,this.cran.update()},t.prototype.free=function(){this.game=null,this.ship.destroy(),this.ship=null,this.trap=null,this.door=null,this.engine=null,this.engineWaterAnim=null,this.vent=null,this.body=null,this.stopperBody=null,this.trapBody=null,this.shipBack=null,this.cran=null,this.cranGroup.destroy(),this.cranGroup=null,this.seven=null},n.Lvl6Ship=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.direction=1,t.currentElevator=2,t.game=e,t.container=new Phaser.Group(t.game),t.container.x=-56,t.container.y=-494,a.GameManager.instance.layerBackground.addChildAt(t.container,0),t.container.create(0,0,"level6","topGroup instance 10000"),t.elevator1=new a.Lvl6Elevator1(t.game),t.elevator1.select(!1),t.container.addChild(t.elevator1),t.elevator2=new a.Lvl6Elevator2(t.game),t.elevator2.select(!0),t.container.addChild(t.elevator2),t.boxBody=new Phaser.Physics.Box2D.Body(e,null,203,329,1),t.boxBody.setRectangle(123,123),t.boxBody.data.SetActive(!1),t.wall=new Phaser.Physics.Box2D.Body(e,null,360,300,1),t.wall.setRectangle(10,150),t.wall.data.SetActive(!1),t.engine=t.container.create(145,64,"level6","topEngine instance 10000",!0,0),t.engine.animations.add("top",Phaser.Animation.generateFrameNames("topEngine instance 1",0,29,"",4),35,!0),t.engine.animations.add("bot",Phaser.Animation.generateFrameNames("topEngine instance 1",29,0,"",4),35,!0),t.electricity=t.container.create(345,100,"level6","electric instance 10000",!0,1),t.electricity.anchor.set(.5),t.electricity.animations.add("energy",Phaser.Animation.generateFrameNames("electric instance 1",0,29,"",4),35,!0),t.electricity.play("energy"),t.electricity.visible=!1,t.cranArm=new a.Lvl6CranArm(t.game,t.container,406,140),t.codeBox=new a.Lvl6CodeBox(t.game,197,273),t.container.addChild(t.codeBox),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.activate=function(){this.boxBody.data.SetActive(!0),this.wall.data.SetActive(!0),this.game.add.tween(this.container).to({y:-8},2e3,Phaser.Easing.Exponential.Out,!0)},t.prototype.activateNumbers=function(){this.elevator2.activateNumbers()},t.prototype.numberClick=function(e){this.codeBox.checkOrder(e)},t.prototype.useElevator=function(e){this.currentElevator=e,1===this.currentElevator?(this.elevator1.select(!0),this.elevator2.select(!1)):(this.elevator1.select(!1),this.elevator2.select(!0))},t.prototype.showEnergy=function(e){!0===e?this.engine.animations.play("top"):this.engine.animations.stop(),this.electricity.visible=e},t.prototype.update=function(){1===this.currentElevator?(this.elevator1.moveUpdate(this.cranArm.ratio),this.showEnergy(this.elevator1.move)):(this.elevator2.moveUpdate(this.cranArm.ratio),this.showEnergy(this.elevator2.move)),this.cranArm.update()},t.prototype.free=function(){this.game=null,this.boxBody=null,this.wall=null,this.elevator1=null,this.elevator2=null,this.engine=null,this.electricity=null,this.cranArm.free(),this.cranArm=null,this.codeBox=null,this.container.destroy(!0),this.container=null},a.Lvl6TopGroup=t})(Wheely=Wheely||{}),(e=>{var i,r;function t(e,t,a){var i=r.call(this,e)||this;i.codeCells=new Array,i.code=new Array,i.x=t,i.y=a,i.cap=i.create(0,0,"level6","codeBox instance 10000"),i.cap.inputEnabled=!0;for(var n=0;n<3;n++){var s=i.game.make.sprite(0,15,"level6","cell instance 10000");s.x=25+27*n,2===n&&(s.x=25+28*n),s.animations.add("move",Phaser.Animation.generateFrameNames("cell instance 1",0,6,"",4),35,!1),i.cap.addChild(s),i.codeCells.push(s)}return i}i=e.Client||(e.Client={}),r=Phaser.Group,__extends(t,r),t.prototype.checkOrder=function(e){this.code.push(e),3<this.code.length&&this.code.shift();for(var t="",a=0;a<this.code.length;a++)t+=this.code[a];if(1===this.code.length&&"9"===t)this.codeCells[0].play("move");else if(2===this.code.length&&"94"===t)this.codeCells[1].play("move");else if(3===this.code.length&&"947"===t)this.codeCells[2].play("move");else{this.code=[],i.GameManager.instance.level.activateNumbers();for(a=0;a<3;a++)this.codeCells[a].frameName="cell instance 10000"}"947"===t&&(i.GameManager.instance.level.addQuestCar(60,97,this),this.game.add.tween(this.cap).to({alpha:0},500,"Linear",!0))},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.cap.destroy(),this.cap=null,this.codeCells=[],this.codeCells=null,this.code=[],this.code=null},i.Lvl6CodeBox=t})(Wheely=Wheely||{}),(e=>{var s,r;function t(e,t,a,i){var n=r.call(this)||this;return n.balonPressed=!1,n.counterF=0,n.fishConnected=0,n.level7=i,n.balon=e.make.button(t,a,"level7",n.bulonUp,n,"balloon instance 10001","balloon instance 10000"),n.balon.anchor.setTo(.5),n.balon.onInputDown.add(n.balonDown,n),s.GameManager.instance.layerElements.add(n.balon),n.air=e.make.sprite(65,-13,"level7"),n.air.animations.add("anim",Phaser.Animation.generateFrameNames("balloonBubbles instance 1",0,19,"",4),30,!0),n.air.visible=!1,n.balon.addChild(n.air),n.kran=e.make.sprite(55,7,"level7","ventil instance 10000"),n.kran.anchor.setTo(.5),n.balon.addChild(n.kran),n.body=new Phaser.Physics.Box2D.Body(e,null,t,a,2),n.body.setRectangle(126,36),n.body.data.SetActive(!1),n.body.fixedRotation=!0,n.body.mass=3.2,n.body.data.SetUserData("canWater"),n.body.setCollisionCategory(s.FilterGroups.CAR2),n.bodyForFish=new Phaser.Physics.Box2D.Body(e,null,t+70,a,2),n.bodyForFish.setCircle(5),n.bodyForFish.sensor=!0,n.bodyForFish.data.SetActive(!1),e.physics.box2d.revoluteJoint(n.body,n.bodyForFish,70,0,0,0),n.bodyForFish.setBodyContactCallback(n.level7.fish.body,n.connectFish,n),n}s=e.Client||(e.Client={}),r=s.BasicElement,__extends(t,r),t.prototype.connectFish=function(){0===this.fishConnected&&(this.fishConnected=1)},t.prototype.balonDown=function(){!1===this.body.data.IsActive()?(this.body.data.SetActive(!0),this.bodyForFish.data.SetActive(!0),s.SoundManager.playSFX("s_fall")):(this.balonPressed=!0,s.SoundManager.playSFX("s_airLoop",!0))},t.prototype.bulonUp=function(){!1!==this.balonPressed&&(s.SoundManager.stopSFXLoop("s_airLoop"),this.balonPressed=!1,this.air.visible=!1,this.air.animations.stop())},t.prototype.update=function(){!0===this.balonPressed&&(this.kran.angle+=10,this.body.y-10>this.level7.water.body.y-300)&&(!(this.body.velocity.x=-50)===this.air.visible&&(this.air.visible=!0,this.air.animations.play("anim")),2===this.fishConnected)&&(this.fishConnected=3,this.level7.fish.setStateBallon()),this.balon.x=this.body.x,this.balon.y=this.body.y,1===this.fishConnected?(this.fishConnected=2,this.level7.fish.connected(),this.level7.mouseDragEnd(),this.level7.fish.body.velocity.x=0,this.level7.fish.body.velocity.y=0,this.jointFish=this.level7.game.physics.box2d.revoluteJoint(this.bodyForFish,this.level7.fish.body,0,0,0,0)):3===this.fishConnected&&(this.counterF+=1,22===this.counterF)&&(this.level7.fish.setStateZduv(),this.level7.game.physics.box2d.world.DestroyJoint(this.jointFish),this.jointFish=null,this.fishConnected=4)},t.prototype.free=function(){this.balon=null,this.body=null,this.bodyForFish=null,this.kran=null,this.air=null,this.level7=null,this.jointFish=null},s.Lvl7Ballon=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.antenaSpeed=.15,t.active=!1,t.activeCounter=0,t.group=e.make.group(),t.group.x=128,t.group.y=167,a.GameManager.instance.layerElements.add(t.group),t.antena=t.group.create(59,-20,"level7","boatAntena instance 10000"),t.antena.anchor.setTo(.5,1),t.engineAnim=t.group.create(55,-2,"level7"),t.engineAnim.animations.add("anim",Phaser.Animation.generateFrameNames("boatAnim instance 1",0,13,"",4),30,!0),t.engineAnim.visible=!1,t.engine=t.group.create(35,-2,"level7","boatEngine instance 10000"),t.engine.animations.add("anim",Phaser.Animation.generateFrameNames("boatEngine instance 1",0,3,"",4),30,!0),t.graphic=t.group.create(0,0,"level7","boat instance 10000"),t.graphic.anchor.setTo(.5),t.rope=t.group.create(-53,-119,"level7","boatRope instance 10000"),t.rope.animations.add("anim",Phaser.Animation.generateFrameNames("boatRope instance 1",0,15,"",4),30,!1),t.body=new Phaser.Physics.Box2D.Body(e,null,t.group.x,t.group.y,2),t.body.setRectangle(120,40,0,5),t.body.kinematic=!0,t.body.friction=10,t.body.fixedRotation=!0,t.body.data.SetUserData("canWater"),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.activate=function(){this.rope.animations.play("anim"),this.body.dynamic=!0,this.body.mass=.1,this.body.collideWorldBounds=!1,a.GameManager.instance.hero.clearVelosityX(),a.GameManager.instance.hero.setClickable(!1),a.GameManager.instance.hero.setEnableMotor(!1),a.GameManager.instance.hero.setCollideWorldBounds(!1),this.engine.animations.play("anim"),this.engineAnim.visible=!0,this.engineAnim.animations.play("anim"),this.active=!0},t.prototype.update=function(){!0===this.active&&(this.activeCounter+=1,10===this.activeCounter?a.SoundManager.playSFX("s_boatWater"):10<this.activeCounter&&(this.body.velocity.x=-250)),this.group.x=this.body.x,this.group.y=this.body.y,this.group.rotation=this.body.rotation,this.antena.angle+=this.antenaSpeed,(this.antena.angle<=0||6<=this.antena.angle)&&(this.antenaSpeed*=-1)},t.prototype.free=function(){this.group=null,this.body=null,this.graphic=null,this.engine=null,this.engineAnim=null,this.antena=null,this.rope=null},a.Lvl7Boat=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.open=!1,t.moving=!1,t.counter=0,t.game=e,t.btn=e.make.button(558,230,"level7",t.btnUp,t,"btnBridge instance 10001","btnBridge instance 10000"),t.btn.anchor.setTo(.5),a.GameManager.instance.layerUpper.add(t.btn),t.btn.inputEnabled=!1,t.btn.frameName="btnBridge instance 10002",t.create(445,230),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.create=function(e,t){this.stX=e,this.stY=t,this.part9=new a.ScaleSprite(this.game,e+16,t+10,"level7","prigePart5 instance 10000"),this.part9.anchor.setTo(.5),this.part9.angle=-11,a.GameManager.instance.layerBackground.add(this.part9),this.part8=new a.ScaleSprite(this.game,e+38,t+5,"level7","prigePart5 instance 10000"),this.part8.anchor.setTo(.5),this.part8.angle=-59,this.part8.scaleX=.87,a.GameManager.instance.layerBackground.add(this.part8),this.part7=new a.ScaleSprite(this.game,e+48,t+24,"level7","prigePart5 instance 10000"),this.part7.anchor.setTo(.5),this.part7.angle=-24,this.part7.scaleX=.66,a.GameManager.instance.layerBackground.add(this.part7),this.part6=new a.ScaleSprite(this.game,e+48,t+23,"level7","prigePart5 instance 10000"),this.part6.anchor.setTo(.5),this.part6.angle=-64,this.part6.scaleX=.56,a.GameManager.instance.layerBackground.add(this.part6),this.part5=a.GameManager.instance.layerBackground.create(e+57,t+3,"level7","prigePart3 instance 10000"),this.part5.anchor.setTo(.5),this.part4=a.GameManager.instance.layerBackground.create(e+20,t+36,"level7","prigePart3 instance 10000"),this.part4.anchor.setTo(.5),this.part2=a.GameManager.instance.layerBackground.create(e+44,t+45,"level7","prigePart21 instance 10000"),this.part2.anchor.setTo(.5),this.part3=a.GameManager.instance.layerBackground.create(e+75,t+23,"level7","prigePart22 instance 10000"),this.part3.anchor.setTo(.5),this.part1=a.GameManager.instance.layerBackground.create(e+6,t-1,"level7","bridgePart1 instance 10000"),this.game.physics.box2d.enable(this.part1),this.part1.body.setRectangle(176,20,0,4),this.part1.body.angle=-30,this.part1.body.friction=3,this.part1.body.kinematic=!0},t.prototype.activate=function(){this.btn.inputEnabled=!0,this.btn.input.useHandCursor=!0,this.btn.frameName="btnBridge instance 10000"},t.prototype.btnUp=function(){!0!==this.moving&&(this.open=!this.open,this.counter=0,this.moving=!0,a.SoundManager.playSFX("s_ladder"))},t.prototype.update=function(){!1!==this.moving&&(this.counter+=1,!0===this.open?1===this.counter?(a.GameManager.instance.level.setSimpleTween(this.part1.body,54,{x:this.stX-9,y:this.stY-54,angle:13}),a.GameManager.instance.level.setSimpleTween(this.part4,54,{x:this.stX+17,y:this.stY+17}),a.GameManager.instance.level.setSimpleTween(this.part5,54,{x:this.stX+32,y:this.stY+1}),a.GameManager.instance.level.setSimpleTween(this.part6,54,{x:this.stX+41,y:this.stY+23,angle:-112,scaleX:.56}),a.GameManager.instance.level.setSimpleTween(this.part7,54,{x:this.stX+45,y:this.stY+24,angle:14,scaleX:.71}),a.GameManager.instance.level.setSimpleTween(this.part8,22,{x:this.stX+15,y:this.stY+1,angle:-92,scaleX:.59}),a.GameManager.instance.level.setSimpleTween(this.part9,54,{x:this.stX-1,y:this.stY-26,angle:39})):23===this.counter?a.GameManager.instance.level.setSimpleTween(this.part8,22,{x:this.stX,y:this.stY-21,angle:-114,scaleX:.85}):55===this.counter&&(this.moving=!1):1===this.counter?(a.GameManager.instance.level.setSimpleTween(this.part1.body,54,{x:this.stX+6,y:this.stY-1,angle:-30}),a.GameManager.instance.level.setSimpleTween(this.part4,54,{x:this.stX+20,y:this.stY+36}),a.GameManager.instance.level.setSimpleTween(this.part5,54,{x:this.stX+57,y:this.stY+3}),a.GameManager.instance.level.setSimpleTween(this.part6,54,{x:this.stX+48,y:this.stY+23,angle:-64,scaleX:.56}),a.GameManager.instance.level.setSimpleTween(this.part7,54,{x:this.stX+48,y:this.stY+24,angle:-24,scaleX:.66}),a.GameManager.instance.level.setSimpleTween(this.part8,22,{x:this.stX+15,y:this.stY+1,angle:-92,scaleX:.59}),a.GameManager.instance.level.setSimpleTween(this.part9,54,{x:this.stX+16,y:this.stY+10,angle:-11})):23===this.counter?a.GameManager.instance.level.setSimpleTween(this.part8,22,{x:this.stX+38,y:this.stY+5,angle:-59,scaleX:.87}):55===this.counter&&(this.moving=!1))},t.prototype.free=function(){this.game=null,this.btn=null,this.part1=null,this.part2=null,this.part3=null,this.part4=null,this.part5=null,this.part6=null,this.part7=null,this.part8=null,this.part9=null},a.Lvl7Bridge=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.doorLeft=a.GameManager.instance.layerBackground.create(489,512,"level7","floorSlider instance 10002"),t.doorLeft.anchor.setTo(.5),t.doorLeft.events.onInputOut.add(t.doorLeftOut,t),t.doorLeft.events.onInputOver.add(t.doorLeftOver,t),t.doorRight=a.GameManager.instance.layerBackground.create(559,512,"level7","floorSlider instance 10002"),t.doorRight.anchor.setTo(.5),t.doorRight.events.onInputOut.add(t.doorRightOut,t),t.doorRight.events.onInputOver.add(t.doorRightOver,t),t.bodyLeft=new Phaser.Physics.Box2D.Body(e,null,489,512,1),t.bodyLeft.setRectangle(70,16),t.bodyRight=new Phaser.Physics.Box2D.Body(e,null,559,512,1),t.bodyRight.setRectangle(70,16),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.doorLeftOut=function(){!1!==this.doorLeft.inputEnabled&&(this.doorLeft.frameName="floorSlider instance 10000")},t.prototype.doorLeftOver=function(){!1!==this.doorLeft.inputEnabled&&(this.doorLeft.frameName="floorSlider instance 10001")},t.prototype.doorRightOut=function(){!1!==this.doorRight.inputEnabled&&(this.doorRight.frameName="floorSlider instance 10000")},t.prototype.doorRightOver=function(){!1!==this.doorRight.inputEnabled&&(this.doorRight.frameName="floorSlider instance 10001")},t.prototype.activate=function(){this.doorLeft.inputEnabled=!0,this.doorLeft.input.useHandCursor=!0,this.doorLeft.input.enableDrag(!0),this.doorLeft.input.boundsRect=new Phaser.Rectangle(this.doorLeft.x-1.3*this.doorLeft.width,this.doorLeft.y-this.doorLeft.height/2,128,this.doorLeft.height),this.doorLeft.input.setDragLock(!0,!1),this.doorLeft.events.onDragUpdate.add(this.updateDragLeft,this),this.doorLeftOut(),this.doorRight.inputEnabled=!0,this.doorRight.input.useHandCursor=!0,this.doorRight.input.enableDrag(!0),this.doorRight.input.boundsRect=new Phaser.Rectangle(this.doorRight.x-this.doorRight.width/2,this.doorRight.y-this.doorRight.height/2,130,this.doorRight.height),this.doorRight.input.setDragLock(!0,!1),this.doorRight.events.onDragUpdate.add(this.updateDragRight,this),this.doorRightOut()},t.prototype.deactivateLeft=function(){this.doorLeft.inputEnabled=!1,this.doorLeft.frameName="floorSlider instance 10002",a.SoundManager.playSFX("s_slide")},t.prototype.deactivateRight=function(){this.doorRight.inputEnabled=!1,this.doorRight.frameName="floorSlider instance 10002",a.SoundManager.playSFX("s_slide")},t.prototype.updateDragLeft=function(){this.bodyLeft.x=this.doorLeft.x,this.doorLeft.x<=433&&(this.deactivateLeft(),this.doorLeft.input.disableDrag())},t.prototype.updateDragRight=function(){this.bodyRight.x=this.doorRight.x,618<=this.doorRight.x&&(this.deactivateRight(),this.doorRight.input.disableDrag())},t.prototype.free=function(){this.doorLeft=null,this.doorRight=null,this.bodyLeft=null,this.bodyRight=null},a.Lvl7DoorSlider=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e,t){var a=n.call(this)||this;return a.animCounter=0,a.animDuration=0,a.currAnim="idle",a.active=!1,a.fishUpdate=!1,a.blowFish=!0,a.goToBrokeGlass=!1,a.goToBrokeGlassCount=0,a.counterBubble=0,a.game=e,a.level7=t,a.body1=new Phaser.Physics.Box2D.Body(e,null,775,360,0),a.body1.setRectangle(10,10),a.body1.sensor=!0,a.body2=new Phaser.Physics.Box2D.Body(e,null,685,480,0),a.body2.setRectangle(10,10),a.body2.sensor=!0,a.body3=new Phaser.Physics.Box2D.Body(e,null,45,476,0),a.body3.setRectangle(10,10),a.body3.sensor=!0,a.body=new Phaser.Physics.Box2D.Body(e,null,-50,475,1),a.body.setCircle(18),a.body.data.SetUserData("DragBody"),a.body.setCollisionCategory(8),a.body.setCollisionMask(~i.FilterGroups.CAR2),a.group=e.make.group(),a.group.x=a.body.x,a.group.y=a.body.y,a.group.scale.x=-1,a.group.visible=!1,i.GameManager.instance.layerBackground.add(a.group),a.part1=new i.ScaleSprite(e,17,-6,"level7"),a.part1.anchor.setTo(.5),a.part1.animations.add("anim",Phaser.Animation.generateFrameNames("fishPlavnik instance 1",0,9,"",4),30,!0),a.part1.animations.play("anim"),a.part1.angle=-21,a.part1.scale.setTo(.69),a.group.add(a.part1),a.part2=new i.ScaleSprite(e,1,-3,"level7","fishBody instance 10000"),a.part2.anchor.setTo(.5),a.part2.angle=-6,a.part2.scale.setTo(.52,.35),a.group.add(a.part2),a.part2.events.onInputOut.add(a.out,a),a.part2.events.onInputOver.add(a.over,a),a.part2.events.onInputUp.add(a.up,a),a.part3=new i.ScaleSprite(e,-4,-4,"level7","fishWhite instance 10000"),a.part3.anchor.setTo(.5),a.part3.scale.setTo(.6,.68),a.part3.angle=-6,a.group.add(a.part3),a.part4=new i.ScaleSprite(e,-12,-5,"level7","fishWhite instance 10000"),a.part4.anchor.setTo(.5),a.part4.scale.setTo(.31,.63),a.part4.angle=28,a.group.add(a.part4),a.part5=new i.ScaleSprite(e,-5,-4,"level7","fishBlue instance 10000"),a.part5.anchor.setTo(.5),a.part5.scale.setTo(.61,.59),a.part5.angle=-4,a.group.add(a.part5),a.part6=new i.ScaleSprite(e,-12,-5,"level7","fishBlue instance 10000"),a.part6.anchor.setTo(.5),a.part6.scale.setTo(.29,.54),a.part6.angle=22,a.group.add(a.part6),a.part7=new i.ScaleSprite(e,-10,0,"level7","fishMouth instance 10000"),a.part7.anchor.setTo(.5),a.part7.scale.setTo(.41,.19),a.part7.angle=9,a.group.add(a.part7),a.part8=new i.ScaleSprite(e,8,0,"level7","fishPlavnik instance 10000"),a.part8.anchor.setTo(.5),a.group.add(a.part8),a.partAnim=a.group.create(-23,-1,"level7"),a.partAnim.anchor.setTo(.75,.65),a.partAnim.animations.add("anim",Phaser.Animation.generateFrameNames("fishBulbs instance 1",0,12,"",4),30,!0),a.partAnim.visible=!1,a}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.out=function(){this.part2.frameName="fishBody instance 10000"},t.prototype.over=function(){this.part2.frameName="fishBody instance 10001"},t.prototype.up=function(){!0===this.blowFish&&(this.blowFish=!1,this.body.dynamic=!0,this.body.mass=.8,this.body.data.ApplyLinearImpulse(new box2d.b2Vec2(.3,4.5),this.body.data.GetPosition()))},t.prototype.activate=function(){this.active=!0,this.group.visible=!0,this.animCounter=0,this.body.velocity.x=70,this.body.velocity.y=-5,this.fishUpdate=!0},t.prototype.setStateBallon=function(){this.animCounter=0,this.currAnim="ballon"},t.prototype.connected=function(){this.group.scale.x=1,this.body.angle=0,this.body.fixedRotation=!0,this.body.data.SetUserData(null)},t.prototype.setStateZduv=function(){this.animCounter=20,this.currAnim="zduv",this.goToBrokeGlass=!0,this.body.fixedRotation=!1,i.SoundManager.playSFX("s_blow")},t.prototype.update=function(){var e;!1!==this.active&&(!0===this.fishUpdate&&120<this.body.x&&(this.part2.inputEnabled=!0,this.part2.input.useHandCursor=!0,this.fishUpdate=!1,this.body.velocity.x=0,this.body.velocity.y=0),!0===this.goToBrokeGlass&&(0===this.goToBrokeGlassCount?(this.joint=this.game.physics.box2d.distanceJoint(this.body,this.body1,0,0,0,0,0,2,.5),this.goToBrokeGlassCount=1):1===this.goToBrokeGlassCount?i.Tools.distance(this.body.x,this.body.y,this.body1.x,this.body1.y)<50&&(this.goToBrokeGlassCount=2,this.game.physics.box2d.world.DestroyJoint(this.joint),this.joint=this.game.physics.box2d.distanceJoint(this.body,this.body2,0,0,0,0,0,2,.5)):2===this.goToBrokeGlassCount?i.Tools.distance(this.body.x,this.body.y,this.body2.x,this.body2.y)<50&&(this.goToBrokeGlassCount=3,this.game.physics.box2d.world.DestroyJoint(this.joint),this.joint=this.game.physics.box2d.distanceJoint(this.body,this.body3,0,0,0,0,0,1,.5)):3===this.goToBrokeGlassCount&&i.Tools.distance(this.body.x,this.body.y,this.body3.x,this.body3.y)<50&&(this.goToBrokeGlassCount=4,this.goToBrokeGlass=!1,this.game.physics.box2d.world.DestroyJoint(this.joint),i.GameManager.instance.level.customAction(2),i.SoundManager.playSFX("s_ballonHit")),this.counterBubble+=1,2===this.counterBubble)&&(this.counterBubble=0,e=i.Tools.rotatePointByAngle(this.group.x,this.group.y,this.group.x-10,this.group.y,this.group.rotation),this.level7.spawnBubble(e.x,e.y,.7+.5*Math.random())),this.group.x=this.body.x,this.group.y=this.body.y,this.group.rotation=this.body.rotation,this.animCounter+=1,"idle"===this.currAnim?1===this.animCounter?(this.animDuration=9,i.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:16,y:-4,angle:-21,scaleX:.69,scaleY:.7}),i.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:1,y:-1,angle:-6,scaleX:.52,scaleY:.35}),i.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:-4,y:-2,angle:1,scaleX:.6,scaleY:.68}),i.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:-12,y:-3,angle:28,scaleX:.31,scaleY:.63}),i.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:-5,y:-1,angle:-4,scaleX:.61,scaleY:.59}),i.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:-12,y:-3,angle:22,scaleX:.29,scaleY:.54}),i.GameManager.instance.level.setSimpleTween(this.part7,this.animDuration,{x:-10,y:2,angle:4,scaleX:.41,scaleY:.3}),i.GameManager.instance.level.setSimpleTween(this.part8,this.animDuration,{x:9,y:0,angle:-23,scaleX:1.1,scaleY:1})):10===this.animCounter?(this.animDuration=10,i.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:17,y:-6,angle:-21,scaleX:.69,scaleY:.7}),i.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:1,y:-3,angle:-6,scaleX:.52,scaleY:.35}),i.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:-4,y:-4,angle:1,scaleX:.6,scaleY:.68}),i.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:-12,y:-5,angle:28,scaleX:.31,scaleY:.63}),i.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:-5,y:-4,angle:-4,scaleX:.61,scaleY:.59}),i.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:-12,y:-5,angle:22,scaleX:.29,scaleY:.54}),i.GameManager.instance.level.setSimpleTween(this.part7,this.animDuration,{x:-10,y:0,angle:9,scaleX:.41,scaleY:.19}),i.GameManager.instance.level.setSimpleTween(this.part8,this.animDuration,{x:8,y:0,angle:0,scaleX:1,scaleY:1})):49===this.animCounter&&(this.animCounter=0):"ballon"===this.currAnim?1===this.animCounter?(this.animDuration=6,i.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:17,y:-6,angle:-21,scaleX:.69,scaleY:.7}),i.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:1,y:-3,angle:-6,scaleX:.52,scaleY:.35}),i.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:-4,y:-4,angle:1,scaleX:.7,scaleY:.68}),i.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:-12,y:-5,angle:28,scaleX:.46,scaleY:.63}),i.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:-5,y:-4,angle:-4,scaleX:.91,scaleY:.89}),i.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:-12,y:-5,angle:22,scaleX:.8,scaleY:.91}),i.GameManager.instance.level.setSimpleTween(this.part7,this.animDuration,{x:-10,y:0,angle:18,scaleX:.41,scaleY:.77}),i.GameManager.instance.level.setSimpleTween(this.part8,this.animDuration,{x:8,y:0,angle:0,scaleX:1,scaleY:1})):7===this.animCounter?(this.animDuration=14,i.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:11,y:-14,angle:-21,scaleX:.69,scaleY:.7}),i.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:1,y:-3,angle:2,scaleX:1,scaleY:1}),i.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:-5,y:-5,angle:8,scaleX:.86,scaleY:1}),i.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:-20,y:-8,angle:13,scaleX:.56,scaleY:.86}),i.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:-6,y:-5,angle:2,scaleX:1.2,scaleY:1.2}),i.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:-21,y:-8,angle:6,scaleX:.73,scaleY:.97}),i.GameManager.instance.level.setSimpleTween(this.part7,6,{x:-12,y:0,angle:2,scaleX:.41,scaleY:.19}),i.GameManager.instance.level.setSimpleTween(this.part8,this.animDuration,{x:18,y:-1,angle:-16,scaleX:1,scaleY:1})):13===this.animCounter?i.GameManager.instance.level.setSimpleTween(this.part7,8,{x:-15,y:1,angle:5,scaleX:.58,scaleY:.23}):21===this.animCounter&&(this.currAnim="endBalon"):"zduv"===this.currAnim&&(21===this.animCounter?(this.animDuration=5,i.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:11,y:-14,angle:-21,scaleX:.69,scaleY:.7}),i.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:1,y:-3,angle:6,scaleX:.99,scaleY:1}),i.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:-4,y:-5,angle:8,scaleX:1.15,scaleY:1.24}),i.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:-23,y:-9,angle:13,scaleX:.66,scaleY:1.08}),i.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:-6,y:-4,angle:2,scaleX:1.2,scaleY:1.2}),i.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:-21,y:-7,angle:6,scaleX:.73,scaleY:.97}),i.GameManager.instance.level.setSimpleTween(this.part7,this.animDuration,{x:-16,y:1,angle:-12,scaleX:.38,scaleY:.5}),i.GameManager.instance.level.setSimpleTween(this.part8,this.animDuration,{x:7,y:4,angle:106,scaleX:1.02,scaleY:.82})):26===this.animCounter?(this.animDuration=90,i.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:17,y:-6,angle:-21,scaleX:.69,scaleY:.7}),i.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:1,y:-3,angle:-6,scaleX:.52,scaleY:.35}),i.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:-4,y:-4,angle:1,scaleX:.6,scaleY:.68}),i.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:-12,y:-5,angle:28,scaleX:.31,scaleY:.63}),i.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:-5,y:-4,angle:-4,scaleX:.61,scaleY:.59}),i.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:-12,y:-5,angle:22,scaleX:.29,scaleY:.54}),i.GameManager.instance.level.setSimpleTween(this.part7,this.animDuration,{x:-10,y:0,angle:9,scaleX:.41,scaleY:.19}),i.GameManager.instance.level.setSimpleTween(this.part8,this.animDuration,{x:8,y:0,angle:0,scaleX:1,scaleY:1})):73===this.animCounter?(this.partAnim.visible=!0,this.partAnim.animations.play("anim")):116===this.animCounter&&(this.animCounter=0,this.currAnim="idle",this.partAnim.visible=!1,this.partAnim.animations.stop("anim"))))},t.prototype.free=function(){this.game=null,this.group=null,this.part1=null,this.part2=null,this.part3=null,this.part4=null,this.part5=null,this.part6=null,this.part7=null,this.part8=null,this.partAnim=null,this.body=null,this.joint=null,this.body1=null,this.body2=null,this.body3=null,this.level7=null},i.Lvl7Fish=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.counter1=0,t.counter2=0,t.active1=!1,t.active2=!1,t.endX=600,t.endY=400,t.group=e.make.group(),t.group.x=-100,t.group.y=460,t.group.visible=!1,a.GameManager.instance.layerBackground.add(t.group),t.fish1=t.group.create(6,7,"level7"),t.fish1.angle=2,t.fish1.anchor.setTo(.5),t.fish1.animations.add("anim",Phaser.Animation.generateFrameNames("fish1 instance 1",0,39,"",4),30,!0),t.fish2=t.group.create(39,3,"level7"),t.fish2.angle=0,t.fish2.anchor.setTo(.5),t.fish2.animations.add("anim",Phaser.Animation.generateFrameNames("fish1 instance 1",0,39,"",4),30,!0),t.fish3=t.group.create(28,28,"level7"),t.fish3.angle=4,t.fish3.anchor.setTo(.5),t.fish3.animations.add("anim",Phaser.Animation.generateFrameNames("fish1 instance 1",0,39,"",4),30,!0),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.activate=function(){this.group.visible=!0,this.fish1.animations.play("anim"),this.fish2.animations.play("anim"),this.fish3.animations.play("anim"),this.active1=!0,this.active2=!0},t.prototype.update=function(){!0===this.active1&&(this.counter1+=1,1===this.counter1?a.GameManager.instance.level.setSimpleTween(this.group,310,{x:this.endX,y:this.endY}):311===this.counter1&&(this.active1=!1)),!0===this.active2&&(this.counter2+=1,1===this.counter2?(a.GameManager.instance.level.setSimpleTween(this.fish1,7,{x:6,y:7,angle:0}),a.GameManager.instance.level.setSimpleTween(this.fish2,39,{x:40,y:-2,angle:11}),a.GameManager.instance.level.setSimpleTween(this.fish3,21,{x:24,y:26,angle:0})):8===this.counter2?a.GameManager.instance.level.setSimpleTween(this.fish1,39,{x:11,y:7,angle:12}):22===this.counter2?a.GameManager.instance.level.setSimpleTween(this.fish3,40,{x:32,y:29,angle:9}):48===this.counter2?a.GameManager.instance.level.setSimpleTween(this.fish1,32,{x:7,y:7,angle:2}):40===this.counter2?a.GameManager.instance.level.setSimpleTween(this.fish2,40,{x:39,y:3,angle:0}):62===this.counter2?a.GameManager.instance.level.setSimpleTween(this.fish3,18,{x:28,y:28,angle:5}):80===this.counter2&&(this.counter2=0))},t.prototype.free=function(){this.group=null,this.fish1=null,this.fish2=null,this.fish3=null},a.Lvl7Fish3=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.grassCutterBack=n.GameManager.instance.layerBackground.create(t-28,a-10,"level7","grassCutterBack instance 10000"),e.physics.box2d.enable(i.grassCutterBack),i.grassCutterBack.body.setRectangle(26,18),i.grassCutterBack.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.grassCutterBack.body.data.SetActive(!1),i.grassCutterBack.body.friction=1,i.grassCutterTop2=n.GameManager.instance.layerBackground.create(t+2,a-14,"level7","grassCutterTop2 instance 10000"),e.physics.box2d.enable(i.grassCutterTop2),i.grassCutterTop2.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.grassCutterTop2.body.data.SetActive(!1),i.grassCutterTop2.body.friction=1,i.grassCutterTop1=n.GameManager.instance.layerBackground.create(t+2,a-9,"level7","grassCutterTop1 instance 10000"),e.physics.box2d.enable(i.grassCutterTop1),i.grassCutterTop1.body.setRectangle(36,8),i.grassCutterTop1.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.grassCutterTop1.body.data.SetActive(!1),i.grassCutterTop1.body.friction=1,i.grassCutterBody=n.GameManager.instance.layerBackground.create(t,a,"level7","grassCutterBody instance 10000"),e.physics.box2d.enable(i.grassCutterBody),i.grassCutterBody.body.setRectangle(60,16),i.grassCutterBody.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.grassCutterBody.body.data.SetActive(!1),i.grassCutterBody.body.friction=1,i.grassCutterHaft=n.GameManager.instance.layerBackground.create(t-34,a-15,"level7","grassCutterHaft instance 10000"),e.physics.box2d.enable(i.grassCutterHaft),i.grassCutterHaft.body.setRectangle(48,15),i.grassCutterHaft.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.grassCutterHaft.body.data.SetActive(!1),i.grassCutterHaft.body.angle=-120,i.grassCutterHaft.body.friction=1,i.grassCutterWheel1=n.GameManager.instance.layerBackground.create(t-19,a+6,"level7","grassCutterWheel instance 10000"),e.physics.box2d.enable(i.grassCutterWheel1),i.grassCutterWheel1.body.setCircle(10),i.grassCutterWheel1.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.grassCutterWheel1.body.data.SetActive(!1),i.grassCutterWheel1.body.friction=1,i.grassCutterWheel2=n.GameManager.instance.layerBackground.create(t+17,a+6,"level7","grassCutterWheel instance 10000"),e.physics.box2d.enable(i.grassCutterWheel2),i.grassCutterWheel2.body.setCircle(10),i.grassCutterWheel2.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),i.grassCutterWheel2.body.data.SetActive(!1),i.grassCutterWheel2.body.friction=1,i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.broke=function(){this.grassCutterWheel2.body.data.SetActive(!0),this.grassCutterWheel2.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.4,.2),this.grassCutterWheel2.body.data.GetPosition()),this.grassCutterTop2.body.data.SetActive(!0),this.grassCutterTop2.body.data.ApplyLinearImpulse(new box2d.b2Vec2(.4,.3),this.grassCutterTop2.body.data.GetPosition()),this.grassCutterTop1.body.data.SetActive(!0),this.grassCutterTop1.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.6,.4),this.grassCutterTop1.body.data.GetPosition()),this.grassCutterBack.body.data.SetActive(!0),this.grassCutterBack.body.data.ApplyLinearImpulse(new box2d.b2Vec2(.2,.6),this.grassCutterBack.body.data.GetPosition()),this.grassCutterHaft.body.data.SetActive(!0),this.grassCutterHaft.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.6,.8),this.grassCutterHaft.body.data.GetPosition()),this.grassCutterBody.body.data.SetActive(!0),this.grassCutterBody.body.data.ApplyLinearImpulse(new box2d.b2Vec2(1.6,1),this.grassCutterBody.body.data.GetPosition()),this.grassCutterWheel1.body.data.SetActive(!0),this.grassCutterWheel1.body.data.ApplyLinearImpulse(new box2d.b2Vec2(1.3,.8),this.grassCutterWheel1.body.data.GetPosition())},t.prototype.free=function(){this.grassCutterBack=null,this.grassCutterBody=null,this.grassCutterHaft=null,this.grassCutterTop1=null,this.grassCutterTop2=null,this.grassCutterWheel1=null,this.grassCutterWheel2=null},n.Lvl7GrassCutter=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e,t){var a=n.call(this)||this;return a.stX=782,a.stY=605,a.counter=0,a.active=!1,a.level7=t,a.waterRuns=i.GameManager.instance.layerUpper.create(a.stX-130,a.stY-3,"level7"),a.waterRuns.animations.add("anim1",Phaser.Animation.generateFrameNames("waterRuns instance 1",0,13,"",4),30,!1).onComplete.addOnce(a.playWaterLoop,a),a.waterRuns.animations.add("anim2",Phaser.Animation.generateFrameNames("waterRuns instance 1",14,38,"",4),30,!0),a.waterRuns.visible=!1,a.crashShip1=i.GameManager.instance.layerUpper.create(a.stX-78,a.stY+15,"level7","crashShip1 instance 10000"),a.crashShip1.anchor.setTo(.5),a.crashShip1.visible=!1,a.crashShip2=i.GameManager.instance.layerUpper.create(a.stX-19,a.stY-35,"level7","crashShip2 instance 10000"),a.crashShip2.anchor.setTo(.5),a.crashShip2.visible=!1,a.crashShip3=i.GameManager.instance.layerUpper.create(a.stX-38,a.stY,"level7","crashShip3 instance 10000"),a.crashShip3.anchor.setTo(.5),a.crashShip3.visible=!1,a.crashShip4=i.GameManager.instance.layerUpper.create(a.stX-25,a.stY+1,"level7","crashShip4 instance 10000"),a.crashShip4.anchor.setTo(.5),a.crashShip4.visible=!1,a.crashShip5=i.GameManager.instance.layerUpper.create(a.stX-44,a.stY+41,"level7","crashShip5 instance 10000"),a.crashShip5.anchor.setTo(.5),a.crashShip5.visible=!1,a.crashShip6=i.GameManager.instance.layerUpper.create(a.stX-62,a.stY+67,"level7","crashShip6 instance 10000"),a.crashShip6.anchor.setTo(.5),a.crashShip6.visible=!1,a.crashShip7=i.GameManager.instance.layerUpper.create(a.stX-100,a.stY+74,"level7","crashShip7 instance 10000"),a.crashShip7.anchor.setTo(.5),a.crashShip7.visible=!1,a.crashShip8=i.GameManager.instance.layerUpper.create(a.stX-151,a.stY+74,"level7","crashShip8 instance 10000"),a.crashShip8.anchor.setTo(.5),a.crashShip8.visible=!1,a.iceberg=i.GameManager.instance.layerUpper.create(a.stX+74,a.stY-6,"level7","iceberg instance 10000"),a.iceberg.anchor.setTo(.5),a.mask=e.make.graphics(a.waterRuns.x,a.waterRuns.y),a.mask.beginFill(16711680,.4),a.mask.drawRect(-5,-100,100,100),a.mask.endFill(),i.GameManager.instance.layerUpper.add(a.mask),a.waterRuns.mask=a.mask,a}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.playWaterLoop=function(){this.waterRuns.animations.play("anim2")},t.prototype.activate=function(){this.active=!0},t.prototype.update=function(){600<this.mask.y&&(this.mask.y=this.level7.water.body.y-300),!1!==this.active&&(this.counter+=1,1===this.counter?i.GameManager.instance.level.setSimpleTween(this.iceberg,65,{x:this.stX-20}):45===this.counter?(i.SoundManager.playSFX("s_iceberg"),this.crashShip1.visible=!0,this.crashShip2.visible=!0,this.crashShip3.visible=!0,this.crashShip4.visible=!0,this.crashShip5.visible=!0,this.crashShip6.visible=!0,this.crashShip7.visible=!0,this.crashShip8.visible=!0,i.GameManager.instance.level.customAction(1),i.GameManager.instance.level.setSimpleTween(this.crashShip2,17,{x:this.stX-33,y:this.stY-40,angle:46}),i.GameManager.instance.level.setSimpleTween(this.crashShip3,4,{x:this.stX-70,y:this.stY-28,angle:23}),i.GameManager.instance.level.setSimpleTween(this.crashShip4,8,{x:this.stX-104,y:this.stY+11,angle:-49}),i.GameManager.instance.level.setSimpleTween(this.crashShip5,17,{x:this.stX-88,y:this.stY+60,angle:28}),i.GameManager.instance.level.setSimpleTween(this.crashShip6,17,{x:this.stX-105,y:this.stY+64,angle:-22}),i.GameManager.instance.level.setSimpleTween(this.crashShip7,17,{x:this.stX-133,y:this.stY+69,angle:18}),i.GameManager.instance.level.setSimpleTween(this.crashShip8,17,{x:this.stX-171,y:this.stY+70,angle:-24}),i.GameManager.instance.hero.setKeepAngle(!1),i.GameManager.instance.hero.clearVelosityX(),i.GameManager.instance.hero.bodyBase.data.ApplyAngularImpulse(15),i.GameManager.instance.hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(5,12),i.GameManager.instance.hero.bodyBase.data.GetPosition())):49===this.counter?i.GameManager.instance.level.setSimpleTween(this.crashShip3,4,{x:this.stX-97,y:this.stY-38,angle:37}):53===this.counter?(i.GameManager.instance.level.setSimpleTween(this.crashShip3,6,{x:this.stX-133,y:this.stY-14,angle:37}),i.GameManager.instance.level.setSimpleTween(this.crashShip4,6,{x:this.stX-140,y:this.stY+35,angle:-87}),i.GameManager.instance.hero.changeDirection()):59===this.counter?(i.GameManager.instance.level.setSimpleTween(this.crashShip3,8,{x:this.stX-197,y:this.stY+51,angle:49}),i.GameManager.instance.level.setSimpleTween(this.crashShip4,6,{x:this.stX-166,y:this.stY+57,angle:-87})):65===this.counter?i.GameManager.instance.level.setSimpleTween(this.crashShip4,7,{x:this.stX-197,y:this.stY+57,angle:-108}):67===this.counter?i.GameManager.instance.level.setSimpleTween(this.crashShip3,8,{x:this.stX-227,y:this.stY+50,angle:81}):75===this.counter?i.GameManager.instance.level.setSimpleTween(this.crashShip3,4,{x:this.stX-233,y:this.stY+54,angle:61}):97===this.counter&&(this.active=!1,i.GameManager.instance.hero.setKeepAngle(!0),this.waterRuns.visible=!0,this.waterRuns.animations.play("anim1")))},t.prototype.free=function(){this.iceberg=null,this.crashShip1=null,this.crashShip2=null,this.crashShip3=null,this.crashShip4=null,this.crashShip5=null,this.crashShip6=null,this.crashShip7=null,this.crashShip8=null,this.waterRuns=null,this.level7=null,this.mask=null},i.Lvl7Iceberg=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.moveDirection=0,t.onEndDown=!0,t.onEndUp=!1,t.speedMove=70,t.graphic=a.GameManager.instance.layerUpper.create(207,763,"level7","lift instance 10000"),e.physics.box2d.enable(t.graphic),t.graphic.body.setRectangle(130,20,0,-83),t.graphic.body.kinematic=!0,t.lamp=e.make.sprite(-1,-71,"level7","liftLamp instance 10000"),t.lamp.anchor.setTo(.5),t.graphic.addChild(t.lamp),t.btnUp=e.make.button(325,570,"level7",t.stopLift,t,"btnLiftUp instance 10001","btnLiftUp instance 10000"),t.btnUp.anchor.setTo(.5),t.btnUp.onInputDown.add(t.liftUp,t),a.GameManager.instance.layerBackground.add(t.btnUp),t.btnUp.inputEnabled=!1,t.btnUp.frameName="btnLiftUp instance 10002",t.btnDown=e.make.button(379,570,"level7",t.stopLift,t,"btnLiftDown instance 10001","btnLiftDown instance 10000"),t.btnDown.anchor.setTo(.5),t.btnDown.onInputDown.add(t.liftDown,t),a.GameManager.instance.layerBackground.add(t.btnDown),t.btnDown.inputEnabled=!1,t.btnDown.frameName="btnLiftDown instance 10002",t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.activate=function(){this.btnUp.inputEnabled=!0,this.btnUp.input.useHandCursor=!0,this.btnUp.frameName="btnLiftUp instance 10000",this.btnDown.inputEnabled=!0,this.btnDown.input.useHandCursor=!0,this.btnDown.frameName="btnLiftDown instance 10000"},t.prototype.liftDown=function(){!0!==this.onEndDown&&(this.graphic.body.velocity.y=this.speedMove,this.moveDirection=1,this.onEndUp=!1,this.lamp.frameName="liftLamp instance 10001",a.SoundManager.playSFX("s_elevator2",!0))},t.prototype.liftUp=function(){!0!==this.onEndUp&&(this.graphic.body.velocity.y=-this.speedMove,this.moveDirection=-1,this.onEndDown=!1,this.lamp.frameName="liftLamp instance 10001",a.SoundManager.playSFX("s_elevator2",!0))},t.prototype.stopLift=function(){0!==this.moveDirection&&(this.moveDirection=0,this.graphic.body.velocity.y=0,this.lamp.frameName="liftLamp instance 10000",a.SoundManager.stopSFXLoop("s_elevator2"))},t.prototype.update=function(){-1===this.moveDirection?this.graphic.body.y<=597&&(this.graphic.body.y=597,this.onEndUp=!0,this.stopLift()):1===this.moveDirection&&763<=this.graphic.body.y&&(this.graphic.body.y=763,this.onEndDown=!0,this.stopLift())},t.prototype.free=function(){this.graphic=null,this.lamp=null,this.btnDown=null,this.btnUp=null},a.Lvl7Lift=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.counter=0,t.active=!1,t.stX=-50,t.stY=643,t.graphic1=a.GameManager.instance.layerBackground.create(t.stX-21,t.stY-38,"level7","suitcase1 instance 10000"),t.graphic1.anchor.setTo(.5),t.graphic1.angle=-91,t.graphic3=a.GameManager.instance.layerBackground.create(t.stX+12,t.stY+5,"level7","suitcase3 instance 10000"),t.graphic3.anchor.setTo(.5),t.graphic2=a.GameManager.instance.layerBackground.create(t.stX-22,t.stY+6,"level7","suitcase2 instance 10000"),t.graphic2.anchor.setTo(.5),t.graphic2.angle=-91,t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.activate=function(){this.active=!0},t.prototype.update=function(){!1!==this.active&&(this.counter+=1,1===this.counter?(a.GameManager.instance.level.setSimpleTween(this.graphic2,24,{x:this.stX+95,y:this.stY-5,angle:-55}),a.GameManager.instance.level.setSimpleTween(this.graphic3,24,{x:this.stX+144,y:this.stY-13,angle:75}),a.GameManager.instance.level.setSimpleTween(this.graphic1,24,{x:this.stX+79,y:this.stY-31,angle:-127})):25===this.counter&&(this.active=!1))},t.prototype.free=function(){this.graphic1=null,this.graphic2=null,this.graphic3=null},a.Lvl7Suitcase=t})(Wheely=Wheely||{}),(e=>{var s,r;function a(e,t,a,i){var n=r.call(this)||this;return n.alive=!1,n.dragged=!0,n.id=0,n.timer=0,n.active=!1,n.canMoveTop=!0,n.startBurn=!1,n.fire=new Array,n.game=e,n.id=i,n.graphic=s.GameManager.instance.layerElements.create(t,a,"level8","barrel instance 10002",!0,0),n.game.physics.box2d.enable(n.graphic),n.graphic.body.fixedRotation=!0,n.graphic.body.setRectangle(30,59),n.graphic.body.setCollisionMask(~s.FilterGroups.PARTICLE),n.graphic.body.friction=10,n.graphic.events.onInputOver.add(n.over,n),n.graphic.events.onInputOut.add(n.out,n),n.setVisible(!1),n}s=e.Client||(e.Client={}),r=s.BasicElement,__extends(a,r),a.prototype.setPosition=function(e,t){this.canMoveTop=!0,this.graphic.body.x=e,this.graphic.body.y=t,this.graphic.body.data.SetActive(!0)},a.prototype.activate=function(){this.graphic.body.mass=2,this.active=!0,this.alive=!0,this.graphic.inputEnabled=!0,this.graphic.input.useHandCursor=!0,this.graphic.frameName="barrel instance 10000",this.graphic.body.data.SetUserData("DragBody"),this.timer=0,this.startBurn=!1},a.prototype.setVisible=function(e){this.graphic.visible=e,this.graphic.body.data.SetActive(e),this.graphic.body.mass=.1,this.graphic.body.setZeroVelocity(),!0===e&&(this.graphic.frameName="barrel instance 10002")},a.prototype.over=function(){!0===this.active&&(this.graphic.frameName="barrel instance 10001")},a.prototype.out=function(){!0===this.active&&(this.graphic.frameName="barrel instance 10000")},a.prototype.update=function(){340<this.graphic.body.y&&(this.canMoveTop=!1),!1===this.canMoveTop&&this.graphic.body.y<320&&(this.graphic.body.y=320,s.GameManager.instance.level.mouseDragEnd()),!0===s.GameManager.instance.level.fireOn&&s.Tools.distance(this.graphic.body.x,this.graphic.body.y,570,430)<60&&0===this.timer&&(this.startBurn=!0,s.SoundManager.playSFX("s_barrelFire",!0)),!0===this.startBurn&&(this.updateBurning(),this.timer+=1,80===this.timer)&&(s.SoundManager.stopSFXLoop("s_barrelFire"),this.startBurn=!1,this.active=!1,this.alive=!1,this.setVisible(!1),this.addExplosion(),this.addAfterExplosionEffect(),this.findAround())},a.prototype.updateBurning=function(){for(var e=0;e<this.fire.length;e++)if(!1===this.fire[e].visible)return this.fire[e].reset(-25-this.game.rnd.integerInRange(-12,12),-40-this.game.rnd.integerInRange(-15,10)),this.fire[e].scale.setTo(.5*Math.random()+1),void this.fire[e].animations.play("idle");for(e=0;e<2;e++){var t=this.game.make.sprite(0,0,"level8","meteorTrackParticle instance 10000");t.animations.add("idle",Phaser.Animation.generateFrameNames("meteorTrackParticle instance 1",0,14,"",4),35,!1).killOnComplete=!0,t.play("idle"),t.scale.set(.5*Math.random()+1),t.x=-25-this.game.rnd.integerInRange(-12,12),t.y=-40-this.game.rnd.integerInRange(-15,10),this.graphic.addChild(t),this.fire.push(t)}},a.prototype.addExplosion=function(){var e=s.GameManager.instance.layerUpper.getFirstDead(!0,this.graphic.x,this.graphic.y,"level8");e.anchor.set(.5),e.animations.add("boom",Phaser.Animation.generateFrameNames("explosion8_mc instance 1",0,14,"",4),29,!1).killOnComplete=!0,e.play("boom"),s.Tools.distance(this.graphic.body.x,this.graphic.body.y,700,500)<40&&s.GameManager.instance.level.destroyWalls(),s.Tools.distance(this.graphic.body.x,this.graphic.body.y,360,460)<65&&s.GameManager.instance.level.destroyDoor(),s.Tools.distance(this.graphic.body.x,this.graphic.body.y,280,510)<120&&s.GameManager.instance.level.scareDuck(),s.Tools.distance(this.graphic.body.x,this.graphic.body.y,s.GameManager.instance.hero.bodyBase.x,s.GameManager.instance.hero.bodyBase.y)<120&&s.GameManager.instance.level.destroyWheely(),s.SoundManager.playSFX("s_barrelExplosion")},a.prototype.addAfterExplosionEffect=function(){var e=this.graphic.x;if(360<e&&e<450)e=450;else if(e<360)return;s.GameManager.instance.layerBackground.create(e,this.graphic.y,"level8","vzriv1 instance 10000").anchor.set(.5)},a.prototype.findAround=function(){for(var e,t=0;t<s.GameManager.instance.level.updateElements.length;t++)s.GameManager.instance.level.updateElements[t]instanceof a&&((e=s.GameManager.instance.level.updateElements[t]).id!==this.id&&!0===e.alive&&s.Tools.distance(this.graphic.body.x,this.graphic.body.y,e.graphic.x,e.graphic.y)<60&&e.activateExplosion(),e=null)},a.prototype.activateExplosion=function(){this.startBurn=!0,this.timer=78},a.prototype.free=function(){this.game=null},s.Lvl8Barrel=a})(Wheely=Wheely||{}),(e=>{var t,s;function a(e,t,a){var i=s.call(this,e)||this;i.x=t,i.y=a,i.scale.x=-1;i.create(0,0,"level6","boat_mc instance 10000").anchor.set(.5);var n=i.create(55,15,"level6","anthena instance 10000",!0,0);return n.anchor.set(.5,.95),i.game.add.tween(n).to({angle:3},500,"Linear",!0,0,-1,!0),i.body=new Phaser.Physics.Box2D.Body(i.game,null,t,a,1),i.body.setRectangle(200,10,5,13),i.body.addRectangle(10,100,-75,-40),i.body.friction=10,i.engineWaterAnim=i.create(47,18,"level6","boatWaterAnim instance 10000",!0,0),i.engineWaterAnim.animations.add("work",Phaser.Animation.generateFrameNames("boatWaterAnim instance 1",0,13,"",4),35,!0),i.engineWaterAnim.visible=!1,i.engineWaterAnim.play("work"),e.add.tween(i.body).to({x:90},2500,"Linear",!0,500),e.add.tween(i).to({x:90},2500,"Linear",!0,500).onComplete.add(i.boatOnPlace,i),i}t=e.Client||(e.Client={}),s=Phaser.Group,__extends(a,s),a.prototype.boatOnPlace=function(){t.GameManager.instance.level.startLevel()},a.prototype.destroy=function(){s.prototype.destroy.call(this),this.game=null,this.body=null,this.swimAnim=null,this.engineWaterAnim=null},t.Lvl8Boat=a})(Wheely=Wheely||{}),(e=>{var t,n;function a(e,t,a){var i=n.call(this,e)||this,t=(i.canUpdate=!1,i.active=!1,i.x=t,i.y=a,i.create(0,0,"level8","cameraBg instance 10000").anchor.set(.5),i.cameraWire=i.create(0,6,"level8","cameraWire instance 10000"),i.cameraWire.anchor.set(0,.5),new Phaser.Graphics(e,0,0));return t.beginFill(0),t.drawRect(-38,-17,50,34),t.endFill(),i.addChild(t),i.cameraWire.mask=t,i.create(0,0,"level8","cameraRama instance 10000").anchor.set(.5),i.camera=i.create(-3,0,"level8","camera instance 10000"),i.camera.anchor.set(.5),i.laser=i.game.make.sprite(-17,12,"level8","laser instance 10000"),i.laser.anchor.set(1,.5),i.camera.addChild(i.laser),i.laser.alpha=0,i.laser.scale.y=.13,i}t=e.Client||(e.Client={}),n=Phaser.Group,__extends(a,n),a.prototype.startMove=function(){this.laser.alpha=0,this.laser.scale.y=.13,this.laser.y=12,this.game.add.tween(this.laser).to({alpha:1},1e3,"Linear",!0),this.game.add.tween(this.laser.scale).to({y:1},1e3,"Linear",!0),this.game.add.tween(this.camera).to({angle:-38},1e3,"Linear",!0).onComplete.add(function(){this.game.add.tween(this.camera).to({angle:-27},700,"Linear",!0).onComplete.add(function(){this.game.add.tween(this.camera).to({angle:-38},700,"Linear",!0).onComplete.add(function(){t.GameManager.instance.level.openDoor(1),this.game.add.tween(this.camera).to({angle:0},1e3,"Linear",!0),this.game.add.tween(this.laser).to({alpha:0,y:0},1e3,"Linear",!0,600),this.game.add.tween(this.laser.scale).to({y:.13},1e3,"Linear",!0,600)},this)},this)},this)},a.prototype.reset=function(){this.active=!1},a.prototype.update=function(){!1!==this.canUpdate&&(this.cameraWire.angle=this.camera.angle,-60<t.GameManager.instance.level.nasaCar.carBody.x)&&!1===this.active&&(this.active=!0,this.startMove())},a.prototype.free=function(){},t.Lvl8Camera=a})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this)||this,a=(t.carPositionStep=0,t.startX=-160,t.startY=230,t.eyeTimer=150,t.chekPoint=200,t.target=615,t.speed=7,t.barrel1=null,t.barrel2=null,t.addInArray=!1,t.game=e,t.car=new Phaser.Group(e),t.car.x=t.startX,t.car.y=t.startY,i.GameManager.instance.layerBackground.addChild(t.car),t.car.create(0,0,"level8","nasaCar instance 10000").anchor.set(.5),t.grassCutter=t.car.create(-50,-20,"level8","grassCutter instance 10000"),t.car.create(-37,9,"level8","bort instance 10000").anchor.set(.5),t.eyes=e.make.sprite(110,-45,"level8","eyes instance 10000"),t.eyes.animations.add("idle",Phaser.Animation.generateFrameNames("eyes instance 1",0,22,"",4),35,!1),t.car.addChild(t.eyes),t.wheel1=i.GameManager.instance.layerUpper.create(t.startX-95,t.startY+40,"level8","carWheel instance 10000",!0,0),e.physics.box2d.enable(t.wheel1),t.wheel1.body.setCircle(18));return t.wheel1.body.friction=3,a.m_filter.categoryBits=i.FilterGroups.PARTICLE,t.wheel2=i.GameManager.instance.layerUpper.create(t.startX-50,t.startY+40,"level8","carWheel instance 10000",!0,0),e.physics.box2d.enable(t.wheel2),t.wheel2.body.setCircle(18).m_filter.categoryBits=i.FilterGroups.PARTICLE,t.wheel2.body.friction=3,t.wheel3=i.GameManager.instance.layerUpper.create(t.startX+90,t.startY+40,"level8","carWheel instance 10000",!0,0),e.physics.box2d.enable(t.wheel3),t.wheel3.body.setCircle(18).m_filter.categoryBits=i.FilterGroups.PARTICLE,t.wheel3.body.friction=3,t.carBody=new Phaser.Physics.Box2D.Body(e,null,t.startX,t.startY),t.carBody.setRectangle(260,10,0,32),t.carBody.addRectangle(77,91,90,0),t.carBody.mass=.1,t.carBody.friction=10,t.motorJ=e.physics.box2d.revoluteJoint(t.carBody,t.wheel1.body,-98,47,0,0,0,30,!0),e.physics.box2d.revoluteJoint(t.carBody,t.wheel2.body,-53,47,0,0,0),t.motorJ2=e.physics.box2d.revoluteJoint(t.carBody,t.wheel3.body,90,47,0,0,0,30,!0),t.setStartPosition(),t}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.setStartPosition=function(){this.carBody.x=this.startX,this.wheel1.body.x=this.startX-98,this.wheel2.body.x=this.startX-53,this.wheel3.body.x=this.startX+90,this.move(),this.carPositionStep=0,this.addBarrels(),this.connectBarrels()},t.prototype.stopCar=function(){this.motorJ.m_motorSpeed=0,this.motorJ2.m_motorSpeed=0,this.carBody.kinematic=!0,this.carBody.setZeroVelocity(),this.carBody.setZeroRotation(),this.carBody.setZeroDamping()},t.prototype.move=function(){this.carBody.dynamic=!0,this.motorJ.m_motorSpeed=this.speed,this.motorJ2.m_motorSpeed=this.speed},t.prototype.goNextStep=function(){0===this.carPositionStep&&i.SoundManager.playSFX("s_truck"),this.carPositionStep+=1,1===this.carPositionStep?this.stopCar():2===this.carPositionStep?this.move():3===this.carPositionStep?(this.stopCar(),this.game.physics.box2d.world.DestroyJoint(this.barrel1J),this.game.physics.box2d.world.DestroyJoint(this.barrel2J),!1===this.grassCutter.visible&&(this.barrel1.activate(),this.barrel2.activate()),i.GameManager.instance.level.closeDoor(1)):4===this.carPositionStep?i.GameManager.instance.level.monitorCheck():5===this.carPositionStep&&(this.move(),i.SoundManager.playSFX("s_truckOut"))},t.prototype.update=function(){this.car.x=this.carBody.x,this.car.y=this.carBody.y,this.car.angle=this.carBody.angle,960<this.carBody.x&&(i.GameManager.instance.level.closeDoor(2),i.GameManager.instance.level.camera.reset(),this.grassCutter.visible=!1,this.setStartPosition()),this.eyeTimer+=1,250===this.eyeTimer&&(this.eyeTimer=0,this.eyes.play("idle")),this.carBody.x>this.chekPoint&&0===this.carPositionStep&&this.goNextStep(),this.car.x>this.target&&2===this.carPositionStep&&this.goNextStep(),3===this.carPositionStep&&!1===this.barrel1.alive&&!1===this.barrel2.alive&&this.goNextStep(),!1===this.addInArray&&(this.addInArray=!0,i.GameManager.instance.level.updateElements.push(this.barrel1),i.GameManager.instance.level.updateElements.push(this.barrel2))},t.prototype.addBarrels=function(){null===this.barrel1&&(this.barrel1=new i.Lvl8Barrel(this.game,this.startX-85,this.startY-30,1),this.barrel2=new i.Lvl8Barrel(this.game,this.startX-30,this.startY-30,2))},t.prototype.connectBarrels=function(){this.barrel1.setPosition(this.startX-85,this.startY-30),this.barrel2.setPosition(this.startX-30,this.startY-30),this.barrel1J=this.game.physics.box2d.revoluteJoint(this.carBody,this.barrel1.graphic.body,-85,-3,0,0,0),this.barrel2J=this.game.physics.box2d.revoluteJoint(this.carBody,this.barrel2.graphic.body,-30,-3,0,0,0),!1===this.grassCutter.visible&&(this.barrel1.setVisible(!0),this.barrel2.setVisible(!0))},t.prototype.free=function(){this.motorJ=null,this.motorJ2=null,this.car=null,this.carBody=null,this.wheel1=null,this.wheel2=null,this.wheel3=null,this.eyes=null},i.Lvl8Car=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this)||this,a=(t.fireWork=!1,t.energyEnable=!1,t.fire=new Array,t.burningGas=!1,t.game=e,i.GameManager.instance.layerBackground.addChild(t.game.make.button(517,374,"level8",t.useShitok,t,"shitok instance 10001","shitok instance 10000","shitok instance 10002","shitok instance 10002")),t.game.make.button(610,397,"level8",t.useVentil,t,"ventil instance 10001","ventil instance 10000","ventil instance 10000","ventil instance 10000"));return a.anchor.set(.5),i.GameManager.instance.layerUpper.addChild(a),t.gas=t.game.make.sprite(536,398,"level8","fire instance 10000"),t.gas.animations.add("idle",Phaser.Animation.generateFrameNames("fire instance 1",0,15,"",4),35,!0),i.GameManager.instance.layerBackground.addChild(t.gas),t.gas.play("idle"),t.gas.visible=!1,t.group=new Phaser.Group(e),i.GameManager.instance.layerUpper.addChild(t.group),t}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.useShitok=function(e){i.SoundManager.playSFX("s_electricity",!0),e.inputEnabled=!1,this.energyEnable=!0;e=this.game.make.sprite(516,375,"level8","wire instance 10000"),e.animations.add("idle",Phaser.Animation.generateFrameNames("wire instance 1",0,11,"",4),35,!0),i.GameManager.instance.layerBackground.addChild(e),e.play("idle"),e=this.game.make.sprite(536,392,"level8","energyAnim instance 10000");e.animations.add("idle",Phaser.Animation.generateFrameNames("energyAnim instance 1",0,10,"",4),35,!0),i.GameManager.instance.layerBackground.addChild(e),e.play("idle"),!0===this.fireWork&&(this.burningGas=!0,i.GameManager.instance.level.fireOn=!0)},t.prototype.useVentil=function(e){this.game.add.tween(e).to({angle:360},1e3,"Linear",!0).onComplete.add(this.fireOn,this),i.SoundManager.playSFX("s_liftLever")},t.prototype.fireOn=function(){this.fireWork=!this.fireWork,this.gas.visible=this.fireWork,!0===this.energyEnable&&!0===this.fireWork&&(this.burningGas=!0,i.SoundManager.playSFX("s_gasLoop",!0),i.GameManager.instance.level.fireOn=!0),!0===this.burningGas&&!1===this.fireWork&&(this.burningGas=!1,i.SoundManager.stopSFXLoop("s_gasLoop"),i.GameManager.instance.level.fireOn=!1)},t.prototype.update=function(){this.updateBurning()},t.prototype.updateBurning=function(){if(!0===this.burningGas)for(var e=0;e<2;e++){var t=this.group.getFirstDead(!1,0,0,"level8","meteorTrackParticle instance 10000");null!=(t=null===t&&this.group.length<30?this.group.create(0,0,"level8","meteorTrackParticle instance 10000"):t)&&(t.animations.add("idle",Phaser.Animation.generateFrameNames("meteorTrackParticle instance 1",0,14,"",4),35,!1).killOnComplete=!0,t.play("idle"),t.scale.set(Math.random()+1),t.x=520+80*(1.5-t.scale.x),t.y=380-5*(t.scale.x-1.5))}},t.prototype.free=function(){n.prototype.free.call(this),this.game=null},i.Lvl8FireZone=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e){var t=s.call(this)||this;t.items=new Array,t.startCheck=!1,t.checkCount=0,t.checkTimer=0,t.currentItem=0,t.game=e,t.monitor=n.GameManager.instance.layerBackground.create(593,128,"level8","monitor instance 10000"),t.monitor.anchor.set(.5);for(var a=0;a<3;a++){var i=t.game.make.sprite(22*a-25,3,"level8","monitorCheck instance 10000");i.anchor.set(.5),i.scale.set(.7),t.monitor.addChild(i),i.visible=!1,t.items.push(i)}e=new Phaser.Graphics(e,646,94);return e.beginFill(0),e.drawRect(0,0,110,70),e.endFill(),n.GameManager.instance.layerBackground.addChild(e),t.monitor.mask=e,n.GameManager.instance.layerBackground.create(613,76,"level8","monitorPart instance 10000"),t}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.reset=function(){this.startCheck=!1,this.checkCount=0,this.checkTimer=0,this.currentItem=0},t.prototype.show=function(){this.reset(),this.game.add.tween(this.monitor).to({x:this.monitor.x+100},400,"Linear",!0).onComplete.add(function(){this.startCheck=!0},this)},t.prototype.hide=function(){this.game.add.tween(this.monitor).to({x:this.monitor.x-100},400,"Linear",!0).onComplete.add(function(){n.GameManager.instance.level.openDoor(2)},this)},t.prototype.update=function(){!0===this.startCheck&&(this.checkTimer+=1,15===this.checkTimer)&&(this.checkTimer=0,this.checkCount+=1,7===this.checkCount?(this.hide(),this.startCheck=!1,n.SoundManager.playSFX("s_Access")):(this.checkCount<=3?this.items[this.currentItem].visible=!0:this.items[this.currentItem].visible=!1,this.currentItem+=1,2<this.currentItem&&(this.currentItem=0)))},t.prototype.free=function(){this.monitor=null,this.game=null},n.Lvl8Monitor=t})(Wheely=Wheely||{}),(e=>{var n,s;function t(e,t,a){var i=s.call(this)||this;return i.startX=0,i.startY=0,i.game=e,i.startX=t,i.startY=a,i.leftPart=n.GameManager.instance.layerUpper.create(t,a,"level8","trapDoor_mc instance 10000"),i.leftPart.pivot.set(-13,0),i.game.physics.box2d.enable(i.leftPart),i.leftPart.body.setRectangle(27,9,13,0),i.leftPart.body.dynamic=!0,i.leftPart.body.friction=1,i.rightPart=n.GameManager.instance.layerUpper.create(t+65,a,"level8","trapDoor_mc instance 10000"),i.rightPart.pivot.set(-13,0),i.rightPart.scale.x=-1,i.game.physics.box2d.enable(i.rightPart),i.rightPart.body.setRectangle(27,9,-13,0),i.rightPart.body.dynamic=!0,i.rightPart.body.friction=1,i.doorConnect1=n.GameManager.instance.layerUpper.create(i.startX-3,i.startY,"level8","doorConnect instance 10000"),i.doorConnect1.anchor.set(.5),i.game.physics.box2d.enable(i.doorConnect1),i.doorConnect1.body.sensor=!0,i.doorConnect1.body.static=!0,i.doorConnect2=n.GameManager.instance.layerUpper.create(i.startX+67,i.startY,"level8","doorConnect instance 10000"),i.doorConnect2.anchor.set(.5),i.game.physics.box2d.enable(i.doorConnect2),i.doorConnect2.body.sensor=!0,i.doorConnect2.body.static=!0,i.game.physics.box2d.weldJoint(i.leftPart.body,i.doorConnect1.body,-3,0,0,0,5,1),i.game.physics.box2d.weldJoint(i.rightPart.body,i.doorConnect2.body,3,0,0,0,5,1),i.game.physics.box2d.revoluteJoint(i.leftPart.body,i.doorConnect1.body,-3,0,0,0,0,0,!1,-70,0,!0),i.game.physics.box2d.revoluteJoint(i.rightPart.body,i.doorConnect2.body,3,0,0,0,0,0,!1,0,70,!0),i}n=e.Client||(e.Client={}),s=n.BasicElement,__extends(t,s),t.prototype.free=function(){s.prototype.free.call(this),this.game=null,this.leftPart=null,this.rightPart=null,this.doorConnect1=null,this.doorConnect2=null},n.Lvl8TopDoor=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.active=!1,t.counterConnect=0,t.game=e,t.arrowOver=a.GameManager.instance.layerBackground.create(550,421,"level9","arrowBtn instance 10000"),t.arrowOver.anchor.setTo(.5),t.arrowOver.visible=!1,t.arrow=a.GameManager.instance.layerBackground.create(550,421,"level9"),t.arrow.anchor.setTo(.5),t.arrow.animations.add("anim",Phaser.Animation.generateFrameNames("arrow instance 1",0,69,"",4),30,!0),t.arrow.animations.play("anim"),t.arrow.inputEnabled=!0,t.arrow.input.useHandCursor=!0,t.arrow.events.onInputOut.add(t.btnOut,t),t.arrow.events.onInputOver.add(t.btnOver,t),t.arrow.events.onInputDown.addOnce(t.btnDown,t),t.arrowOver2=a.GameManager.instance.layerBackground.create(550,421,"level9","arrowBtnOver instance 10000"),t.arrowOver2.anchor.setTo(.5),t.arrowOver2.visible=!1,t.mounting=a.GameManager.instance.layerBackground.create(517,408,"level9","arrowMounting instance 10000"),t.mounting.animations.add("anim",Phaser.Animation.generateFrameNames("arrowMounting instance 1",0,10,"",4),30,!1),t.panel=a.GameManager.instance.layerBackground.create(540,420,"level9","arrowPanel instance 10000"),t.panel.anchor.setTo(.5),t.panel.inputEnabled=!0,t.panel.input.useHandCursor=!0,t.panel.events.onInputOut.add(t.panelOut,t),t.panel.events.onInputOver.add(t.panelOver,t),t.panel.events.onInputDown.addOnce(t.panelDown,t),t.body=new Phaser.Physics.Box2D.Body(e,null,550,421,2),t.body.setRectangle(36,34),t.body.data.SetActive(!1),t.body.setCollisionMask(~a.FilterGroups.IGNORE_CAR),t.bodySensor=new Phaser.Physics.Box2D.Body(e,null,104,177,0),t.bodySensor.setRectangle(10,10),t.bodySensor.sensor=!0,t.bodySensor.setBodyContactCallback(t.body,t.connect,t),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.panelOut=function(){!1!==this.panel.inputEnabled&&(this.panel.frameName="arrowPanel instance 10000")},t.prototype.panelOver=function(){!1!==this.panel.inputEnabled&&(this.panel.frameName="arrowPanel instance 10001")},t.prototype.panelDown=function(){a.SoundManager.playSFX("s_slide"),this.panelOut(),this.panel.inputEnabled=!1,this.game.add.tween(this.panel).to({y:470},500,Phaser.Easing.Linear.None,!0)},t.prototype.btnOut=function(){!1!==this.arrow.inputEnabled&&(this.arrowOver.visible=!1,this.arrowOver2.visible=!1)},t.prototype.btnOver=function(){!1!==this.arrow.inputEnabled&&(this.arrowOver.visible=!0,this.arrowOver2.visible=!0)},t.prototype.btnDown=function(){this.active=!0,this.body.data.SetActive(!0),this.body.data.SetUserData("DragBody"),a.GameManager.instance.level.customAction(1),a.GameManager.instance.layerBackground.removeChild(this.arrowOver),a.GameManager.instance.layerBackground.removeChild(this.arrow),a.GameManager.instance.layerBackground.removeChild(this.arrowOver2),a.GameManager.instance.layerUpper.addChild(this.arrowOver),a.GameManager.instance.layerUpper.addChild(this.arrow),a.GameManager.instance.layerUpper.addChild(this.arrowOver2),this.mounting.animations.play("anim")},t.prototype.disable=function(){this.arrowOver.visible=!1,this.arrow.inputEnabled=!1,a.SoundManager.playSFX("s_cartridge")},t.prototype.update=function(){!1!==this.active&&(this.arrow.x=this.body.x,this.arrow.y=this.body.y,this.arrow.rotation=this.body.rotation,this.arrowOver.x=this.arrow.x,this.arrowOver.y=this.arrow.y,this.arrowOver.rotation=this.arrow.rotation,this.arrowOver2.x=this.arrow.x,this.arrowOver2.y=this.arrow.y,this.arrowOver2.rotation=this.arrow.rotation,1===this.counterConnect)&&(this.counterConnect=2,this.disable(),this.arrow.x=this.bodySensor.x,this.arrow.y=this.bodySensor.y,this.arrow.rotation=0,this.arrowOver2.x=this.arrow.x,this.arrowOver2.y=this.arrow.y,this.arrowOver2.rotation=this.arrow.rotation,this.arrowOver2.visible=!0,this.arrowOver2.frameName="arrowBtnOver instance 10001",a.GameManager.instance.layerUpper.removeChild(this.arrow),a.GameManager.instance.layerUpper.removeChild(this.arrowOver2),a.GameManager.instance.layerBackground.addChildAt(this.arrowOver2,4),a.GameManager.instance.layerBackground.addChildAt(this.arrow,4),a.GameManager.instance.level.customAction(2),this.body.destroy(),this.bodySensor.destroy(),this.active=!1)},t.prototype.connect=function(){0===this.counterConnect&&(this.counterConnect=1)},t.prototype.free=function(){this.panel=null,this.mounting=null,this.arrow=null,this.arrowOver=null,this.arrowOver2=null,this.body=null,this.bodySensor=null,this.game=null},a.Lvl9Arrow=t})(Wheely=Wheely||{}),(e=>{var o,h;function t(e,t,a,i,n,s){void 0===n&&(n=o.GameManager.instance.layerBackground),void 0===s&&(s=59);var r=h.call(this)||this;return r.counterWheels=0,r.joint=null,r.m_active=!1,r.m_currWallsTime=0,r.springHeight=60,r.springHeight=s,r.startY=i,r.graphiSpringLeft=n.create(a-25,i+r.springHeight,t,"changeDirSpring instance 10000"),r.graphiSpringLeft.anchor.setTo(.5,1),r.graphiSpringRight=n.create(a+25,i+r.springHeight,t,"changeDirSpring instance 10000"),r.graphiSpringRight.anchor.setTo(.5,1),r.graphic=n.create(a,i,t,"changeDirTop instance 10000"),r.graphic.anchor.setTo(.5),r.graphic.inputEnabled=!0,r.graphic.input.useHandCursor=!0,r.graphic.events.onInputOver.add(r.onInputOver,r),r.graphic.events.onInputOut.add(r.onInputOut,r),r.halfBtnHeight=r.springHeight,r.graphic.input.enableDrag(!0),r.graphic.input.boundsRect=new Phaser.Rectangle(a-r.graphic.width/2,i-r.graphic.height/2,r.graphic.width,r.springHeight+r.graphic.height/2+2),r.graphic.input.setDragLock(!1,!0),r.graphic.events.onDragUpdate.add(r.dragUpdate,r),r.graphic.events.onInputUp.add(r.mouseUp,r),r.tween=e.add.tween(r.graphic),r.tween.to({y:[r.startY-15,r.startY]},300,Phaser.Easing.Linear.None),r.tween.onUpdateCallback(r.dragUpdate,r),r.tween.onComplete.add(r.tweenComp,r),r.body=new Phaser.Physics.Box2D.Body(e,null,a,i-9,0),r.body.setRectangle(120,10),r.body.sensor=!0,r.body.setBodyContactCallback(o.GameManager.instance.hero.bodyWheelBack,r.onBodyContact,r),r.body.setBodyContactCallback(o.GameManager.instance.hero.bodyWheelFront,r.onBodyContact,r),r}o=e.Client||(e.Client={}),h=o.BasicElement,__extends(t,h),t.prototype.onBodyContact=function(e,t,a,i,n){e!==t&&(!0===n?(this.counterWheels+=1,2<this.counterWheels&&(this.counterWheels=2)):(--this.counterWheels,this.counterWheels<0&&(this.counterWheels=0)))},t.prototype.tweenComp=function(){this.graphic.y=this.startY,this.graphiSpringLeft.scale.y=1,this.graphiSpringRight.scale.y=1},t.prototype.dragUpdate=function(){var e=(this.graphic.y-this.startY)/this.halfBtnHeight;this.graphiSpringLeft.scale.y=1-e,this.graphiSpringRight.scale.y=this.graphiSpringLeft.scale.y},t.prototype.mouseUp=function(){var e;this.graphic.y=this.startY,this.graphiSpringLeft.scale.y=1,this.graphiSpringRight.scale.y=1,this.tween.start(),o.SoundManager.playSFX("spring"),2===this.counterWheels&&((e=o.GameManager.instance.hero).bodyWheelBack.angularVelocity=0,e.bodyWheelBack.velocity.x=0,e.bodyWheelBack.velocity.y=0,e.bodyWheelFront.angularVelocity=0,e.bodyWheelFront.velocity.x=0,e.bodyWheelFront.velocity.y=0,e.bodyBase.angularVelocity=0,e.bodyBase.velocity.x=0,e.bodyBase.velocity.y=0,e.bodyBase.data.SetPosition(new box2d.b2Vec2(this.body.data.GetPosition().x,this.body.data.GetPosition().y+1.4)),e.bodyWheelBack.y=e.bodyBase.y+e.wheelsOffY,e.bodyWheelFront.y=e.bodyBase.y+e.wheelsOffY,this.destroyJoint(),this.joint=o.Main.instance.physics.box2d.wheelJoint(this.body,e.bodyBase,0,0,0,0,0,1),this.joint.m_collideConnected=!0,o.GameManager.instance.level.customAction(9),e.bodyBase.angularVelocity=10.5*e.currDirection,e.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(0,15),e.bodyBase.data.GetPosition()),this.heroEngineState=e.getEnableMotor(),e.setEnableMotor(!1,!1),this.m_currWallsTime=0,this.m_active=!0)},t.prototype.destroyJoint=function(){null!==this.joint&&(o.Main.instance.physics.box2d.world.DestroyJoint(this.joint),this.joint=null)},t.prototype.update=function(){!1!==this.m_active&&(this.m_currWallsTime+=1,25===this.m_currWallsTime?o.GameManager.instance.hero.changeDirection():60===this.m_currWallsTime&&(o.GameManager.instance.level.customAction(10),this.destroyJoint(),o.GameManager.instance.hero.setEnableMotor(this.heroEngineState,!1),this.m_active=!1))},t.prototype.onInputOut=function(){this.graphic.frameName="changeDirTop instance 10000",this.graphiSpringLeft.frameName="changeDirSpring instance 10000",this.graphiSpringRight.frameName="changeDirSpring instance 10000"},t.prototype.onInputOver=function(){this.graphic.frameName="changeDirTop instance 10001",this.graphiSpringLeft.frameName="changeDirSpring instance 10001",this.graphiSpringRight.frameName="changeDirSpring instance 10001"},t.prototype.free=function(){this.graphic=null,this.graphiSpringLeft=null,this.graphiSpringRight=null,this.tween=null,this.body=null,this.joint=null},o.Lvl9ChangeHeroDir=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this)||this,a=(t.active=0,t.counter=0,t.updateWheels=!1,t.contactHeroCounter=0,i.GameManager.instance.layerUpper.create(634,267,"level9","doorShine instance 10000"));return a.anchor.setTo(.5),t.leftDoor=i.GameManager.instance.layerUpper.create(664,272,"level9","doorBg instance 10000"),t.leftDoor.anchor.setTo(.5),t.leftOpen=e.make.sprite(0,0,"level9","doorBg2 instance 10000"),t.leftOpen.anchor.setTo(.5),t.leftOpen.alpha=0,t.leftDoor.addChild(t.leftOpen),t.leftForWheels=e.make.sprite(1,-52,"level9","doorForWheels instance 10000"),t.leftForWheels.anchor.x=.5,t.leftDoor.addChild(t.leftForWheels),(a=e.make.sprite(15,0,"level9","doorWheel instance 10000")).anchor.setTo(.46,.5),t.leftForWheels.addChild(a),(a=e.make.sprite(-8,0,"level9","doorWheel instance 10000")).anchor.setTo(.46,.5),t.leftForWheels.addChild(a),t.leftPart=e.make.sprite(-3,-52,"level9","doorPart instance 10000"),t.leftPart.anchor.x=.5,t.leftDoor.addChild(t.leftPart),(a=e.make.sprite(0,-5,"level9","door instance 10000")).anchor.setTo(.5),t.leftDoor.addChild(a),(a=i.GameManager.instance.layerUpper.create(763,267,"level9","doorShine instance 10000")).anchor.setTo(.5),a.scale.x=-1,t.rightDoor=i.GameManager.instance.layerUpper.create(743,272,"level9","doorBg instance 10000"),t.rightDoor.anchor.setTo(.5),t.rightOpen=e.make.sprite(0,0,"level9","doorBg2 instance 10000"),t.rightOpen.anchor.setTo(.5),t.rightOpen.alpha=0,t.rightDoor.addChild(t.rightOpen),t.rightForWheels=e.make.sprite(-5,-52,"level9","doorForWheels instance 10000"),t.rightForWheels.anchor.x=.5,t.rightForWheels.scale.x=-1,t.rightDoor.addChild(t.rightForWheels),(a=e.make.sprite(15,0,"level9","doorWheel instance 10000")).anchor.setTo(.46,.5),t.rightForWheels.addChild(a),(a=e.make.sprite(-8,0,"level9","doorWheel instance 10000")).anchor.setTo(.46,.5),t.rightForWheels.addChild(a),t.rightPart=e.make.sprite(0,-52,"level9","doorPart instance 10000"),t.rightPart.anchor.x=.5,t.rightDoor.addChild(t.rightPart),(a=e.make.sprite(-3,-5,"level9","door2 instance 10000")).anchor.setTo(.5),t.rightDoor.addChild(a),a=null,t.body=new Phaser.Physics.Box2D.Body(e,null,700,268,1),t.body.setRectangle(156,84),t.body.addRectangle(126,10,1,-41).m_filter.categoryBits=i.FilterGroups.CAR2,t.body.addRectangle(10,50,68,-90).SetSensor(!0),t.body.setBodyContactCallback(i.GameManager.instance.hero.bodyBase,t.contactHero,t),t}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.contactHero=function(){0===this.contactHeroCounter&&(this.contactHeroCounter=1,this.activate(1),i.GameManager.instance.hero.setEnableMotor(!1,!1),i.GameManager.instance.hero.setClickable(!1),i.GameManager.instance.hero.clearVelosityX())},t.prototype.activate=function(e){1===e?this.active=1:2===e&&(this.active=2),this.counter=0},t.prototype.update=function(){if(1===this.active?(this.counter+=1,10===this.counter?(i.SoundManager.playSFX("s_testStart"),i.GameManager.instance.level.setSimpleTween(this.leftForWheels,19,{y:-75}),i.GameManager.instance.level.setSimpleTween(this.rightForWheels,19,{y:-75}),i.GameManager.instance.level.setSimpleTween(this.body,19,{y:245})):20===this.counter?i.SoundManager.playSFX("s_testLoop",!0):39===this.counter&&(this.updateWheels=!0,this.active=0,i.GameManager.instance.level.customAction(5))):2===this.active&&(this.counter+=1,1===this.counter?(i.SoundManager.stopSFXLoop("s_testLoop"),i.SoundManager.playSFX("s_testEnd"),this.updateWheels=!1,i.GameManager.instance.level.setSimpleTween(this.leftForWheels,10,{y:-43}),i.GameManager.instance.level.setSimpleTween(this.rightForWheels,10,{y:-43})):11===this.counter?(this.leftForWheels.destroy(),this.rightForWheels.destroy(),i.GameManager.instance.hero.bodyBase.data.SetAwake(!0),i.GameManager.instance.level.setSimpleTween(this.leftPart,10,{y:-43}),i.GameManager.instance.level.setSimpleTween(this.rightPart,10,{y:-43}),i.GameManager.instance.level.setSimpleTween(this.leftOpen,10,{alpha:1}),i.GameManager.instance.level.setSimpleTween(this.rightOpen,10,{alpha:1}),i.GameManager.instance.level.setSimpleTween(this.body,10,{y:274}),i.SoundManager.playSFX("s_gateOpen")):25===this.counter?(this.leftPart.destroy(),this.rightPart.destroy(),i.GameManager.instance.level.setSimpleTween(this.leftDoor,25,{x:589}),i.GameManager.instance.level.setSimpleTween(this.rightDoor,25,{x:818})):40===this.counter?this.body.sensor=!0:50===this.counter?(this.leftOpen.visible=!1,this.rightOpen.visible=!1,i.SoundManager.playSFX("s_gateClose")):100===this.counter?(i.GameManager.instance.level.setSimpleTween(this.leftDoor,25,{x:664}),i.GameManager.instance.level.setSimpleTween(this.rightDoor,25,{x:743}),this.body.sensor=!1,this.body.y=265):125===this.counter&&(this.active=0,i.GameManager.instance.level.customAction(7))),!0===this.updateWheels)for(var e=0;e<this.leftForWheels.children.length;e++)this.leftForWheels.children[e].rotation-=.2,this.rightForWheels.children[e].rotation+=.2},t.prototype.free=function(){this.leftDoor=null,this.leftOpen=null,this.leftPart=null,this.leftForWheels=null,this.rightDoor=null,this.rightOpen=null,this.rightPart=null,this.rightForWheels=null,this.body=null},i.Lvl9Door=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.active=0,t.counterAnim=0,t.group=e.make.group(),t.group.x=67,t.group.y=180,a.GameManager.instance.layerElements.add(t.group),t.graphic=t.group.create(0,0,"level9","fakeWheely instance 10000"),t.graphic.anchor.setTo(.5),t.wheelBack=t.group.create(-34,33,"wheely","car_weel instance 10000"),t.wheelBack.anchor.setTo(.5),t.wheelFront=t.group.create(29,33,"wheely","car_weel instance 10000"),t.wheelFront.anchor.setTo(.5),t.group.visible=!1,t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.activate=function(){this.active=1,this.group.visible=!0,this.group.x=a.GameManager.instance.hero.baseGroup.x+2,this.group.y=a.GameManager.instance.hero.baseGroup.y-3},t.prototype.update=function(){1===this.active&&(this.wheelBack.angle+=5,this.wheelFront.angle+=5,this.group.x+=1.5,101<=this.group.x&&0===this.counterAnim?(this.counterAnim=1,a.GameManager.instance.level.setSimpleTween(this.wheelFront,5,{y:25}),a.GameManager.instance.level.setSimpleTween(this.graphic,5,{x:-4,y:-4,angle:-5})):161<=this.group.x&&1===this.counterAnim?(this.counterAnim=2,a.GameManager.instance.level.setSimpleTween(this.wheelBack,5,{y:25}),a.GameManager.instance.level.setSimpleTween(this.graphic,5,{x:0,y:-8,angle:0})):195<=this.group.x&&(this.group.destroy(),this.active=0,a.GameManager.instance.level.customAction(4)))},t.prototype.free=function(){this.group=null,this.graphic=null,this.wheelBack=null,this.wheelFront=null},a.Lvl9FakeWheely=t})(Wheely=Wheely||{}),(e=>{var r,a;function t(e){var t=a.call(this)||this;return t.leverPressed=!1,t.leverPositionDown=!0,t.currGravityY=-500,t.counter=0,t.loop=!1,t.game=e,t.doorParts=new Array,t.gravBase=r.GameManager.instance.layerUpper.create(102,343,"level9","gravBase instance 10000"),t.gravBase.anchor.setTo(.5),t.gravLever=r.GameManager.instance.layerUpper.create(108,343,"level9","gravLever instance 10000"),t.gravLever.anchor.setTo(.5,.1),t.gravBtn=e.make.button(108,382,"level9",t.btnUp,t,"gravBtn instance 10001","gravBtn instance 10000"),t.gravBtn.anchor.setTo(.5),r.GameManager.instance.layerUpper.add(t.gravBtn),t.gravBtn.inputEnabled=!1,t.createDoor(106,394),t}r=e.Client||(e.Client={}),a=r.BasicElement,__extends(t,a),t.prototype.createDoor=function(e,t){for(var a,i=t,n="gravDoor2",s=0;s<9;s++)(a=r.GameManager.instance.layerUpper.create(e,i,"level9",(n=8===s?"gravDoor1":n)+" instance 10000")).anchor.setTo(.5),this.doorParts.push(a),i-=13},t.prototype.activate=function(){this.openDoor(),this.gravBtn.inputEnabled=!0,this.gravBtn.input.useHandCursor=!0},t.prototype.deactivate=function(){this.gravBtn.inputEnabled=!1},t.prototype.openDoor=function(){this.game.add.tween(this.doorParts[0]).to({y:this.doorParts[0].y-12},400,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.doorPartComplete,this)},t.prototype.doorPartComplete=function(){1!==this.doorParts.length&&(1<this.doorParts.length&&(this.doorParts[0].destroy(),this.doorParts.shift()),this.openDoor())},t.prototype.btnUp=function(){!0!==this.leverPressed&&(this.leverPressed=!0,this.leverPositionDown=!this.leverPositionDown,!1===this.leverPositionDown?(r.SoundManager.playSFX("s_gravityStart"),this.counter=0,this.loop=!0,this.currGravityY=500):(r.SoundManager.stopSFXLoop("s_gravityLoop"),r.SoundManager.playSFX("s_gravityEnd"),this.currGravityY=-500),this.game.physics.box2d.world.SetGravity(new box2d.b2Vec2(0,this.currGravityY/this.game.physics.box2d.ptmRatio)),r.GameManager.instance.level.customAction(8))},t.prototype.update=function(){!0===this.loop&&(this.counter+=1,31<=this.counter)&&(this.loop=!1,r.SoundManager.playSFX("s_gravityLoop",!0)),!0===this.leverPressed&&(!0===this.leverPositionDown?(this.gravBtn.y+=2,382<=this.gravBtn.y&&(this.gravBtn.y=382,this.leverPressed=!1)):(this.gravBtn.y-=2,this.gravBtn.y<=304&&(this.gravBtn.y=304,this.leverPressed=!1)),this.gravLever.scale.y=-(343-this.gravBtn.y)/39)},t.prototype.free=function(){this.game=null,this.doorParts=[],this.doorParts=null,this.gravBase=null,this.gravBtn=null,this.gravLever=null},r.Lvl9Gravitation=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.stX=54,t.stY=62,t.active=!1,t.counter=0,t.animDuration=0,t.startAnim=!1,t.animFrameCounter=0,t.part1=new a.ScaleSprite(e,t.stX-16,t.stY-14,"level9","armPart1 instance 10000"),t.part1.anchor.setTo(.5),a.GameManager.instance.layerBackground.add(t.part1),t.part2=new a.ScaleSprite(e,t.stX+3,t.stY+10,"level9","armPart2 instance 10000"),t.part2.anchor.setTo(.5),a.GameManager.instance.layerBackground.add(t.part2),t.part3=a.GameManager.instance.layerBackground.create(t.stX+1,t.stY-4,"level9","armPart3 instance 10000"),t.part3.anchor.setTo(.5),t.part4=new a.ScaleSprite(e,t.stX+13,t.stY,"level9","armPart4 instance 10000"),t.part4.anchor.setTo(.5),a.GameManager.instance.layerBackground.add(t.part4),t.part5=a.GameManager.instance.layerBackground.create(t.stX+2,t.stY+26,"level9","armPart5 instance 10000"),t.part5.anchor.setTo(.5),t.part6=a.GameManager.instance.layerBackground.create(t.stX+24,t.stY+18,"level9","armPart6 instance 10000"),t.part6.anchor.setTo(.5),t.partAnim=a.GameManager.instance.layerBackground.create(t.stX,t.stY,"level9"),t.partAnim.animations.add("anim",Phaser.Animation.generateFrameNames("questWheely instance 1",0,116,"",4),50,!1),t.partAnim.visible=!1,t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.activate=function(){this.active=!0},t.prototype.update=function(){!1!==this.active&&(this.counter+=1,10===this.counter?(this.animDuration=20,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY-14}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+14,y:this.stY+11,scaleY:1.38,angle:-36}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY-4}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+14,y:this.stY-4,angle:-20}),a.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:this.stX+28,y:this.stY+33,angle:-63}),a.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:this.stX+31,y:this.stY+9,angle:-20})):30===this.counter?(this.animDuration=15,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY+12,scaleX:1.04}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+20,y:this.stY+29,scaleY:1.38,angle:-66}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY+22}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+12,y:this.stY+16,angle:-50}),a.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:this.stX+43,y:this.stY+41,angle:-93}),a.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:this.stX+33,y:this.stY+19,angle:-50})):45===this.counter?(this.animDuration=4,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY+8,scaleX:1.03}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+19,y:this.stY+25,scaleY:1.38,angle:-60}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY+17}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+12,y:this.stY+12,angle:-45}),a.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:this.stX+40,y:this.stY+40,angle:-88}),a.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:this.stX+33,y:this.stY+17,angle:-45})):49===this.counter?(this.animDuration=4,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY+12,scaleX:1.04}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+19,y:this.stY+31,scaleY:1.14,angle:-75}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY+22}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+11,y:this.stY+15,angle:-55}),a.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:this.stX+39,y:this.stY+38,angle:-88}),a.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:this.stX+31,y:this.stY+15,angle:-45})):60===this.counter?(this.partAnim.visible=!0,this.partAnim.x=this.stX+17,this.partAnim.y=this.stY+47,this.partAnim.animations.play("anim"),this.partAnim.animations.stop("anim"),this.startAnim=!0,this.animDuration=30,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY+12,scaleX:1.04}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+17,y:this.stY+23,scaleX:1.18,scaleY:.65,angle:-78}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY+22}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+7,y:this.stY+10,scaleY:.86,angle:-65}),a.GameManager.instance.level.setSimpleTween(this.part5,3,{x:this.stX+36,y:this.stY+39,angle:-81}),a.GameManager.instance.level.setSimpleTween(this.part6,15,{x:this.stX+29,y:this.stY+12,angle:-46})):63===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,3,{x:this.stX+38,y:this.stY+38,angle:-88}):66===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,4,{x:this.stX+36,y:this.stY+37,angle:-83}):70===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,4,{x:this.stX+37,y:this.stY+36,angle:-87}):74===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,4,{x:this.stX+33,y:this.stY+34,angle:-81}):75===this.counter?a.GameManager.instance.level.setSimpleTween(this.part6,15,{x:this.stX+23,y:this.stY+4,angle:-48}):78===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,4,{x:this.stX+33,y:this.stY+32,angle:-85}):82===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,4,{x:this.stX+29,y:this.stY+30,angle:-79}):86===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,4,{x:this.stX+29,y:this.stY+27,angle:-82}):90===this.counter?(this.animDuration=8,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY+12,scaleX:1.04}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+19,y:this.stY+31,scaleX:.99,scaleY:1.14,angle:-75}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY+22}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+11,y:this.stY+15,scaleY:1,angle:-55}),a.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:this.stX+39,y:this.stY+38,angle:-88}),a.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:this.stX+31,y:this.stY+15,angle:-45})):98===this.counter?(this.animDuration=16,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY+12,scaleX:1.04}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+11,y:this.stY+40,scaleX:.99,scaleY:1.39,angle:-43}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY+22}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+13,y:this.stY+23,scaleY:1,angle:-8}),a.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:this.stX+30,y:this.stY+56,angle:-85}),a.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:this.stX+26,y:this.stY+35,angle:-2})):114===this.counter?(this.animDuration=21,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY+12,scaleX:1.04}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+4,y:this.stY+50,scaleX:.99,scaleY:1.64,angle:-11}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY+22}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+10,y:this.stY+31,scaleY:1,angle:32}),a.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:this.stX+19,y:this.stY+74,angle:-91}),a.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:this.stX+11,y:this.stY+51,angle:41})):135===this.counter?(this.animDuration=27,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY+12,scaleX:1.04}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+11,y:this.stY+40,scaleX:.99,scaleY:1.39,angle:-43}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY+22}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+13,y:this.stY+23,angle:-8}),a.GameManager.instance.level.setSimpleTween(this.part5,3,{x:this.stX+18,y:this.stY+73,angle:-85}),a.GameManager.instance.level.setSimpleTween(this.part6,13,{x:this.stX+18,y:this.stY+43,angle:20})):138===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,4,{x:this.stX+22,y:this.stY+69,angle:-90}):142===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,3,{x:this.stX+21,y:this.stY+68,angle:-84}):145===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,4,{x:this.stX+25,y:this.stY+65,angle:-88}):148===this.counter?a.GameManager.instance.level.setSimpleTween(this.part6,14,{x:this.stX+26,y:this.stY+35,angle:-2}):149===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,3,{x:this.stX+24,y:this.stY+63,angle:-82}):152===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,3,{x:this.stX+27,y:this.stY+61,angle:-87}):155===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,3,{x:this.stX+26,y:this.stY+59,angle:-80}):158===this.counter?a.GameManager.instance.level.setSimpleTween(this.part5,4,{x:this.stX+30,y:this.stY+56,angle:-85}):162===this.counter?(this.animDuration=12,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY+12,scaleX:1.04}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+19,y:this.stY+31,scaleX:.99,scaleY:1.14,angle:-75}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY+22}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+11,y:this.stY+15,angle:-55}),a.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:this.stX+39,y:this.stY+38,angle:-88}),a.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:this.stX+31,y:this.stY+15,angle:-45})):174===this.counter?(this.animDuration=20,a.GameManager.instance.level.setSimpleTween(this.part1,this.animDuration,{x:this.stX-16,y:this.stY-14,scaleX:1}),a.GameManager.instance.level.setSimpleTween(this.part2,this.animDuration,{x:this.stX+3,y:this.stY+10,scaleX:1,scaleY:1,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part3,this.animDuration,{x:this.stX+1,y:this.stY-4}),a.GameManager.instance.level.setSimpleTween(this.part4,this.animDuration,{x:this.stX+13,y:this.stY,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part5,this.animDuration,{x:this.stX+2,y:this.stY+26,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part6,this.animDuration,{x:this.stX+24,y:this.stY+18,angle:0})):194===this.counter&&(this.active=!1),!0===this.startAnim)&&(this.partAnim.animations.frame+=1,this.animFrameCounter+=1,116===this.animFrameCounter)&&(this.startAnim=!1,this.partAnim.destroy(),a.GameManager.instance.level.customAction(3))},t.prototype.free=function(){this.part1=null,this.part2=null,this.part3=null,this.part4=null,this.part5=null,this.part6=null,this.partAnim=null},a.Lvl9RoboArmQuest=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.animCounter=0,t.animDuration=0,t.active=0,t.group=e.make.group(),t.group.x=674,t.group.y=104,a.GameManager.instance.layerUpper.add(t.group),t.part1_1=t.group.create(-103,-26,"level9","hand1_1 instance 10000"),t.part1_1.angle=51,t.part1_1.anchor.setTo(.5),t.part1_2=t.group.create(-104,-13,"level9","hand1_2 instance 10000"),t.part1_2.angle=51,t.part1_2.anchor.setTo(.45,.5),t.part1_3=t.group.create(-80,-29,"level9","hand1_3 instance 10000"),t.part1_3.anchor.setTo(.48,.5),t.part1_4=t.group.create(-114,7,"level9","hand1_4 instance 10000"),t.part1_4.angle=-20,t.part1_4.anchor.setTo(.48,.5),t.part1_5=t.group.create(-90,-11,"level9","hand1_5 instance 10000"),t.part1_5.angle=-52,t.part1_5.anchor.setTo(.5),t.part1_6=t.group.create(-73,-21,"level9","hand1_6 instance 10000"),t.part1_6.angle=166,t.part1_6.anchor.setTo(.5),t.part1_7=t.group.create(-128,-3,"level9","hand1_7 instance 10000"),t.part1_7.angle=24,t.part1_7.anchor.setTo(.5),t.part1_8=t.group.create(-107,-8,"level9","hand1_8 instance 10000"),t.part1_8.angle=-43,t.part1_8.anchor.setTo(.49,.5),t.part1_9=t.group.create(-80,-53,"level9","hand1_9 instance 10000"),t.part1_9.anchor.setTo(.53,.52),t.part2_1=new a.ScaleSprite(e,94,34,"level9","hand2_1 instance 10000"),t.part2_1.angle=-15,t.part2_1.anchor.setTo(.5),t.part2_1.scaleY=.75,t.group.add(t.part2_1),t.part2_2=t.group.create(86,22,"level9","hand2_2 instance 10000"),t.part2_2.anchor.setTo(.47),t.part2_3=t.group.create(91,36,"level9","hand2_3 instance 10000"),t.part2_3.angle=45,t.part2_3.anchor.setTo(.5,.45),t.part2_4=t.group.create(84,28,"level9","hand2_4 instance 10000"),t.part2_4.angle=165,t.part2_4.anchor.setTo(.5,.48),t.part2_5=t.group.create(102,46,"level9","hand2_5 instance 10000"),t.part2_5.angle=15,t.part2_5.anchor.setTo(.48,.5),t.part2_6=t.group.create(96,21,"level9","hand2_6 instance 10000"),t.part2_6.anchor.setTo(.45),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.activate=function(e){this.active=e,this.animCounter=0},t.prototype.update=function(){1===this.active?(this.animCounter+=1,1===this.animCounter?(this.animDuration=9,a.GameManager.instance.level.setSimpleTween(this.part1_1,this.animDuration,{x:-101,y:-17,angle:26}),a.GameManager.instance.level.setSimpleTween(this.part1_2,this.animDuration,{x:-95,y:-4,angle:26}),a.GameManager.instance.level.setSimpleTween(this.part1_4,this.animDuration,{x:-100,y:24,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_5,this.animDuration,{x:-59,y:36,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_6,this.animDuration,{x:-37,y:43,angle:-75}),a.GameManager.instance.level.setSimpleTween(this.part1_7,this.animDuration,{x:-112,y:16,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_8,this.animDuration,{x:-77,y:24,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_1,this.animDuration,{x:94,y:39,angle:-15,scaleY:1}),a.GameManager.instance.level.setSimpleTween(this.part2_3,this.animDuration,{x:91,y:48,angle:30}),a.GameManager.instance.level.setSimpleTween(this.part2_4,this.animDuration,{x:76,y:45,angle:75}),a.GameManager.instance.level.setSimpleTween(this.part2_5,this.animDuration,{x:102,y:52,angle:30})):10===this.animCounter?(this.animDuration=10,a.GameManager.instance.level.setSimpleTween(this.part1_1,this.animDuration,{x:-92,y:-7,angle:-4}),a.GameManager.instance.level.setSimpleTween(this.part1_2,this.animDuration,{x:-81,y:0,angle:-4}),a.GameManager.instance.level.setSimpleTween(this.part1_4,this.animDuration,{x:-73,y:36,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_5,this.animDuration,{x:-31,y:48,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_6,this.animDuration,{x:-10,y:59,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_7,this.animDuration,{x:-85,y:28,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_8,this.animDuration,{x:-49,y:36,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_1,this.animDuration,{x:89,y:40,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_3,this.animDuration,{x:83,y:58,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_4,this.animDuration,{x:69,y:65,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_5,this.animDuration,{x:94,y:55,angle:0})):20===this.animCounter?(this.animDuration=5,a.GameManager.instance.level.setSimpleTween(this.part1_1,this.animDuration,{x:-93,y:-8,angle:-2}),a.GameManager.instance.level.setSimpleTween(this.part1_2,this.animDuration,{x:-82,y:0,angle:-2}),a.GameManager.instance.level.setSimpleTween(this.part1_4,this.animDuration,{x:-74,y:36,angle:-1}),a.GameManager.instance.level.setSimpleTween(this.part1_5,this.animDuration,{x:-32,y:46,angle:3}),a.GameManager.instance.level.setSimpleTween(this.part1_6,this.animDuration,{x:-10,y:59,angle:3}),a.GameManager.instance.level.setSimpleTween(this.part1_7,this.animDuration,{x:-86,y:28,angle:1}),a.GameManager.instance.level.setSimpleTween(this.part1_8,this.animDuration,{x:-50,y:34,angle:-8}),a.GameManager.instance.level.setSimpleTween(this.part2_1,this.animDuration,{x:90,y:40,angle:-2}),a.GameManager.instance.level.setSimpleTween(this.part2_3,this.animDuration,{x:84,y:57,angle:1}),a.GameManager.instance.level.setSimpleTween(this.part2_4,this.animDuration,{x:69,y:64,angle:-8}),a.GameManager.instance.level.setSimpleTween(this.part2_5,this.animDuration,{x:96,y:55,angle:-2})):25===this.animCounter?(this.animDuration=5,a.GameManager.instance.level.setSimpleTween(this.part1_1,this.animDuration,{x:-92,y:-7,angle:-4}),a.GameManager.instance.level.setSimpleTween(this.part1_2,this.animDuration,{x:-81,y:0,angle:-4}),a.GameManager.instance.level.setSimpleTween(this.part1_4,this.animDuration,{x:-73,y:36,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_5,this.animDuration,{x:-31,y:48,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_6,this.animDuration,{x:-10,y:59,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_7,this.animDuration,{x:-85,y:28,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_8,this.animDuration,{x:-49,y:36,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_1,this.animDuration,{x:89,y:40,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_3,this.animDuration,{x:83,y:58,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_4,this.animDuration,{x:69,y:65,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_5,this.animDuration,{x:94,y:55,angle:0})):30===this.animCounter&&(this.active=0)):2===this.active&&(this.animCounter+=1,1===this.animCounter?(this.animDuration=9,a.GameManager.instance.level.setSimpleTween(this.part1_1,this.animDuration,{x:-101,y:-17,angle:26}),a.GameManager.instance.level.setSimpleTween(this.part1_2,this.animDuration,{x:-95,y:-4,angle:26}),a.GameManager.instance.level.setSimpleTween(this.part1_4,this.animDuration,{x:-100,y:24,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_5,this.animDuration,{x:-59,y:36,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_6,this.animDuration,{x:-37,y:43,angle:-75}),a.GameManager.instance.level.setSimpleTween(this.part1_7,this.animDuration,{x:-112,y:16,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part1_8,this.animDuration,{x:-77,y:24,angle:0}),a.GameManager.instance.level.setSimpleTween(this.part2_1,this.animDuration,{x:94,y:39,angle:-15,scaleY:1}),a.GameManager.instance.level.setSimpleTween(this.part2_3,this.animDuration,{x:91,y:48,angle:30}),a.GameManager.instance.level.setSimpleTween(this.part2_4,this.animDuration,{x:76,y:45,angle:75}),a.GameManager.instance.level.setSimpleTween(this.part2_5,this.animDuration,{x:102,y:52,angle:30})):10===this.animCounter?(this.animDuration=10,a.GameManager.instance.level.setSimpleTween(this.part1_1,this.animDuration,{x:-103,y:-26,angle:51}),a.GameManager.instance.level.setSimpleTween(this.part1_2,this.animDuration,{x:-104,y:-13,angle:51}),a.GameManager.instance.level.setSimpleTween(this.part1_4,this.animDuration,{x:-114,y:7,angle:-20}),a.GameManager.instance.level.setSimpleTween(this.part1_5,this.animDuration,{x:-90,y:-11,angle:-52}),a.GameManager.instance.level.setSimpleTween(this.part1_6,this.animDuration,{x:-73,y:-21,angle:166}),a.GameManager.instance.level.setSimpleTween(this.part1_7,this.animDuration,{x:-128,y:-3,angle:24}),a.GameManager.instance.level.setSimpleTween(this.part1_8,this.animDuration,{x:-107,y:-8,angle:-43}),a.GameManager.instance.level.setSimpleTween(this.part2_1,this.animDuration,{x:94,y:34,angle:-15,scaleY:.75}),a.GameManager.instance.level.setSimpleTween(this.part2_3,this.animDuration,{x:91,y:36,angle:45}),a.GameManager.instance.level.setSimpleTween(this.part2_4,this.animDuration,{x:84,y:28,angle:165}),a.GameManager.instance.level.setSimpleTween(this.part2_5,this.animDuration,{x:102,y:46,angle:15})):20===this.animCounter&&(this.active=0))},t.prototype.free=function(){this.group=null,this.part1_1=null,this.part1_2=null,this.part1_3=null,this.part1_4=null,this.part1_5=null,this.part1_6=null,this.part1_7=null,this.part1_8=null,this.part1_9=null,this.part2_1=null,this.part2_2=null,this.part2_3=null,this.part2_4=null,this.part2_5=null,this.part2_6=null},a.Lvl9RoboHands=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var t=i.call(this)||this;return t.stX=703,t.stY=102,t.animCounter=0,t.state=0,t.opened=!1,t.canGas=15,t.heroSpeed=0,t.maxHeroSpeed=90,t.speedTestPanel=a.GameManager.instance.layerBackground.create(t.stX+241,t.stY+64,"level9","speedTestPanel instance 10000"),t.speedTestPanel.anchor.setTo(.53,.56),t.speedTestPanel.angle=-8,t.speedMetr=a.GameManager.instance.layerBackground.create(t.stX+215,t.stY-20,"level9","speedTestPanel2 instance 10000"),t.speedMetr.anchor.setTo(.64,.5),t.speedMetr.angle=-4,t.speedMetrShkala=e.make.sprite(-12,-7,"level9","speedTestMetr instance 10000"),t.speedMetr.addChild(t.speedMetrShkala),t.speedometer=a.GameManager.instance.layerBackground.create(t.stX+143,t.stY-11,"level9","speedTest instance 10000"),t.speedometer.anchor.setTo(.5),t.speedometer.angle=-94,t.speedometerShkala=e.make.sprite(2,-3,"level9","speedTestShkala instance 10000"),t.speedometerShkala.anchor.setTo(.5),t.speedometer.addChild(t.speedometerShkala),t.mask=e.make.graphics(0,0),t.speedometer.addChild(t.mask),t.speedometerShkala.mask=t.mask,t.arrow=e.make.sprite(0,0,"level9","speedTestArrow instance 10000"),t.arrow.anchor.x=.5,t.arrow.pivot.y=42,t.arrow.angle=-132,t.speedometer.addChild(t.arrow),t.textSpeed=e.make.bitmapText(0,2,"mainFont","0",28),t.textSpeed.anchor.setTo(.5),t.speedometer.addChild(t.textSpeed),t.updateArrow(),t.btn=e.make.graphics(),t.btn.beginFill(0,0),t.btn.drawRect(-65,-35,130,70),t.btn.endFill(),a.GameManager.instance.layerUpper.add(t.btn),t}a=e.Client||(e.Client={}),i=a.BasicElement,__extends(t,i),t.prototype.show=function(){this.state=1,this.animCounter=0,this.btn.x=a.GameManager.instance.hero.bodyBase.x,this.btn.y=a.GameManager.instance.hero.bodyBase.y+4,this.btn.inputEnabled=!0,this.btn.input.useHandCursor=!0,this.btn.events.onInputOut.add(function(){a.GameManager.instance.hero.onInputOutHandler()},this),this.btn.events.onInputOver.add(function(){a.GameManager.instance.hero.onInputOverHandler()},this),this.btn.events.onInputUp.add(this.setSpeed,this)},t.prototype.hide=function(){this.state=2,this.animCounter=0,a.GameManager.instance.level.customAction(6),a.GameManager.instance.hero.onInputOutHandler(),this.btn.destroy()},t.prototype.setSpeed=function(){this.canGas<15||(a.SoundManager.playSFX("s_gas"+a.Tools.random(1,3)),this.canGas=0,this.heroSpeed+=a.Tools.random(10,15),this.heroSpeed>this.maxHeroSpeed&&(this.heroSpeed=this.maxHeroSpeed))},t.prototype.updateArrow=function(){var e=Math.floor(this.heroSpeed),e=(this.arrow.angle=this.heroSpeed/this.maxHeroSpeed*266-132,this.textSpeed.text=""+e,this.speedMetrShkala.frameName="speedTestMetr instance "+(1e4+(e=80<=e?79:e)),a.GameManager.instance.hero&&(e=this.heroSpeed/3,a.GameManager.instance.hero.bodyWheelBack.angle+=e,a.GameManager.instance.hero.bodyWheelFront.angle+=e),this.mask.clear(),this.mask.beginFill(16711680,.5),this.mask.moveTo(0,-100),this.mask.lineTo(-80,-50),this.mask.lineTo(-80,50),this.mask.lineTo(0,50),this.mask.lineTo(0,0),a.Tools.rotatePointByAngle(0,0,0,-60,this.arrow.rotation));this.mask.lineTo(e.x,e.y),e=a.Tools.rotatePointByAngle(0,0,0,-60,this.arrow.rotation/2),this.mask.lineTo(e.x,e.y),this.mask.endFill()},t.prototype.update=function(){!0===this.opened&&(this.canGas<60&&(this.canGas+=1),.8<Math.random()&&(this.heroSpeed-=.2),this.heroSpeed<15&&(this.heroSpeed+=.5),this.updateArrow(),80<this.heroSpeed)&&(this.hide(),this.opened=!1),1===this.state?(this.animCounter+=1,1===this.animCounter?(a.GameManager.instance.level.setSimpleTween(this.speedTestPanel,12,{x:this.stX+54,y:this.stY+63,angle:-1}),a.GameManager.instance.level.setSimpleTween(this.speedMetr,14,{x:this.stX+38,y:this.stY-17,angle:-3}),a.GameManager.instance.level.setSimpleTween(this.speedometer,14,{x:this.stX-43,y:this.stY-11,angle:-116})):13===this.animCounter?a.GameManager.instance.level.setSimpleTween(this.speedTestPanel,5,{x:this.stX+59,y:this.stY+65,angle:-3}):15===this.animCounter?(a.GameManager.instance.level.setSimpleTween(this.speedMetr,9,{x:this.stX+48,y:this.stY,angle:6}),a.GameManager.instance.level.setSimpleTween(this.speedometer,16,{x:this.stX-43,y:this.stY-15,angle:13})):24===this.animCounter?a.GameManager.instance.level.setSimpleTween(this.speedMetr,7,{x:this.stX+40,y:this.stY-8,angle:3}):31===this.animCounter?(a.GameManager.instance.level.setSimpleTween(this.speedMetr,4,{x:this.stX+38,y:this.stY-11,angle:4}),a.GameManager.instance.level.setSimpleTween(this.speedometer,11,{x:this.stX-46,y:this.stY-17,angle:0})):42===this.animCounter&&(this.state=0,this.opened=!0)):2===this.state&&(this.animCounter+=1,1===this.animCounter?a.GameManager.instance.level.setSimpleTween(this.speedometer,11,{x:this.stX-43,y:this.stY-15,angle:13}):8===this.animCounter?a.GameManager.instance.level.setSimpleTween(this.speedMetr,4,{x:this.stX+40,y:this.stY-8,angle:3}):12===this.animCounter?(a.GameManager.instance.level.setSimpleTween(this.speedometer,16,{x:this.stX-43,y:this.stY-11,angle:-116}),a.GameManager.instance.level.setSimpleTween(this.speedMetr,7,{x:this.stX+48,y:this.stY,angle:6})):19===this.animCounter?a.GameManager.instance.level.setSimpleTween(this.speedMetr,9,{x:this.stX+38,y:this.stY-17,angle:-3}):25===this.animCounter?a.GameManager.instance.level.setSimpleTween(this.speedTestPanel,5,{x:this.stX+54,y:this.stY+63,angle:-1}):28===this.animCounter?(a.GameManager.instance.level.setSimpleTween(this.speedometer,14,{x:this.stX+143,y:this.stY-11,angle:-94}),a.GameManager.instance.level.setSimpleTween(this.speedMetr,14,{x:this.stX+215,y:this.stY-20,angle:-3})):30===this.animCounter?a.GameManager.instance.level.setSimpleTween(this.speedTestPanel,12,{x:this.stX+241,y:this.stY+64,angle:-8}):42===this.animCounter&&(this.state=0))},t.prototype.free=function(){this.speedMetr=null,this.speedMetrShkala=null,this.speedometer=null,this.speedometerShkala=null,this.arrow=null,this.speedTestPanel=null,this.textSpeed=null,this.mask=null,this.btn=null},a.Lvl9SpeedTest=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e,t){var a=n.call(this)||this,t=(a.deactivated=!1,a.wheelCurrFrame=0,a.direction=0,a.soundPlayed=!1,a.fakeWheely=t,a.graphic=i.GameManager.instance.layerBackground.create(153,80,"level9","tp instance 10000"),a.graphic.anchor.setTo(.5),a.graphic.scale.x=-1,e.make.sprite(6,0,"level9"));return t.animations.add("anim",Phaser.Animation.generateFrameNames("tpAnim1 instance 1",0,39,"",4),30,!0),t.animations.play("anim"),t.anchor.setTo(.5),a.graphic.addChild(t),a.wheel1=e.make.sprite(-8,-60,"level9","tpWheel instance 10000"),a.wheel1.anchor.setTo(.5),a.wheel1.angle=90,a.graphic.addChild(a.wheel1),a.wheel2=e.make.sprite(-8,60,"level9","tpWheel instance 10000"),a.wheel2.anchor.setTo(.5),a.wheel2.angle=90,a.graphic.addChild(a.wheel2),a.btn=e.make.sprite(-15,-1,"level9","tpBtn instance 10000"),a.btn.anchor.setTo(.5),a.graphic.addChild(a.btn),a.graphic.inputEnabled=!0,a.graphic.input.useHandCursor=!0,a.graphic.events.onInputOut.add(a.btnOut,a),a.graphic.events.onInputOver.add(a.btnOver,a),a.graphic.events.onInputUp.add(a.stopSound,a),a.graphic.input.enableDrag(!0),a.graphic.input.boundsRect=new Phaser.Rectangle(a.graphic.x-a.graphic.width/2,a.graphic.y-a.graphic.height/2,a.graphic.width,198),a.graphic.input.setDragLock(!1,!0),a.graphic.events.onDragUpdate.add(a.updateDragLeft,a),(t=e.make.sprite(4,0,"level9","tpPart instance 10000")).anchor.setTo(.5),a.graphic.addChild(t),a.lastPos=a.graphic.y,t=null,a.light=i.GameManager.instance.layerUpper.create(0,0,"level9"),a.light.anchor.y=.5,a.light.scale.x=-1,a.light.animations.add("start",Phaser.Animation.generateFrameNames("tpLight instance 1",0,4,"",4),30,!1),a.light.animations.add("end",Phaser.Animation.generateFrameNames("tpLight instance 1",4,0,"",4),30,!1).killOnComplete=!0,a.light.visible=!1,a}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.btnOut=function(){!1!==this.graphic.inputEnabled&&(this.btn.frameName="tpBtn instance 10000")},t.prototype.btnOver=function(){!1!==this.graphic.inputEnabled&&(this.btn.frameName="tpBtn instance 10001")},t.prototype.updateDragLeft=function(){if(!1===this.soundPlayed&&(this.soundPlayed=!0,i.SoundManager.playSFX("s_portalSlide",!0)),this.graphic.y>this.lastPos)this.direction=1;else{if(!(this.graphic.y<this.lastPos))return;this.direction=-1}this.lastPos=this.graphic.y,this.wheelCurrFrame+=this.direction,10<=this.wheelCurrFrame?this.wheelCurrFrame=0:this.wheelCurrFrame<=-1&&(this.wheelCurrFrame=9),this.wheel1.frameName="tpWheel instance 1000"+this.wheelCurrFrame,this.wheel2.frameName="tpWheel instance 1000"+this.wheelCurrFrame,180<=this.graphic.y&&(this.deactivate(),this.deactivated=!0)},t.prototype.deactivate=function(){!1!==this.graphic.inputEnabled&&(this.graphic.inputEnabled=!1,this.graphic.input.disableDrag(),this.btn.frameName="tpBtn instance 10002",this.stopSound())},t.prototype.stopSound=function(){this.soundPlayed=!1,i.SoundManager.stopSFXLoop("s_portalSlide")},t.prototype.teleportation=function(){this.light.visible=!0,this.light.x=this.graphic.x+7,this.light.y=this.graphic.y+2,this.light.animations.play("start")},t.prototype.deactivateLight=function(){this.light.animations.play("end")},t.prototype.free=function(){this.graphic=null,this.btn=null,this.wheel1=null,this.wheel2=null,this.fakeWheely=null,this.light=null},i.Lvl9Teleport1=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this)||this,a=(t.wheelCurrFrame=0,t.direction=0,t.soundPlayed=!1,t.graphic=i.GameManager.instance.layerBackground.create(300,178,"level9","tp instance 10000"),t.graphic.anchor.setTo(.5),e.make.sprite(6,0,"level9"));return a.animations.add("anim",Phaser.Animation.generateFrameNames("tpAnim2 instance 1",0,39,"",4),30,!0),a.animations.play("anim"),a.anchor.setTo(.5),t.graphic.addChild(a),t.wheel1=e.make.sprite(-10,-53,"level9","tpWheel instance 10000"),t.wheel1.anchor.setTo(.5),t.graphic.addChild(t.wheel1),t.wheel2=e.make.sprite(-10,53,"level9","tpWheel instance 10000"),t.wheel2.anchor.setTo(.5),t.graphic.addChild(t.wheel2),t.btn=e.make.sprite(-15,-1,"level9","tpBtn instance 10000"),t.btn.anchor.setTo(.5),t.graphic.addChild(t.btn),t.graphic.inputEnabled=!0,t.graphic.input.useHandCursor=!0,t.graphic.events.onInputOut.add(t.btnOut,t),t.graphic.events.onInputOver.add(t.btnOver,t),t.graphic.events.onInputUp.add(t.stopSound,t),t.graphic.input.enableDrag(!0),t.graphic.input.boundsRect=new Phaser.Rectangle(250-t.graphic.width/2,t.graphic.y-t.graphic.height/2,219,t.graphic.height),t.graphic.input.setDragLock(!0,!1),t.graphic.events.onDragUpdate.add(t.updateDragLeft,t),(a=e.make.sprite(4,0,"level9","tpPart instance 10000")).anchor.setTo(.5),t.graphic.addChild(a),t.lastPos=t.graphic.x,a=null,t.light=i.GameManager.instance.layerUpper.create(0,0,"level9"),t.light.anchor.y=.5,t.light.animations.add("start",Phaser.Animation.generateFrameNames("tpLight instance 1",0,4,"",4),30,!1),t.light.animations.add("end",Phaser.Animation.generateFrameNames("tpLight instance 1",4,0,"",4),30,!1).killOnComplete=!0,t.light.visible=!1,t.body=new Phaser.Physics.Box2D.Body(e,null,t.graphic.x-50,t.graphic.y+40,1),t.body.setRectangle(270,10,-75),t.body.data.SetActive(!1),t.body.setCollisionCategory(i.FilterGroups.CAR2),t}i=e.Client||(e.Client={}),n=i.BasicElement,__extends(t,n),t.prototype.btnOut=function(){!1!==this.graphic.inputEnabled&&(this.btn.frameName="tpBtn instance 10000")},t.prototype.btnOver=function(){!1!==this.graphic.inputEnabled&&(this.btn.frameName="tpBtn instance 10001")},t.prototype.updateDragLeft=function(){if(!1===this.soundPlayed&&(this.soundPlayed=!0,i.SoundManager.playSFX("s_portalSlide",!0)),this.graphic.x>this.lastPos)this.direction=1;else{if(!(this.graphic.x<this.lastPos))return;this.direction=-1}this.lastPos=this.graphic.x,this.wheelCurrFrame+=this.direction,10<=this.wheelCurrFrame?this.wheelCurrFrame=0:this.wheelCurrFrame<=-1&&(this.wheelCurrFrame=9),this.wheel1.frameName="tpWheel instance 1000"+this.wheelCurrFrame,this.wheel2.frameName="tpWheel instance 1000"+this.wheelCurrFrame},t.prototype.deactivate=function(){this.graphic.inputEnabled=!1,this.graphic.input.disableDrag(),this.btn.frameName="tpBtn instance 10002",this.body.x=this.graphic.x-50,this.body.y=this.graphic.y+40,this.body.data.SetActive(!0),this.stopSound()},t.prototype.stopSound=function(){this.soundPlayed=!1,i.SoundManager.stopSFXLoop("s_portalSlide")},t.prototype.teleportation=function(){this.light.visible=!0,this.light.x=this.graphic.x-7,this.light.y=this.graphic.y+2,this.light.animations.play("start")},t.prototype.deactivateLight=function(){this.light.animations.play("end")},t.prototype.free=function(){this.graphic=null,this.btn=null,this.wheel1=null,this.wheel2=null,this.body=null,this.light=null},i.Lvl9Teleport2=t})(Wheely=Wheely||{}),(e=>{var s;function t(e,t,a,i,n){e=s.call(this,e,t,a,i=void 0===i?null:i,n=void 0===n?null:n)||this;return e.anchor.setTo(.5),e}e=e.Client||(e.Client={}),s=Phaser.Image,__extends(t,s),t.prototype.update=function(){this.rotation+=.02},e.PunktirCircle=t})(Wheely=Wheely||{}),(e=>{function t(e,t,a){this.lifeTime=0,this.randDirection=0,this.counter=0,this.speed=0,this.rot=0,this.star=e.add.sprite(t,a,"ui","questStar instance 10000"),this.star.anchor.set(.5),this.star.scale.set(e.rnd.integerInRange(30,100)/100),this.lifeTime=e.rnd.integerInRange(20,35),this.speed=e.rnd.integerInRange(5,10)/10,this.rot=e.rnd.integerInRange(-1,1),this.randDirection=Phaser.Math.degToRad(e.rnd.integerInRange(0,360))}e=e.Client||(e.Client={}),t.prototype.update=function(){null!==this.star&&(this.star.alpha<=0?(this.star.destroy(),this.star=null):(this.counter+=1,this.counter>=this.lifeTime&&(this.star.alpha-=.03,this.star.scale.x-=.01,this.star.scale.y-=.01),this.star.x-=Math.cos(this.randDirection)*this.speed,this.star.y-=Math.sin(this.randDirection)*this.speed,this.star.angle+=this.speed*this.rot*3))},e.Star=t})(Wheely=Wheely||{}),(e=>{function t(e,t,a,i,n){void 0===t&&(t=3),void 0===a&&(a=5),void 0===i&&(i=0),void 0===n&&(n=-8.75),this.game=e,this.onContactWater=new Phaser.Signal,this.m_controller=new box2d.b2BuoyancyController,this.m_controller.normal.SetXY(0,1),this.m_controller.offset=n,this.m_controller.useDensity=!0,this.m_controller.density=t,this.m_controller.linearDrag=a,this.m_controller.angularDrag=i,this.game.physics.box2d.world.AddController(this.m_controller)}e=e.Client||(e.Client={}),t.prototype.addRectangle=function(e,t,a,i){e=new Phaser.Physics.Box2D.Body(this.game,null,e,t,0);e.setRectangle(a,i).SetDensity(1),e.sensor=!0,e.setCategoryContactCallback(1,this.onContact,this)},t.prototype.onContact=function(e,t,a,i,n){e!==t&&!0!==t.sensor&&!1!==t.dynamic&&(!0===n?null===t.data.GetControllerList()&&(this.m_controller.AddBody(t.data),this.onContactWater.dispatch(t,!0)):null!==t.data.GetControllerList()&&(this.m_controller.RemoveBody(t.data),this.onContactWater.dispatch(t,!1)))},t.prototype.free=function(){this.game=null,this.m_controller=null},e.WaterRect=t})(Wheely=Wheely||{}),(r=>{(e=t=t||{}).PAUSED="Paused",e.RESUMED="Resumed",a.getInstance=function(){return a.instance=a.instance?a.instance:new a},a.prototype.init=function(){this.azAdWrapper=new window.h5ads.AdWrapper(window._azerionIntegration.advType,window._azerionIntegration.gdId),this.addListeners()},a.prototype.addListeners=function(){var e=this;this.azAdWrapper.on(window.h5ads.AdEvents.CONTENT_PAUSED,function(){r.PauseHandler.getInstance().pause(),e.contentStatus=t.PAUSED}),this.azAdWrapper.on(window.h5ads.AdEvents.CONTENT_RESUMED,function(){e.contentStatus=t.RESUMED,r.PauseHandler.getInstance().resume()})},a.prototype.showAd=function(e,t,a){var i=this,n=(r.LoaderHelper.show(),function(){r.LoaderHelper.hide(),a&&a.call(i),i.azAdWrapper.removeListener(window.h5ads.AdEvents.CONTENT_PAUSED,n)}),s=function(){r.LoaderHelper.hide(),t&&t.call(i),i.azAdWrapper.removeListener(window.h5ads.AdEvents.CONTENT_RESUMED,s)};this.azAdWrapper.on(window.h5ads.AdEvents.CONTENT_RESUMED,s),this.azAdWrapper.on(window.h5ads.AdEvents.CONTENT_PAUSED,n),this.azAdWrapper.showAd(window.h5ads.AdType.interstitial)},a.prototype.isAdPlaying=function(){return this.contentStatus===t.PAUSED};var t,e=a;function a(){this.contentStatus=t.RESUMED}r.AdHandler=e})(Fabrique=Fabrique||{}),(e=>{function t(){}t.show=function(){var e=document.getElementById("loader");e&&(e.style.display="block")},t.hide=function(){var e=document.getElementById("loader");e&&(e.style.display="none")},e.LoaderHelper=t})(Fabrique=Fabrique||{}),(e=>{function t(e){this.game=e,this.focused=!0}t.getInstance=function(e){return t.instance=t.instance?t.instance:new t(e)},t.prototype.init=function(){var e=this;this.game.stage.disableVisibilityChange=!0,this.onPauseCallback=new Phaser.Signal,h5branding.Utils.isOnDevice()&&(document.addEventListener("pause",function(){return e.onPause()}),document.addEventListener("resume",function(){return e.onResume()})),this.game.onBlur.add(this.onBlur,this),this.game.onFocus.add(this.onFocus,this),this.game.onPause.add(this.onPause,this),this.game.onResume.add(this.onResume,this)},t.prototype.onBlur=function(){this.focused=!1,this.game.onPause.dispatch()},t.prototype.onFocus=function(){this.focused=!0,e.AdHandler.getInstance().isAdPlaying()||this.game.onResume.dispatch()},t.prototype.onPause=function(){this.game.sound.setMute(),this.onPauseCallback&&this.onPauseCallback.dispatch()},t.prototype.onResume=function(){this.game.sound.unsetMute()},t.prototype.pause=function(){this.game.onPause.dispatch()},t.prototype.resume=function(){this.hasFocus&&this.game.onResume.dispatch()},Object.defineProperty(t.prototype,"hasFocus",{get:function(){return this.focused},enumerable:!1,configurable:!0}),e.PauseHandler=t})(Fabrique=Fabrique||{}),(e=>{var s;function t(e){this.questCarFounded=!1,this.questWheelFounded=!1,this.questWheel=null,this.questCar=null,this.game=e,this.updateElements=new Array,this.tweens=new Array,1===s.DataManager.getInstance().saveObj["questCar"+s.LevelManager.getInstance().currentLevel]&&(this.questCarFounded=!0),1===s.DataManager.getInstance().saveObj["questWheel"+s.LevelManager.getInstance().currentLevel]&&(this.questWheelFounded=!0)}s=e.Client||(e.Client={}),t.prototype.customAction=function(e){},t.prototype.addQuestWheel=function(e,t,a,i,n){void 0===n&&(n=-1),!0!==this.questWheelFounded&&(this.questWheel=this.game.make.button(t,a,"ui",this.clickQuestWheel,this,"questWheel"+e+" instance 10001","questWheel"+e+" instance 10000","questWheel"+e+" instance 10000"),this.questWheel.anchor.setTo(.5),-1===n?i.addChild(this.questWheel):i.addChildAt(this.questWheel,n))},t.prototype.clickQuestWheel=function(){this.questWheelFounded=!0,this.questWheel.visible=!1,this.addStars(this.questWheel.world.x,this.questWheel.world.y),s.LevelBuilder.instance.panelQuest.foundWheel()},t.prototype.addQuestCar=function(e,t,a,i,n){void 0===i&&(i=-1),void 0===n&&(n=0),!0!==this.questCarFounded&&(this.questCar=this.game.make.button(e,t,"ui",this.clickQuestCar,this,"carBody instance 10001","carBody instance 10000","carBody instance 10000"),this.questCar.anchor.setTo(.5),this.questCar.angle=n,(e=this.game.make.sprite(-4,-27,"ui","carEye instance 10000")).animations.add("idle",Phaser.Animation.generateFrameNames("carEye instance 1",0,89,"",4),35,!0),e.play("idle"),this.questCar.addChild(e),-1===i?a.addChild(this.questCar):a.addChildAt(this.questCar,i))},t.prototype.clickQuestCar=function(){this.questCarFounded=!0,this.questCar.visible=!1,this.addStars(this.questCar.world.x,this.questCar.world.y),s.LevelBuilder.instance.panelQuest.foundCar()},t.prototype.clickQuestCar2=function(e,t){this.questCarFounded=!0,this.addStars(e,t),s.LevelBuilder.instance.panelQuest.foundCar()},t.prototype.addStars=function(e,t){this.updateElements.push(new s.ClickStars(this.game,e,t))},t.prototype.update=function(){for(var e=0;e<this.tweens.length;e++)this.tweens[e].update();for(e=0;e<this.updateElements.length;e++)this.updateElements[e].update()},t.prototype.setSimpleTween=function(e,t,a){for(var i=0;i<this.tweens.length;i++)if(!1===this.tweens[i].working)return void this.tweens[i].start(e,t,a);var n=new s.SimpleTween;n.start(e,t,a),this.tweens.push(n)},t.prototype.free=function(){this.game=null;for(var e=0;e<this.updateElements.length;e++)this.updateElements[e].free();this.updateElements=[],this.updateElements=null;for(e=0;e<this.tweens.length;e++)this.tweens[e].free();this.tweens=[],this.tweens=null,this.questCar=null,this.questWheel=null},s.BasicLevel=t})(Wheely=Wheely||{}),(e=>{function t(){}e=e.Client||(e.Client={}),t.DEFAULT=1,t.TRUCK=4,t.CAR1=1024,t.CAR2=2048,t.PARTICLE=4096,t.IGNORE_CAR=t.CAR1+t.CAR2,e.FilterGroups=t})(Wheely=Wheely||{}),(e=>{var o;function t(){if(this.finishPassed=!1,(this.hero=null)!==t.instance)throw new Error("Error: LevelBuilder already created");(t.instance=this).layerBackground0=o.LevelBuilder.instance.add.group(),this.layerBackground=o.LevelBuilder.instance.add.group(),this.layerElements=o.LevelBuilder.instance.add.group(),this.layerUpper=o.LevelBuilder.instance.add.group(),this.level=o.Tools.getInstance("Level"+o.LevelManager.getInstance().currentLevel,o.Main.instance)}o=e.Client||(e.Client={}),t.prototype.clearGraphics=function(){null!=this.graphics&&this.graphics.clear()},t.prototype.drawCircle=function(e,t,a,i,n){void 0===n&&(n=1),null==this.graphics&&(this.graphics=o.Main.instance.make.graphics(0,0),this.layerUpper.add(this.graphics)),this.graphics.beginFill(e,n),this.graphics.drawCircle(t,a,i),this.graphics.endFill()},t.prototype.drawLine=function(e,t,a,i,n,s,r){void 0===r&&(r=1),null==this.graphics&&(this.graphics=o.Main.instance.make.graphics(0,0),this.layerUpper.add(this.graphics)),this.graphics.lineStyle(e,t,r),this.graphics.moveTo(a,i),this.graphics.lineTo(n,s),this.graphics.endFill()},t.prototype.drawSpriteCenter=function(e,t,a,i){void 0===t&&(t=16711680),void 0===a&&(a=2),void 0===i&&(i=1);for(var n=e,s=e.x,r=e.y;n=n.parent;)s+=n.x,r+=n.y;this.drawCircle(t,s,r,a,i)},t.prototype.update=function(){this.level.update(),null!==this.hero&&this.hero.update()},t.prototype.free=function(){(t.instance=null)!==this.hero&&this.hero.free(),this.hero=null,this.level.free(),this.level=null,this.layerBackground0.destroy(!0),this.layerBackground.destroy(!0),this.layerElements.destroy(!0),this.layerUpper.destroy(!0),this.layerBackground0=null,this.layerBackground=null,this.layerElements=null,this.layerUpper=null},t.instance=null,o.GameManager=t})(Wheely=Wheely||{}),(e=>{var n,a;function t(e){var t=a.call(this,e)||this,e=(t.heart=null,n.GameManager.instance.layerBackground.create(0,0,"bgLevel1_1"),n.GameManager.instance.layerBackground.create(413,487,"level1","cutedGrass instance 10000"),n.GameManager.instance.layerUpper.create(0,487,"bgLevel1_2"),n.GameManager.instance.hero=new n.Hero(e,70,450),n.GameManager.instance.hero.setClickable(!1),new n.Finish(t.game,740,450));return t.updateElements.push(e),t.addGround(),t.addGrassCuter(),t.addDoor(),t.addSpiders(),t.addBird(167,27),t.addGirl(),t.addCar(),n.SoundManager.playSFX("s_citynoise",!0),t}n=e.Client||(e.Client={}),a=n.BasicLevel,__extends(t,a),t.prototype.addGirl=function(){var e=n.GameManager.instance.layerElements.create(78,195,"level1","tvLight instance 10000",!0,0),t=(e.animations.add("idle",Phaser.Animation.generateFrameNames("tvLight instance 1",0,89,"",4),35,!0),e.play("idle"),n.GameManager.instance.layerElements.create(70,155,"level1","cloud1 instance 10000",!0,0)),a=(t.animations.add("start",Phaser.Animation.generateFrameNames("cloud1 instance 1",0,9,"",4),24,!1),t.animations.add("show",Phaser.Animation.generateFrameNames("cloud1 instance 1",14,41,"",4),24,!1).onComplete.add(this.addCar,this),n.GameManager.instance.layerElements.create(132,205,"level1","girlEye instance 10000",!0,0)),i=(a.animations.add("wow",Phaser.Animation.generateFrameNames("girlEye instance 1",0,64,"",4),35,!1),n.GameManager.instance.layerElements.create(110,217,"level1","girl instance 10000",!0,0));i.animations.add("action1",Phaser.Animation.generateFrameNames("girl instance 1",0,39,"",4),35,!1).onComplete.add(function(){i.play("wow"),a.play("wow"),t.play("start"),t.visible=!0},this),i.animations.add("wow",Phaser.Animation.generateFrameNames("girl instance 1",40,69,"",4),35,!1).onComplete.add(function(){i.play("action2"),t.play("show")},this),i.animations.add("action2",Phaser.Animation.generateFrameNames("girl instance 1",70,186,"",4),35,!1).onComplete.add(function(){i.play("action3"),!(t.visible=!1)===this.questCarFounded&&null!==this.heart?this.heart.visible=!1:this.questCar.visible=!1},this),i.animations.add("action3",Phaser.Animation.generateFrameNames("girl instance 1",187,230,"",4),35,!1).onComplete.add(function(){i.play("action1")},this),i.play("action1")},t.prototype.addCar=function(){!0===this.questCarFounded?null===this.heart?(this.heart=n.GameManager.instance.layerElements.create(92,172,"level1","heart instance 10000"),this.heart.visible=!1):this.heart.visible=!0:null===this.questCar?(this.addQuestCar(110,185,n.GameManager.instance.layerElements),this.questCar.scale.x=-1,this.questCar.visible=!1):this.questCar.visible=!0},t.prototype.addBird=function(e,t){var a=n.GameManager.instance.layerElements.create(e-3,t+42,"level1");a.animations.add("idle",Phaser.Animation.generateFrameNames("wing instance 1",0,6,"",4),35,!0),a.play("idle"),(a=n.GameManager.instance.layerElements.create(e+48,t+42,"level1")).animations.add("idle",Phaser.Animation.generateFrameNames("wing instance 1",0,6,"",4),35,!0),a.play("idle"),a.scale.x*=-1,this.bird=n.GameManager.instance.layerElements.create(e,t,"level1"),this.bird.animations.add("idle",Phaser.Animation.generateFrameNames("bird instance 1",0,37,"",4),35,!1).onComplete.add(this.birdDelay,this),n.SoundManager.playSFX("s_caw"),this.bird.play("idle")},t.prototype.birdDelay=function(){this.game.add.tween(this.bird).to({alpha:1},4e3,Phaser.Easing.Linear.None,!0).onComplete.add(this.playBirdAnim,this)},t.prototype.playBirdAnim=function(){n.SoundManager.playSFX("s_caw"),this.bird.play("idle")},t.prototype.addDoor=function(){this.addQuestWheel(n.LevelManager.getInstance().currentLevel,222,332,n.GameManager.instance.layerBackground,-1),this.door=n.GameManager.instance.layerBackground.create(203,375,"level1","door instance 10000"),this.door.anchor.set(.5,.02),this.tutorial=new n.Lvl1Tutorial(this.game,222,332),!0===this.questWheelFounded&&(this.door.angle=-90,n.GameManager.instance.hero.setClickable(!0),this.tutorial.show(n.GameManager.instance.hero.bodyBase.x,n.GameManager.instance.hero.bodyBase.y))},t.prototype.clickQuestWheel=function(){a.prototype.clickQuestWheel.call(this),this.tutorial.hide(),n.SoundManager.playSFX("s_gate"),this.game.add.tween(this.door).to({angle:-90},1500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.addTutorial2,this)},t.prototype.addTutorial2=function(){this.tutorial.show(n.GameManager.instance.hero.bodyBase.x,n.GameManager.instance.hero.bodyBase.y),n.GameManager.instance.hero.setClickable(!0)},t.prototype.customAction=function(e){!1===this.tutorial.hided&&1===this.tutorial.id&&this.tutorial.hide()},t.prototype.addGrassCuter=function(){var e=new n.Lvl1GrassCutter(this.game,352,469);this.updateElements.push(e)},t.prototype.addSpiders=function(){this.spider=n.GameManager.instance.layerUpper.create(156,510,"level1","spider3 instance 10000"),this.spider.angle=-5,this.game.add.tween(this.spider).to({angle:5},500,Phaser.Easing.Linear.None,!0,0,4,!0).onComplete.add(this.playSpiderAnimation,this),this.spiderAnim=n.GameManager.instance.layerUpper.create(156,500,"level1","spider1 instance 10000"),this.spiderAnim.animations.add("idle",Phaser.Animation.generateFrameNames("spider1 instance 1",0,62,"",4),35,!1).onComplete.addOnce(this.playSpiderTween,this),this.spiderAnim.visible=!1;var e=n.GameManager.instance.layerUpper.create(97,548,"level1","spider2 instance 10000");e.animations.add("idle",Phaser.Animation.generateFrameNames("spider2 instance 1",0,117,"",4),35,!0),e.play("idle"),n.GameManager.instance.layerUpper.create(146,493,"level1","block instance 10000")},t.prototype.playSpiderTween=function(){this.spider.visible=!0,this.spiderAnim.visible=!1,this.game.add.tween(this.spider).to({angle:4},1e3,Phaser.Easing.Linear.None,!0,0,4,!0).onComplete.add(this.playSpiderAnimation,this)},t.prototype.playSpiderAnimation=function(){this.spider.visible=!1,this.spiderAnim.visible=!0,this.spiderAnim.play("idle")},t.prototype.update=function(){a.prototype.update.call(this)},t.prototype.addGround=function(){new Phaser.Physics.Box2D.Body(this.game,null,450,505,0).setRectangle(900,20,0,0,0)},t.prototype.free=function(){a.prototype.free.call(this),this.tutorial.free(),this.tutorial=null,this.bird=null,this.heart=null,this.spider=null,this.spiderAnim=null,this.door=null},n.Level1=t})(Wheely=Wheely||{}),(e=>{var a,i;function t(e){var e=i.call(this,e)||this,t=(e.selectorUseCount=0,e.openFloor=!1,e.showCloud=!0,e.cloudTimer=0,e.surprise=!1,a.GameManager.instance.layerBackground0.create(0,0,"bgLevel10_1"),a.GameManager.instance.layerBackground.create(-17,336,"level10","lamps instance 10000"),a.GameManager.instance.layerUpper.create(0,600,"bgLevel10_2").anchor.set(0,1),a.GameManager.instance.hero=new a.Hero(e.game,52,140),new a.Finish(e.game,735,140));return e.updateElements.push(t),e.addQuestWheel(10,458,92,a.GameManager.instance.layerBackground),e.addGround(),e.addLasers(),e.addSelector(),e.addRocket(),e.addFallFloor(),e.addMonitor(),e.addCars(),e.addLamp(),a.SoundManager.playSFX("s_cosmoDiag",!0),a.SoundManager.playSFX("s_press",!0),a.SoundManager.playSFX("s_pressPhoto",!0),a.SoundManager.playSFX("s_vent",!0),e}a=e.Client||(e.Client={}),i=a.BasicLevel,__extends(t,i),t.prototype.addLamp=function(){this.updateElements.push(new a.Lvl10Lamp(this.game,-13,268))},t.prototype.addCars=function(){this.car2=a.GameManager.instance.layerElements.create(77,593,"level10","car2 instance 10000"),this.car2.anchor.set(.5,1),this.car2.animations.add("surprise",Phaser.Animation.generateFrameNames("car2 instance 1",0,48,"",4),35,!1),this.car1=a.GameManager.instance.layerElements.create(11,545,"level10","car1 instance 10000"),this.car1.anchor.set(.5),this.car1.animations.add("surprise",Phaser.Animation.generateFrameNames("car1 instance 1",0,54,"",4),35,!1),this.car3=a.GameManager.instance.layerElements.create(152,593,"level10","car3 instance 10000"),this.car3.anchor.set(.5,1),this.car3.animations.add("surprise",Phaser.Animation.generateFrameNames("car3 instance 1",0,31,"",4),35,!1),this.car4Group=new Phaser.Group(this.game),this.car4Group.x=370,this.car4Group.y=492,a.GameManager.instance.layerBackground.addChild(this.car4Group),this.car4=this.car4Group.create(0,0,"level10","car4 instance 10000"),this.car4.anchor.set(.5),this.car4.animations.add("surprise",Phaser.Animation.generateFrameNames("car4 instance 1",0,7,"",4),35,!1).onComplete.add(function(){this.car4Wheel1.x=-37,this.car4Wheel2.x=29,this.car4.play("reverse"),a.SoundManager.playSFX("s_twist")},this),this.car4.animations.add("reverse",Phaser.Animation.generateFrameNames("car4 instance 1",8,17,"",4),35,!1).onComplete.add(this.playCarAnim,this),this.car4Wheel1=this.car4Group.create(-33,44,"level10","car4Wheel instance 10000"),this.car4Wheel1.anchor.set(.5),this.car4Wheel2=this.car4Group.create(34,44,"level10","car4Wheel instance 10000"),this.car4Wheel2.anchor.set(.5),this.cloud1=new a.Lvl10Cloud(this.game,300,470,-1),this.cloud2=new a.Lvl10Cloud(this.game,80,485),this.cloud2.setIcon(2),this.cloud3=new a.Lvl10Cloud(this.game,210,490),this.cloud3.setIcon(2),this.carTween1=this.game.add.tween(this.car3.scale).to({y:.97},500,"Linear",!0,0,-1,!0),this.carTween2=this.game.add.tween(this.car2.scale).to({y:.97},350,"Linear",!0,0,-1,!0),this.carTween3=this.game.add.tween(this.car4.scale).to({y:.97},350,"Linear",!0,0,-1,!0)},t.prototype.playCarAnim=function(){this.game.add.tween(this.car4Group).to({x:this.car4Group.x-44},800,"Linear",!0).onComplete.add(function(){this.game.add.tween(this.car4Wheel1).to({angle:360},600,"Linear",!0,600,1),this.game.add.tween(this.car4Group).to({angle:-5,y:this.car4Group.y+5},1200,"Linear",!0).onComplete.add(function(){this.game.add.tween(this.car4Group).to({x:this.car4Group.x+15,y:this.car4Group.y-5,angle:0},400,"Linear",!0)},this)},this)},t.prototype.addMonitor=function(){this.monitor=new a.Lvl10Monitor(this.game,207,274),this.updateElements.push(this.monitor)},t.prototype.addFallFloor=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,630,190,0);e.setRectangle(15,15,0,0,0),e.sensor=!0,this.fallFloor=a.GameManager.instance.layerBackground.create(630,190,"level10","dastrFloar_mc instance 10000"),this.game.physics.box2d.enable(this.fallFloor),this.fallFloor.pivot.set(85,0),this.fallFloor.body.setRectangle(160,15,-85),this.fallFloor.body.setCollisionMask(a.FilterGroups.IGNORE_CAR),this.fallFloor.body.kinematic=!0,this.game.physics.box2d.revoluteJoint(e,this.fallFloor,0,0,0,0,0,0,!1,-120,0,!0)},t.prototype.addRocket=function(){this.updateElements.push(new a.Lvl10Rocket(this.game,679,448))},t.prototype.addSelector=function(){this.wires=a.GameManager.instance.layerBackground.create(359,81,"level10","wires instance 10000"),this.selector=this.game.make.button(594,120,"level10",this.useSelector,this,"selector instance 10001","selector instance 10000","selector instance 10000","selector instance 10000"),this.selector.anchor.set(.5),a.GameManager.instance.layerBackground.addChild(this.selector)},t.prototype.useSelector=function(){this.wires.alpha=0,this.selector.inputEnabled=!1,this.game.add.tween(this.selector).to({angle:this.selector.angle-90},500,"Linear",!0).onComplete.add(this.checkSelector,this),this.laser2.off()},t.prototype.checkSelector=function(){this.selector.inputEnabled=!0,this.selector.input.useHandCursor=!0,this.selectorUseCount+=1,3===this.selectorUseCount?this.selectorUseCount=-1:(this.game.add.tween(this.wires).to({alpha:1},200,"Linear",!0),this.laser2.on())},t.prototype.addLasers=function(){var e=new a.Lvl10Laser(this.game,174,60,1);e.addWire(),a.GameManager.instance.layerElements.addChild(e),this.laser2=new a.Lvl10Laser(this.game,347,60,2),a.GameManager.instance.layerElements.addChild(this.laser2)},t.prototype.addGround=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,227,190,0);e.setRectangle(458,15,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,595,267,0)).setRectangle(15,304,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,448,368,0)).setRectangle(15,344,0,0,0)},t.prototype.update=function(){i.prototype.update.call(this),!1===this.openFloor&&515<a.GameManager.instance.hero.bodyBase.x&&(this.openFloor=!0,this.fallFloor.body.dynamic=!0,a.SoundManager.playSFX("s_collapse")),!0===this.showCloud&&(this.cloudTimer+=1,120===this.cloudTimer?(this.cloud1.setIcon(0),this.cloud1.show()):200===this.cloudTimer?this.cloud1.hide():230===this.cloudTimer?(this.cloud2.show(),this.cloud3.show()):290===this.cloudTimer?(this.cloud2.hide(),this.cloud3.hide()):320===this.cloudTimer?(this.cloud1.show(),this.cloud1.setIcon(3)):380===this.cloudTimer?this.cloud1.setIcon(4):440===this.cloudTimer?this.cloud1.setIcon(5):500===this.cloudTimer&&(this.cloud1.hide(),this.cloudTimer=0)),!1===this.surprise&&450<a.GameManager.instance.hero.bodyBase.y&&(this.surprise=!0,this.showCloud=!1,this.cloud1.hide(),this.cloud2.hide(),this.cloud3.hide(),this.car1.play("surprise"),this.car2.play("surprise"),this.car3.play("surprise"),this.car4.play("surprise"))},t.prototype.clickQuestCar=function(){i.prototype.clickQuestCar.call(this),this.monitor.hideQuestCar()},t.prototype.free=function(){i.prototype.free.call(this),this.selector=null,this.wires=null,this.laser2=null,this.fallFloor=null,this.car1=null,this.car2=null,this.car3=null,this.car4=null,this.car4Group=null,this.car4Wheel1=null,this.car4Wheel2=null,this.carTween1=null,this.carTween2=null,this.carTween3=null,this.cloud1.free(),this.cloud1=null,this.cloud2.free(),this.cloud2=null,this.cloud3.free(),this.cloud3=null,this.monitor=null},a.Level10=t})(Wheely=Wheely||{}),(e=>{var s,t;function a(e){e=t.call(this,e)||this;return e.checkpointCount=0,e.fuelX=0,e.hideFuel=!1,e.burningFuel=!1,e.fireParts=new Array,e.gameOver=!1,e.counter=0,e.antennaCounUse=0,e.currentIco=0,e.cloudTimer=0,e.cloudDelay=0,s.GameManager.instance.layerBackground0.create(0,0,"bgLevel11_1"),s.GameManager.instance.layerUpper.create(0,0,"bgLevel11_2"),e.addRocket(),e.addBgElements(),e.addCheckPoints(),e.addLaunchButton(),e.addBackWall(),e.addAntenna(),e.addCar(),e.game.input.onDown.add(e.mouseDragStart,e),e.game.input.addMoveCallback(e.mouseDragMove,e),e.game.input.onUp.add(e.mouseDragEnd,e),e}s=e.Client||(e.Client={}),t=s.BasicLevel,__extends(a,t),a.prototype.addCar=function(){s.GameManager.instance.layerElements.create(-32,139,"level11","back instance 10000"),this.car=s.GameManager.instance.layerElements.create(40,155,"level11Effects","nascCar instance 10000"),this.car.scale.set(1.15),this.car.animations.add("move",Phaser.Animation.generateFrameNames("nascCar instance 1",0,447,"",4),35,!0),this.car.play("move"),this.cloud=s.GameManager.instance.layerUpper.create(143,179,"level11","nascBubble_mc instance 10000"),this.cloud.anchor.set(0,1),this.ico=this.game.make.sprite(3,-31,"level11","icon instance 10000"),this.cloud.addChild(this.ico)},a.prototype.addAntenna=function(){this.antenna=s.GameManager.instance.layerUpper.create(198,232,"level11","antenna instance 10030"),this.antenna.animations.add("down",Phaser.Animation.generateFrameNames("antenna instance 1",0,29,"",4),35,!1).onComplete.add(function(){this.waves.x=295,this.waves.y=295,this.waves.angle=60},this),this.antenna.animations.add("up",Phaser.Animation.generateFrameNames("antenna instance 1",30,85,"",4),35,!1).onComplete.add(this.checkCar,this),this.antenna.inputEnabled=!0,this.antenna.input.useHandCursor=!0,this.antenna.events.onInputUp.add(this.useAntenna,this),this.waves=s.GameManager.instance.layerUpper.create(295,295,"level6","waves instance 10000"),this.waves.animations.add("move",Phaser.Animation.generateFrameNames("waves instance 1",0,38,"",4),35,!1).onComplete.add(function(){this.waves.visible=!1},this),this.waves.angle=60},a.prototype.useAntenna=function(){s.SoundManager.playSFX("s_anten"),this.antennaCounUse+=1,this.antennaCounUse%2==0?this.antenna.play("down"):this.antenna.play("up")},a.prototype.checkCar=function(){this.rocket.checkCar(),this.waves.visible=!0,this.waves.x=295,this.waves.y=260,this.waves.angle=-5,this.waves.play("move"),s.SoundManager.playSFX("s_antenSignal")},a.prototype.addBgElements=function(){var e=s.GameManager.instance.layerUpper.create(215,539,"level11","electroWire instance 10000");e.animations.add("move",Phaser.Animation.generateFrameNames("electroWire instance 1",0,52,"",4),35,!0),e.play("move"),this.addQuestWheel(11,189,23,s.GameManager.instance.layerUpper)},a.prototype.addRocket=function(){this.rocket=new s.Lvl11Rocket(this.game),this.updateElements.push(this.rocket)},a.prototype.addCheckPoints=function(){this.checkPoint1=s.GameManager.instance.layerUpper.create(42,354,"level11","checkPoint instance 10000"),this.checkPoint1.anchor.set(.5),this.checkPoint2=s.GameManager.instance.layerUpper.create(104,354,"level11","checkPoint instance 10002"),this.checkPoint2.anchor.set(.5),this.checkPoint3=s.GameManager.instance.layerUpper.create(166,354,"level11","checkPoint instance 10004"),this.checkPoint3.anchor.set(.5)},a.prototype.addLaunchButton=function(){this.launchButton=this.game.make.button(104,470,"level11",this.launchRocket,this,"launchButton instance 10001","launchButton instance 10000","launchButton instance 10000","launchButton instance 10002"),this.launchButton.anchor.set(.5),s.GameManager.instance.layerUpper.addChild(this.launchButton),this.door1=s.GameManager.instance.layerUpper.create(54,415,"level11","door instance 10000"),this.door2=s.GameManager.instance.layerUpper.create(156,415,"level11","door instance 10000"),this.door2.scale.x=-1,s.GameManager.instance.layerUpper.create(44,411,"level11","korob instance 10000");var e=new Phaser.Graphics(this.game,44,411);e.beginFill(0),e.drawRect(0,0,122,116),e.endFill(),s.GameManager.instance.layerUpper.addChild(e),this.door1.mask=e,this.door2.mask=e},a.prototype.openDoors=function(){s.SoundManager.playSFX("s_doorOut"),this.game.add.tween(this.door1).to({x:this.door1.x-55},500,"Linear",!0),this.game.add.tween(this.door2).to({x:this.door2.x+55},500,"Linear",!0)},a.prototype.goToCheckpoint=function(e){!0!==this.gameOver&&(this.checkpointCount++,1===e?(this.game.add.tween(this.wall).to({x:680},2500,"Linear",!0).onComplete.addOnce(function(){this.wall.setEnabled()},this),this.wall.oxygen.move(),this.checkPoint1.frameName="checkPoint instance 10001"):2===e?this.checkPoint2.frameName="checkPoint instance 10003":3===e&&(this.checkPoint3.frameName="checkPoint instance 10005"),3===this.checkpointCount&&this.openDoors(),s.SoundManager.playSFX("s_done"))},a.prototype.launchRocket=function(){s.SoundManager.playSFX("s_rockeLaunch"),s.SoundManager.playSFX("s_redButton"),this.game.time.events.add(1500,function(){s.SoundManager.playSFX("s_spaceOut")},this),this.wall.oxygen.pushOxygenHandler(),this.rocket.useFirebug(),this.launchButton.inputEnabled=!1,this.launchButton.events.onInputUp.removeAll(),this.launchButton.frameName="launchButton instance 10002",this.rocket.flyAway(),this.addSmoke()},a.prototype.addSmoke=function(){var e=s.GameManager.instance.layerElements.create(285,570,"level11",""),t=(e.anchor.set(.5,1),e.scale.set(2.5),e.animations.add("move",Phaser.Animation.generateFrameNames("rocketLau_mc instance 1",0,58,"",4),18,!1),e.play("move"),s.GameManager.instance.layerElements.create(655,570,"level11",""));t.anchor.set(.5,1),t.scale.set(2.5),t.scale.x*=-1,t.animations.add("move",Phaser.Animation.generateFrameNames("rocketLau_mc instance 1",0,58,"",4),18,!1),t.play("move"),this.game.add.tween(e).to({alpha:0},800,"Linear",!0,2300),this.game.add.tween(t).to({alpha:0},800,"Linear",!0,2300)},a.prototype.addBackWall=function(){this.wall=new s.Lvl11BackWall(this.game),this.wall.x=910,s.GameManager.instance.layerUpper.addChildAt(this.wall,0)},a.prototype.addFuelFail=function(e,t){this.fuelX=e,this.fuel=s.GameManager.instance.layerUpper.create(e,t,"level11","fuelFail instance 10000",!0,0),this.fuel.anchor.set(.5,0),this.fuel.animations.add("fail",Phaser.Animation.generateFrameNames("fuelFail instance 1",0,29,"",4),35,!1).onComplete.addOnce(function(){this.fuel.play("loop")},this),this.fuel.animations.add("loop",Phaser.Animation.generateFrameNames("fuelFail instance 1",30,40,"",4),35,!0),this.fuel.play("fail");e=new Phaser.Graphics(this.game,e,t);e.beginFill(0),e.drawRect(-5,0,10,165),e.endFill(),s.GameManager.instance.layerElements.addChild(e),this.fuel.mask=e,this.fuelGround=s.GameManager.instance.layerElements.create(685,566,"level11","fuelOnGround instance 10000"),this.fuelGround.anchor.set(.79,0),this.fuelGround.scale.x=0,this.game.add.tween(this.fuelGround.scale).to({x:1},2e3,"Linear",!0,1e3),this.game.add.tween(this.fuelGround).to({y:564},2e3,"Linear",!0,1e3).onComplete.add(this.addFire,this),s.SoundManager.playSFX("s_fuelGround")},a.prototype.addFire=function(){this.burningFuel=!0,this.game.add.tween(this.fuelGround).to({x:1300},4e3,"Linear",!0)},a.prototype.update=function(){t.prototype.update.call(this),!0===this.burningFuel&&(this.spawnFireSide(this.fuelGround.x-470,this.fuelGround.y-43,.7+.5*Math.random()),this.fuelGround.x-445>=this.fuelX)&&(!1===this.hideFuel&&(this.hideFuel=!0,this.game.add.tween(this.fuel).to({y:this.fuel.y-140},800,"Linear",!0).onComplete.add(this.addExplosion,this)),this.spawnFireSide(this.fuel.x-20,this.fuel.y+95,.7+.5*Math.random())),!0===this.gameOver&&(this.counter+=1,30===this.counter)&&s.LevelBuilder.instance.levelFailed(),this.cloudTimer+=1,this.cloudTimer>=this.cloudDelay&&(this.cloudTimer=0,this.cloudDelay=this.game.rnd.integerInRange(240,360),this.currentIco+=1,3<this.currentIco&&(this.currentIco=0),this.ico.frameName="icon instance 1000"+this.currentIco,this.game.add.tween(this.cloud.scale).to({x:1,y:1},300,"Linear",!0)),120===this.cloudTimer&&this.cloud.scale.set(0)},a.prototype.spawnFireSide=function(e,t,a){for(var i=0;i<this.fireParts.length;i++)if(!1===this.fireParts[i].visible)return this.fireParts[i].reset(e,t),this.fireParts[i].scale.setTo(a),void this.fireParts[i].animations.play("anim");var n=s.GameManager.instance.layerUpper.create(e,t,"level8","meteorTrackParticle instance 10000",!0,0);n.animations.add("anim",Phaser.Animation.generateFrameNames("meteorTrackParticle instance 1",0,14,"",4),35,!1).killOnComplete=!0,n.animations.play("anim"),n.scale.setTo(a),this.fireParts.push(n)},a.prototype.addExplosion=function(){var e=s.GameManager.instance.layerUpper.create(this.fuel.x,this.fuel.y,"level11Effects","explosionFuel instance 10000");e.anchor.set(.5),e.scale.set(3),e.animations.add("boom",Phaser.Animation.generateFrameNames("explosionFuel instance 1",0,30,"",4),35,!1).killOnComplete=!0,e.play("boom"),e=null,this.wall.fuelTank.crush(),this.rocket.crush(),this.fuel.visible=!1,this.burningFuel=!1;for(var t=0;t<this.fireParts.length;t++)this.fireParts[t].kill();this.gameOver=!0},a.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position)},a.prototype.mouseDragMove=function(){null!==this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},a.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},a.prototype.free=function(){t.prototype.free.call(this),this.checkPoint1=null,this.checkPoint2=null,this.checkPoint3=null,this.wall=null,this.rocket=null,this.launchButton=null,this.door1=null,this.door2=null,this.fuel=null,this.fuelGround=null,this.fireParts=[],this.fireParts=null,this.antenna=null,this.waves=null,this.car=null,this.cloud=null,this.ico=null},s.Level11=a})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this,e)||this,a=(t.questCarDoorOpened=!1,t.currTvStep=1,t.activeBodyKin=!1,t.checkDownAfterFinish=!0,t.checkDownAfterFinishCount=!0,t.heroInSpaceB=0,t.heroInSpaceCounter=0,t.door2Counter=0,t.game.physics.box2d.world.SetGravity(new box2d.b2Vec2(0,0)),i.GameManager.instance.layerBackground.create(0,0,"bgLevel12_1"));return a.cacheAsBitmap=!0,t.door1=new i.Lvl12Door(e,590,131,102,"door2",14),t.updateElements.push(t.door1),t.door2=new i.Lvl12Door(e,353,178,0,"door2",14),t.updateElements.push(t.door2),t.door3=new i.Lvl12Door(e,146,245,90,"door2",10),t.updateElements.push(t.door3),t.wind=i.GameManager.instance.layerBackground.create(605,165,"level12"),t.wind.animations.add("open",Phaser.Animation.generateFrameNames("wind0 instance 1",0,8,"",4),30,!1).onComplete.add(t.windToLoop,t),t.wind.animations.add("close",Phaser.Animation.generateFrameNames("wind0 instance 1",8,0,"",4),30,!1).onComplete.add(t.windHide,t),t.wind.animations.add("loop",Phaser.Animation.generateFrameNames("wind0 instance 1",9,16,"",4),30,!0),t.wind.visible=!1,t.wind.angle=-70,t.wind2=i.GameManager.instance.layerBackground.create(605,240,"level12"),t.wind2.animations.add("anim",Phaser.Animation.generateFrameNames("wind instance 1",0,60,"",4),30,!0),t.wind2.visible=!1,t.wind2.angle=-70,t.outDoor1=new i.Lvl12Door(e,686,100,-159,"door1",14),t.updateElements.push(t.outDoor1),t.buttonout=i.GameManager.instance.layerBackground.create(42,551,"level12","button_out instance 10000"),t.buttonout.animations.add("anim",Phaser.Animation.generateFrameNames("button_out instance 1",0,27,"",4),30,!1).onComplete.addOnce(function(){this.outDoor2.activate()},t),t.outDoor2=new i.Lvl12Door(e,73,577,0,"door1",14),t.updateElements.push(t.outDoor2),t.radars=new i.Lvl12Radars(e),t.updateElements.push(t.radars),t.addQuestWheel(12,522,217,i.GameManager.instance.layerBackground),(a=i.GameManager.instance.layerBackground.create(733,161,"level12")).animations.add("anim",Phaser.Animation.generateFrameNames("tv1 instance 1",0,119,"",4),30,!0),a.animations.play("anim"),t.bomb=i.GameManager.instance.layerBackground.create(72,363,"level12","bomb instance 10000"),t.game.physics.box2d.enable(t.bomb),t.bomb.body.setRectangle(60,30),t.bomb.body.kinematic=!0,(a=e.make.sprite(16,-17,"level12")).animations.add("anim",Phaser.Animation.generateFrameNames("bombLamp instance 1",0,14,"",4),30,!0),a.animations.play("anim"),t.bomb.addChild(a),t.digger=i.GameManager.instance.layerBackground.create(64,451,"level12","digger instance 10000"),t.game.physics.box2d.enable(t.digger),t.digger.body.setRectangle(50,42),t.digger.body.kinematic=!0,i.GameManager.instance.hero=new i.Hero(e,657,326),i.GameManager.instance.hero.angleKeep=i.Tools.toRad(30),i.GameManager.instance.hero.bodyBase.addRectangle(40,10,0,-25).m_filter.categoryBits=i.FilterGroups.CAR1,i.GameManager.instance.hero.bodyBase.angle=-4,t.puzzle=new i.Lvl12Puzzle(e),t.updateElements.push(t.puzzle),t.rocketBelt=i.GameManager.instance.layerElements.create(659,334,"level12","rocketBelt instance 10000"),t.rocketBelt.anchor.setTo(.5),t.game.add.tween(t.rocketBelt).to({alpha:0},2e3,Phaser.Easing.Linear.None,!0).onComplete.addOnce(t.rocketBeltComp,t),t.spaceSuit=new i.Lvl12SpaceSuit(e),t.updateElements.push(t.spaceSuit),(a=i.GameManager.instance.layerUpper.create(0,11,"bgLevel12_2")).cacheAsBitmap=!0,t.pult=new i.Lvl12Pult(e),t.updateElements.push(t.pult),t.addQuestCar(60,130,i.GameManager.instance.layerUpper),!1===t.questCarFounded&&(t.questCar.inputEnabled=!1),t.questCarDoor=i.GameManager.instance.layerUpper.create(-36,86,"level12","questCarDoor instance 10000"),t.questCarDoor.animations.add("anim",Phaser.Animation.generateFrameNames("questCarDoor instance 1",0,38,"",4),30,!1),(a=i.GameManager.instance.layerUpper.create(735,312,"level12")).animations.add("anim",Phaser.Animation.generateFrameNames("tv2Meteor instance 1",0,26,"",4),30,!0),a.animations.play("anim"),(a=i.GameManager.instance.layerUpper.create(736,312,"level12")).animations.add("anim",Phaser.Animation.generateFrameNames("tv2Polosa instance 1",0,71,"",4),30,!0),a.animations.play("anim"),a=i.GameManager.instance.layerUpper.create(733,314,"level12","tv2Border instance 10000"),t.createBtns(),t.createFixings(),a=null,t.addGround(),t.game.input.onDown.add(t.mouseDragStart,t),t.game.input.addMoveCallback(t.mouseDragMove,t),t.game.input.onUp.add(t.mouseDragEnd,t),t.finish=new i.Finish(e,1,522),t.updateElements.push(t.finish),t.bodyKin=new Phaser.Physics.Box2D.Body(e,null,0,0,1),t.bodyKin.setRectangle(130,80),t.bodyKin.setCollisionMask(~i.FilterGroups.IGNORE_CAR),i.SoundManager.playSFX("s_spaceAmbient",!0),t}i=e.Client||(e.Client={}),n=i.BasicLevel,__extends(t,n),t.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},t.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},t.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},t.prototype.customAction=function(e){1===(e=void 0===e?0:e)?this.mouseDragStart():2===e&&this.pult.show()},t.prototype.createBtns=function(){var e=this.game.make.button(624,432,"level12",this.btn1Press,this,"btn1 instance 10001","btn1 instance 10000");i.GameManager.instance.layerUpper.add(e),e=this.game.make.button(703,402,"level12",this.btn2Press,this,"btn2 instance 10001","btn2 instance 10000"),i.GameManager.instance.layerUpper.add(e),(e=this.game.make.button(348,361,"level12",this.tvCenterPress,this,"centerTv instance 10001","centerTv instance 10000")).anchor.setTo(.5),i.GameManager.instance.layerUpper.add(e),this.centerTvStep=i.GameManager.instance.layerUpper.create(308,337,"level12"),this.centerTvStep.animations.add("anim1",Phaser.Animation.generateFrameNames("centerTvStep instance 1",0,18,"",4),30,!0),this.centerTvStep.animations.add("anim2",Phaser.Animation.generateFrameNames("centerTvStep instance 1",19,19,"",4),30,!1),this.centerTvStep.animations.add("anim3",Phaser.Animation.generateFrameNames("centerTvStep instance 1",20,56,"",4),30,!0),this.centerTvStep.animations.play("anim1")},t.prototype.createFixings=function(){this.fixing1=i.GameManager.instance.layerUpper.create(50,341,"level12","fixing instance 10000"),this.fixing1.animations.add("anim",Phaser.Animation.generateFrameNames("fixing instance 1",0,16,"",4),30,!1),this.fixing2=i.GameManager.instance.layerUpper.create(50,430,"level12","fixing instance 10000"),this.fixing2.animations.add("anim",Phaser.Animation.generateFrameNames("fixing instance 1",0,16,"",4),30,!1)},t.prototype.btn1Press=function(){this.jointSpace||(this.outDoor1.activate(),!1===this.wind.visible?(this.wind.visible=!0,this.wind.animations.play("open"),this.checkGoInSpace()):(this.wind.animations.play("close"),this.wind2.animations.stop(),this.wind2.visible=!1))},t.prototype.checkGoInSpace=function(){!1===this.outDoor1.doorOpened||!0===this.puzzle.active||i.GameManager.instance.hero.bodyBase.x<550&&!1===this.door1.doorOpened||(this.jointSpace=this.game.physics.box2d.distanceJoint(this.bodySpace,i.GameManager.instance.hero.bodyBase,0,0,0,0,0,.5,.5))},t.prototype.windToLoop=function(){this.wind.animations.play("loop"),this.wind2.visible=!0,this.wind2.animations.play("anim")},t.prototype.windHide=function(){this.wind.visible=!1},t.prototype.btn2Press=function(){1===this.currTvStep?(this.door1.activate(),this.checkGoInSpace()):2===this.currTvStep?(i.SoundManager.playSFX("s_signal"),this.radars.activate()):3===this.currTvStep&&(this.openQuestCarDoor(),i.SoundManager.playSFX("s_doorSpace"))},t.prototype.tvCenterPress=function(){this.currTvStep+=1,4===this.currTvStep&&(this.currTvStep=1),i.SoundManager.playSFX("s_clickMonitor"),this.centerTvStep.animations.play("anim"+this.currTvStep),this.radars.close()},t.prototype.openQuestCarDoor=function(){!0!==this.questCarDoorOpened&&(this.questCarDoorOpened=!0,this.questCarDoor.animations.play("anim"),!1===this.questCarFounded)&&(this.questCar.inputEnabled=!0,this.questCar.input.useHandCursor=!0)},t.prototype.update=function(){n.prototype.update.call(this),1===this.heroInSpaceB&&(0===this.heroInSpaceCounter&&this.jointSpace.SetFrequency(10),this.heroInSpaceCounter+=1,60<=this.heroInSpaceCounter)&&(this.heroInSpaceB=2,i.LevelBuilder.instance.levelFailed()),4===this.door2Counter&&(this.door2Counter=5,this.bomb.body.dynamic=!0,this.digger.body.dynamic=!0,this.fixing1.animations.play("anim"),this.fixing2.animations.play("anim")),!0===this.activeBodyKin&&(this.bodyKin.x=i.GameManager.instance.hero.bodyBase.x,this.bodyKin.y=i.GameManager.instance.hero.bodyBase.y),!0===this.finish.stop&&!0===this.checkDownAfterFinish&&(!0===this.checkDownAfterFinishCount&&(this.checkDownAfterFinishCount=!1,this.pult.deactivate(!0)),i.GameManager.instance.hero.bodyBase.applyForce(0,4),800<i.GameManager.instance.hero.bodyBase.y)&&(this.checkDownAfterFinish=!1)},t.prototype.rocketBeltComp=function(){this.rocketBelt.destroy(),this.game.physics.box2d.world.DestroyJoint(this.jointToHero),i.GameManager.instance.hero.bodyBase.velocity.y=-20,i.GameManager.instance.hero.bodyBase.linearDamping=.5,i.GameManager.instance.hero.bodyBase.angularDamping=.5},t.prototype.heroInSpace=function(){0===this.heroInSpaceB&&(this.heroInSpaceB=1)},t.prototype.addGround=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,660,385,0);e.setRectangle(207,20),e.angle=-4,(e=new Phaser.Physics.Box2D.Body(this.game,null,766,260,0)).setRectangle(24,252),e.angle=14,(e=new Phaser.Physics.Box2D.Body(this.game,null,417,52,0)).setRectangle(330,24),(e=new Phaser.Physics.Box2D.Body(this.game,null,569,276,0)).setRectangle(40,200),e.angle=-2,(e=new Phaser.Physics.Box2D.Body(this.game,null,356,579,0)).setRectangle(432,20),(e=new Phaser.Physics.Box2D.Body(this.game,null,583,494,0)).setRectangle(42,176),(e=new Phaser.Physics.Box2D.Body(this.game,null,115,104,0)).setRectangle(294,144),(e=new Phaser.Physics.Box2D.Body(this.game,null,-22,380,0)).setRectangle(38,408),(e=new Phaser.Physics.Box2D.Body(this.game,null,144,460,0)).setRectangle(12,314),(e=new Phaser.Physics.Box2D.Body(this.game,null,260,70,0)).setRectangle(35,69),e.angle=36,(e=new Phaser.Physics.Box2D.Body(this.game,null,602,53,0)).setCircle(25),(e=new Phaser.Physics.Box2D.Body(this.game,null,771,121,0)).setCircle(25),(e=new Phaser.Physics.Box2D.Body(this.game,null,275,243,0)).setRectangle(20,113),e.setCollisionCategory(i.FilterGroups.TRUCK),(e=new Phaser.Physics.Box2D.Body(this.game,null,278,179,0)).setCircle(8),(e=new Phaser.Physics.Box2D.Body(this.game,null,413,177,0)).setCircle(6),(e=new Phaser.Physics.Box2D.Body(this.game,null,492,178,0)).setRectangle(160,12),(e=new Phaser.Physics.Box2D.Body(this.game,null,347,356,0)).setRectangle(106,106),(e=new Phaser.Physics.Box2D.Body(this.game,null,1037,263,0)).setRectangle(100,100),(e=new Phaser.Physics.Box2D.Body(this.game,null,657,326,0)).setRectangle(10,10),e.sensor=!0,this.jointToHero=this.game.physics.box2d.revoluteJoint(e,i.GameManager.instance.hero.bodyBase),this.bodySpace=new Phaser.Physics.Box2D.Body(this.game,null,800,-100,0),this.bodySpace.setRectangle(10,10),this.bodySpace.sensor=!0,(e=new Phaser.Physics.Box2D.Body(this.game,null,798,-5,0)).setRectangle(328,18),e.sensor=!0,e.angle=24,e.setBodyContactCallback(i.GameManager.instance.hero.bodyBase,this.heroInSpace,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,352,160,0)).setRectangle(100,32),e.sensor=!0,e.setBodyContactCallback(i.GameManager.instance.hero.bodyBase,this.openDoor2,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,349,285,0)).setRectangle(100,11),e.sensor=!0,e.setBodyContactCallback(i.GameManager.instance.hero.bodyBase,this.closeDoor2,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,159,239,0)).setRectangle(42,100),e.sensor=!0,e.setBodyContactCallback(i.GameManager.instance.hero.bodyBase,this.openDoor3,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,114,245,0)).setRectangle(10,100),e.sensor=!0,e.setBodyContactCallback(i.GameManager.instance.hero.bodyBase,this.activateElements,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,70,554,0)).setRectangle(100,10),e.sensor=!0,e.setBodyContactCallback(this.digger.body,this.openOutDoor2,this)},t.prototype.openDoor2=function(){0===this.door2Counter&&(this.door2Counter=1,this.door2.activate())},t.prototype.closeDoor2=function(){1===this.door2Counter&&(this.door2Counter=2,this.door2.activate(),this.puzzle.activate(),this.activeBodyKin=!0)},t.prototype.openDoor3=function(){2===this.door2Counter&&(this.door2Counter=3,this.door3.activate())},t.prototype.activateElements=function(){3===this.door2Counter&&(this.door2Counter=4)},t.prototype.openOutDoor2=function(){5===this.door2Counter&&(this.activeBodyKin=!1,this.door2Counter=6,this.buttonout.animations.play("anim"))},t.prototype.free=function(){this.game.physics.box2d.world.SetGravity(new box2d.b2Vec2(0,-500/this.game.physics.box2d.ptmRatio)),n.prototype.free.call(this),this.fixing1=null,this.fixing2=null,this.questCarDoor=null,this.bomb=null,this.digger=null,this.pult=null,this.spaceSuit=null,this.puzzle=null,this.centerTvStep=null,this.door1=null,this.door2=null,this.door3=null,this.outDoor1=null,this.wind=null,this.wind2=null,this.outDoor2=null,this.radars=null,this.jointToHero=null,this.rocketBelt=null,this.bodySpace=null,this.jointSpace=null,this.buttonout=null,this.bodyKin=null,this.finish=null},i.Level12=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this,e)||this,a=(t.bombTime=45,t.updateBombTime=!0,t.timeTime=2700,t.holeReady=!1,t.lastLitme=0,t.bombActivet=!1,t.softEarth=!1,t.stepCut=0,t.game.physics.box2d.world.SetGravity(new box2d.b2Vec2(0,0)),i.GameManager.instance.layerBackground0.create(0,0,"bgLevel13_1"));return a.cacheAsBitmap=!0,(a=i.GameManager.instance.layerBackground.create(-260,745,"bgLevel13_2")).anchor.setTo(.5),t.sputnik=new i.Lvl13Sputnik(e),t.updateElements.push(t.sputnik),t.cometa=new i.Lvl13SmallMeteor(e),t.updateElements.push(t.cometa),t.addQuestWheel(13,70,430,i.GameManager.instance.layerBackground),t.bombTimer=i.GameManager.instance.layerBackground.create(70,520,"level13","bombTimer instance 10000"),t.bombTimer.anchor.setTo(.5),t.bombTimerText=e.make.text(0,17,"45",{font:"60px Arial",fill:"#87E8FF",align:"center"}),t.bombTimerText.anchor.set(.5),t.bombTimer.addChild(t.bombTimerText),t.moon=i.GameManager.instance.layerBackground.create(40,260,"level13","moon instance 10000"),t.bomb=new i.Lvl13Bomb(e,t),t.updateElements.push(t.bomb),t.digger=new i.Lvl13Digger(e,t),t.updateElements.push(t.digger),i.GameManager.instance.hero=new i.Hero(e,493,60),i.GameManager.instance.hero.addSpaceSuit(!0),i.GameManager.instance.hero.setKeepAngle(!1),t.meteor=new i.Lvl13Meteor(e),t.updateElements.push(t.meteor),!1===t.questCarFounded&&(t.fakeCar=i.GameManager.instance.layerElements.create(500,270,"level13","fakeQuestCar instance 10000"),t.fakeCar.anchor.setTo(.5)),t.meteor.createWind(),t.btnsPutEl=new i.Lvl13BtnPutElements(e),t.updateElements.push(t.btnsPutEl),t.jointBomb=e.physics.box2d.distanceJoint(t.bomb.graphic,t.meteor.graphic,0,0,0,0,0,.35,.35),t.jointBomb.m_collideConnected=!0,t.jointDigger=e.physics.box2d.distanceJoint(t.digger.graphic,t.meteor.graphic,0,0,0,0,0,.35,.35),t.jointDigger.m_collideConnected=!0,t.jointHero=e.physics.box2d.distanceJoint(i.GameManager.instance.hero.bodyBase,t.meteor.graphic,0,0,0,0,0,.35,.35),t.jointHero.m_collideConnected=!0,t.expMeteor=new i.Lvl13ExpMeteor(e),t.updateElements.push(t.expMeteor),t.smallPlanet=new i.Lvl13SmallEarth(e),t.updateElements.push(t.smallPlanet),a=null,t}i=e.Client||(e.Client={}),n=i.BasicLevel,__extends(t,n),t.prototype.clickQuestCar=function(){n.prototype.clickQuestCar.call(this),this.fakeCar.destroy()},t.prototype.addRealQuestWheel=function(e,t){var a;!1===this.questCarFounded&&(a=i.GameManager.instance.layerElements.toGlobal(new PIXI.Point(this.fakeCar.x,this.fakeCar.y)),a=e.toLocal(a,i.GameManager.instance.layerElements),this.addQuestCar(a.x,a.y,e,-1,-10-t))},t.prototype.customAction=function(e){0===(e=void 0===e?0:e)?i.GameManager.instance.hero.turbine1Activate():1===e?2===this.digger.taked?(this.digger.take(1),this.btnsPutEl.takeDigger(1)):(this.digger.activate(this.softEarth),this.holeReady=this.softEarth):2===e?(this.bomb.activate(),this.timeTime=180,this.game.physics.box2d.world.DestroyJoint(this.jointHero),i.GameManager.instance.hero.setEnableMotor(!1,!1),i.GameManager.instance.hero.clearVelosityX(),i.GameManager.instance.hero.clearVelosityY(),i.GameManager.instance.hero.bodyBase.angularVelocity=0,i.GameManager.instance.hero.bodyBase.fixedRotation=!0):3===e?this.timerBombComp():4===e?this.stepCut=1:5===e&&(this.meteor.deactivate(),this.digger.deactivate())},t.prototype.timerBombComp=function(){var e;!1!==this.updateBombTime&&(this.updateBombTime=!1,this.bombTimer.destroy(),this.bomb.graphic.destroy(),this.btnsPutEl.deactivateAll(),i.SoundManager.playSFX("s_meteorExplosive"),i.SoundManager.stopSFXLoop("s_jet"),0===this.bomb.taked?((e=this.game.make.sprite(this.bomb.graphic.x,this.bomb.graphic.y,"level13")).anchor.setTo(.5,.45),e.scale.setTo(1.75),e.angle=i.Tools.angleOfPoints(this.bomb.graphic.x,this.bomb.graphic.y,this.meteor.graphic.body.x,this.meteor.graphic.body.y)+90,e.animations.add("anim",Phaser.Animation.generateFrameNames("bombExplosion instance 1",0,39,"",4),30,!1).onComplete.addOnce(this.bombExpComp,this),e.animations.play("anim"),i.GameManager.instance.layerElements.addChildAt(e,0)):1===this.bomb.taked?((e=this.game.make.sprite(i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y,"level13")).anchor.setTo(.5,.42),e.scale.setTo(1.75),e.angle=i.Tools.angleOfPoints(i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y,this.meteor.graphic.body.x,this.meteor.graphic.body.y)+90,e.animations.add("anim",Phaser.Animation.generateFrameNames("bombExplosion instance 1",0,39,"",4),30,!1).onComplete.addOnce(this.bombExpComp,this),e.animations.play("anim"),i.GameManager.instance.layerElements.addChildAt(e,0),i.GameManager.instance.hero.setVisibility(!1),this.brokeHero=new i.BrokeHero(this.game,i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y)):this.expMeteor.activateExp())},t.prototype.bombExpComp=function(e,t){e.destroy(),this.customAction(4)},t.prototype.update=function(){n.prototype.update.call(this),!0===this.updateBombTime&&(--this.timeTime,this.bombTime=Math.floor(this.timeTime/60),this.bombTimerText.text=""+this.bombTime,this.bomb.text.text=""+this.bombTime,this.lastLitme!==this.bombTime&&i.SoundManager.playSFX("s_timer"),this.lastLitme=this.bombTime,0===this.bombTime)&&this.timerBombComp(),this.updateCutScene(),!0===i.GameManager.instance.hero.getEnableMotor()&&this.checkSoftEarth(),0===this.digger.taked&&i.Tools.distance(i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y,this.digger.graphic.body.x,this.digger.graphic.body.y)<50?(this.digger.take(),i.SoundManager.playSFX("s_burPick"),this.btnsPutEl.takeDigger()):2===this.digger.taked&&0!==this.bomb.taked&&(i.Tools.distance(i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y,this.digger.point.x,this.digger.point.y)<50?this.btnsPutEl.showHand():this.btnsPutEl.hideHand()),0===this.bomb.taked&&i.Tools.distance(i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y,this.bomb.graphic.body.x,this.bomb.graphic.body.y)<50&&(this.bomb.take(),i.SoundManager.playSFX("s_burPick"),this.btnsPutEl.takeBomb()),!1===this.meteor.destroy&&this.digger.groupSoftDig&&(i.Tools.distance(this.digger.groupSoftDig.x,this.digger.groupSoftDig.y,i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y)<50?!1===this.bombActivet&&(this.bombActivet=!0,this.btnsPutEl.activateBomb()):!0===this.bombActivet&&(this.bombActivet=!1,this.btnsPutEl.deactivateBomb()))},t.prototype.checkSoftEarth=function(){var e=new i.NapeVec2(440-i.GameManager.instance.hero.bodyBase.x,320-i.GameManager.instance.hero.bodyBase.y);.5<e.angle&&e.angle<.9||1.9<e.angle&&e.angle<3.1||-1.6<e.angle&&e.angle<-1?this.softEarth=!0:this.softEarth=!1},t.prototype.updateCutScene=function(){0<this.stepCut&&(this.stepCut+=1,i.GameManager.instance.layerBackground.x=4.87*this.stepCut,i.GameManager.instance.layerBackground.y=3.18*this.stepCut,this.scaleCut=(100-this.stepCut)/100,i.GameManager.instance.layerBackground.scale.setTo(this.scaleCut),i.GameManager.instance.layerElements.scale.setTo(this.scaleCut*this.scaleCut),i.GameManager.instance.layerElements.x=8*this.stepCut,i.GameManager.instance.layerElements.y=.5*this.stepCut,90<this.stepCut)&&(this.stepCut=0,i.GameManager.instance.layerBackground.visible=!1,i.GameManager.instance.layerElements.visible=!1,this.smallPlanet.activate(this.meteor.destroy))},t.prototype.free=function(){this.game.physics.box2d.world.SetGravity(new box2d.b2Vec2(0,-500/this.game.physics.box2d.ptmRatio)),n.prototype.free.call(this),this.bombTimer=null,this.bombTimerText=null,this.moon=null,this.meteor=null,this.sputnik=null,this.cometa=null,this.bomb=null,this.digger=null,this.smallPlanet=null,this.btnsPutEl=null,this.fakeCar=null,this.expMeteor=null,this.jointBomb=null,this.jointDigger=null,this.jointHero=null,this.brokeHero&&this.brokeHero.free(),this.brokeHero=null},i.Level13=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this,e)||this,a=(t.heroFly=!0,t.needRotateWheels=!1,t.sky=i.GameManager.instance.layerBackground0.create(0,0,"bgLevel14_1"),i.GameManager.instance.layerBackground.create(2,616,"bgLevel14_2"),i.GameManager.instance.hero=new i.Hero(t.game,340,435),i.GameManager.instance.hero.setClickable(!1),t.game.make.sprite(55,32,"level14","carBarashut instance 10000")),a=(a.anchor.set(.5),i.GameManager.instance.hero.graphicCar.addChild(a),t.parashut=i.GameManager.instance.layerElements.create(i.GameManager.instance.hero.bodyBase.x,i.GameManager.instance.hero.bodyBase.y,"level14","parashut instance 10000",!0,0),t.parashut.anchor.set(.5,1),t.flyBody=new Phaser.Physics.Box2D.Body(t.game,null,340,485,1),t.flyBody.setRectangle(200,100,0,40),t.connect1=t.game.physics.box2d.revoluteJoint(i.GameManager.instance.hero.bodyBase,t.flyBody,50,55,50,0),t.connect2=t.game.physics.box2d.revoluteJoint(i.GameManager.instance.hero.bodyBase,t.flyBody,-50,55,-50,0),new Phaser.Graphics(e,0,-158)),e=(a.beginFill(0,1),a.drawRect(0,0,800,95),a.endFill(),i.GameManager.instance.layerElements.addChild(a),new Phaser.Graphics(e,0,663));return e.beginFill(0,1),e.drawRect(0,0,800,95),e.endFill(),i.GameManager.instance.layerElements.addChild(e),t.game.add.tween(a).to({y:a.y+100},1700,"Linear",!0),t.game.add.tween(e).to({y:e.y-100},1700,"Linear",!0).onComplete.addOnce(function(){this.game.add.tween(this.flyBody).to({y:this.flyBody.y-163},1600,"Linear",!0),this.game.add.tween(i.GameManager.instance.layerBackground).to({x:i.GameManager.instance.layerBackground.x-256,y:i.GameManager.instance.layerBackground.y-504},2500,"Linear",!0).onComplete.addOnce(function(){this.heroFly=!1,this.loseParashut(),this.game.add.tween(i.GameManager.instance.layerBackground).to({x:i.GameManager.instance.layerBackground.x-110},2500,"Linear",!0)},this)},t),t.grassCutter=i.GameManager.instance.layerBackground.create(968,767,"level14","grasscuter instance 10000"),t}i=e.Client||(e.Client={}),n=i.BasicLevel,__extends(t,n),t.prototype.loseParashut=function(){i.SoundManager.playSFX("s_windParachute"),i.SoundManager.playSFX("s_wind"),this.needRotateWheels=!0,i.GameManager.instance.hero.bodyWheelBack.fixedRotation=!1,i.GameManager.instance.hero.bodyWheelFront.fixedRotation=!1,this.game.add.tween(this.parashut).to({angle:-15},700,"Linear",!0),i.GameManager.instance.hero.bodyBase.data.SetAwake(!0),this.game.add.tween(this.flyBody).to({angle:-11},700,"Linear",!0).onComplete.addOnce(function(){this.game.add.tween(this.flyBody).to({angle:0},150,"Linear",!0),this.game.add.tween(this.parashut).to({angle:-55},1300,"Linear",!0),this.game.add.tween(this.parashut.scale).to({y:1.23},1300,"Linear",!0).onComplete.addOnce(this.hideParashut,this)},this)},t.prototype.hideParashut=function(){this.needRotateWheels=!1,this.game.add.tween(this.parashut).to({x:-400,y:-150,alpha:0},1500,"Linear",!0),i.GameManager.instance.hero.currEyesState=i.EyesState.stand,this.game.add.tween(i.GameManager.instance.hero.graphicEyes).to({x:i.GameManager.instance.hero.graphicEyes.x-5,y:i.GameManager.instance.hero.graphicEyes.y-5},400,"Linear",!0),this.game.add.tween(i.GameManager.instance.hero.graphicEyes.scale).to({x:1.34,y:1.1},400,"Linear",!0).onComplete.addOnce(function(){this.needRotateWheels=!0,i.GameManager.instance.hero.graphicEyes.scale.set(1),i.GameManager.instance.hero.graphicEyes.x+=5,i.GameManager.instance.hero.graphicEyes.y+=5,i.GameManager.instance.hero.setEnableMotor(!0),i.SoundManager.playSFX("s_wheelyForcage"),this.game.add.tween(this.flyBody).to({x:this.flyBody.x+185},1e3,"Linear",!0).onComplete.addOnce(function(){i.GameManager.instance.hero.setEnableMotor(!1),this.pickUp()},this)},this)},t.prototype.pickUp=function(){this.needRotateWheels=!1,i.SoundManager.playSFX("s_pickUp"),this.game.add.tween(this.flyBody).to({x:this.flyBody.x+11},500,"Linear",!0,400),this.game.add.tween(i.GameManager.instance.hero.baseGroup.scale).to({y:.9},500,"Linear",!0,400).onComplete.addOnce(function(){this.grassCutter.x-=127,this.grassCutter.y-=65,this.game.add.tween(i.GameManager.instance.hero.baseGroup.scale).to({y:1.1},200,"Linear",!0).onComplete.addOnce(function(){this.game.add.tween(i.GameManager.instance.hero.baseGroup.scale).to({y:1},200,"Linear",!0)},this),this.game.add.tween(this.grassCutter).to({y:this.grassCutter.y-39},250,"Linear",!0,0,0,!0).onComplete.addOnce(function(){i.LevelBuilder.instance.nextLevel()},this)},this)},t.prototype.update=function(){!0===this.heroFly&&(this.parashut.x=i.GameManager.instance.hero.bodyBase.x-15,this.parashut.y=i.GameManager.instance.hero.bodyBase.y-30),!0===this.needRotateWheels&&(i.GameManager.instance.hero.bodyWheelFront.angle+=3,i.GameManager.instance.hero.bodyWheelBack.angle+=3),i.GameManager.instance.hero.bodyBase.data.SetAwake(!0),i.GameManager.instance.hero.bodyWheelBack.data.SetAwake(!0),i.GameManager.instance.hero.bodyWheelFront.data.SetAwake(!0)},t.prototype.free=function(){n.prototype.free.call(this),this.flyBody=null,this.sky=null,this.background=null,this.connect1=null,this.connect2=null,this.parashut=null,this.needRotateWheels=null,this.grassCutter=null},i.Level14=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this,e)||this,a=(t.showBlackScreen=!1,t.creditsShowed=!1,t.radius=600,i.GameManager.instance.layerBackground.create(0,0,"bgLevel15_1"),i.GameManager.instance.layerBackground.create(380,489,"level1","cutedGrass instance 10000"),i.GameManager.instance.hero=new i.Hero(e,490,450),i.GameManager.instance.hero.setClickable(!1),i.GameManager.instance.hero.setEnableMotor(!0,!1),t.addGround(),t.addGrassCuter(),new Phaser.Graphics(t.game,0,0)),a=(a.beginFill(0),a.drawRect(0,0,800,600),a.endFill(),i.GameManager.instance.layerUpper.addChild(a),t.game.add.tween(a).to({alpha:0},1e3,"Linear",!0),t.blackScreen=e.add.bitmapData(800,600),new Phaser.Sprite(t.game,0,0,t.blackScreen));return a.alpha=.9,i.GameManager.instance.layerUpper.addChild(a),i.SoundManager.playSFX("s_lawnmowerLoop",!0),t}i=e.Client||(e.Client={}),n=i.BasicLevel,__extends(t,n),t.prototype.showCredits=function(){null==this.btnLogo&&(this.btnLogo=this.game.make.button(20,500,"branding_logo",this.goLogo,this),this.btnLogo.alpha=0,this.btnLogo.input.useHandCursor=!0,i.GameManager.instance.layerUpper.addChild(this.btnLogo),h5branding.Branding.outGoingLinksAllowed()||(this.btnLogo.input.useHandCursor=!1,this.btnLogo.input.enabled=!1,this.btnLogo.visible=!1),i.SoundManager.stopSFXLoop("s_lawnmowerLoop"),this.credits=i.GameManager.instance.layerUpper.create(209,20,"credits"),this.credits.alpha=0,this.btnExit=this.game.make.button(400,478,"ui",this.up,this,"btnBigExit instance 10001","btnBigExit instance 10000","btnBigExit instance 10000"),this.btnExit.scale.set(2),this.btnExit.alpha=0,this.btnExit.anchor.set(.5,.5),i.GameManager.instance.layerUpper.addChild(this.btnExit),this.game.add.tween(this.btnLogo).to({alpha:1},1e3,"Linear",!0),this.game.add.tween(this.credits).to({alpha:1},1e3,"Linear",!0),this.game.add.tween(this.btnExit).to({alpha:1},1e3,"Linear",!0))},t.prototype.goLogo=function(){h5branding.Branding.outGoingLinksAllowed()&&h5branding.Branding.openCampaignLink("wheely-5","logo")},t.prototype.up=function(){i.LevelBuilder.instance.exitGame()},t.prototype.drawBlackScreen=function(){!0!==this.creditsShowed&&(this.radius-=5,this.radius<=100?this.showCredits():(this.blackScreen.clear(),this.blackScreen.ctx.fillStyle="#000000",this.blackScreen.ctx.beginPath(),this.blackScreen.ctx.rect(0,0,800,600),this.blackScreen.ctx.arc(685,450,this.radius,0,2*Math.PI,!0),this.blackScreen.ctx.closePath(),this.blackScreen.ctx.fill()))},t.prototype.addGrassCuter=function(){var e=new i.Lvl15GrassCutter(this.game,590,467);this.updateElements.push(e)},t.prototype.addGround=function(){new Phaser.Physics.Box2D.Body(this.game,null,450,509,0).setRectangle(900,20,0,0,0)},t.prototype.update=function(){n.prototype.update.call(this),!0===this.showBlackScreen&&this.drawBlackScreen()},t.prototype.free=function(){n.prototype.free.call(this),this.blackScreen=null,this.btnExit=null,this.btnLogo=null,this.credits=null},i.Level15=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e){var t=n.call(this,e)||this,a=(t.activeDumping=!1,t.heroThinkCounter=!1,t.stopRedCarCounter=0,t.meteorCounter=0,t.meteorStartFalling=!1,t.game.make.graphics(0,0));return a.beginFill(16711680,.4),a.drawRect(140,308,30,250),a.drawRect(505,152,145,370),a.endFill(),i.GameManager.instance.layerBackground.addChild(a),i.GameManager.instance.layerBackground.mask=a,a=null,i.GameManager.instance.layerBackground0.create(0,0,"bgLevel2_1"),t.addQuestWheel(2,394,193,i.GameManager.instance.layerBackground0),t.glass=new i.Lvl2Glass(e,331,392),t.updateElements.push(t.glass),i.GameManager.instance.layerBackground0.create(182,386,"level2","dinoStand instance 10000"),t.dino=new i.Lvl2Dino(e,278,420),t.updateElements.push(t.dino),t.addQuestCarBox(),t.house=new i.Lvl2House,t.updateElements.push(t.house),t.grassCutter=new i.Lvl2GrassCutter(e),t.updateElements.push(t.grassCutter),t.door=new i.Lvl2Door(e,156,414),t.updateElements.push(t.door),t.lift=new i.Lvl2Lift(e,577,247),t.updateElements.push(t.lift),t.btnLiftUp=e.make.button(471,176,"level2",t.stopLift,t),t.btnLiftUp.anchor.setTo(.5),t.btnLiftUp.onInputDown.add(t.liftGoUp,t),t.btnLiftUp.onInputOut.add(t.btnLiftUpOut,t),t.btnLiftUp.onInputOver.add(t.btnLiftUpOver,t),i.GameManager.instance.layerBackground0.add(t.btnLiftUp),t.btnLiftUpOut(),t.btnLiftDown=e.make.button(471,217,"level2",t.stopLift,t),t.btnLiftDown.anchor.setTo(.5),t.btnLiftDown.scale.setTo(1,-1),t.btnLiftDown.onInputOut.add(t.btnLiftDownOut,t),t.btnLiftDown.onInputOver.add(t.btnLiftDownOver,t),t.btnLiftDown.onInputDown.add(t.liftGoDown,t),i.GameManager.instance.layerBackground0.add(t.btnLiftDown),t.btnLiftDownOut(),t.seller=i.GameManager.instance.layerElements.create(688,405,"level2"),t.seller.animations.add("normal",Phaser.Animation.generateFrameNames("sellerEyes instance 1",0,34,"",4),30,!0),t.seller.animations.add("meteor",Phaser.Animation.generateFrameNames("sellerEyes instance 1",35,94,"",4),30,!1).onComplete.addOnce(function(){this.seller.animations.play("normal")},t),t.seller.animations.play("normal"),t.redCar=new i.Lvl2RedCar(e,-100,400),t.updateElements.push(t.redCar),i.GameManager.instance.hero=new i.Hero(e,55,475),t.updateElements.push(new i.ChangeHeroDir(e,"level2",734,258,i.GameManager.instance.layerElements)),t.addGround(),t}i=e.Client||(e.Client={}),n=i.BasicLevel,__extends(t,n),t.prototype.btnLiftUpOut=function(){!1!==this.btnLiftUp.inputEnabled&&(this.btnLiftUp.frameName="btnLift instance 10000")},t.prototype.btnLiftUpOver=function(){!1!==this.btnLiftUp.inputEnabled&&(this.btnLiftUp.frameName="btnLift instance 10001")},t.prototype.btnLiftDownOut=function(){!1!==this.btnLiftDown.inputEnabled&&(this.btnLiftDown.frameName="btnLift instance 10000")},t.prototype.btnLiftDownOver=function(){!1!==this.btnLiftDown.inputEnabled&&(this.btnLiftDown.frameName="btnLift instance 10001")},t.prototype.customAction=function(e){1===(e=void 0===e?0:e)&&(this.btnLiftDown.frameName="btnLift instance 10002",this.btnLiftUp.frameName="btnLift instance 10002",this.btnLiftDown.inputEnabled=!1,this.btnLiftUp.inputEnabled=!1,this.redCar.move(1))},t.prototype.liftGoUp=function(){this.lift.moveUp(this.heroThinkCounter),i.SoundManager.playSFX("s_elevatorButton")},t.prototype.liftGoDown=function(){this.lift.moveDown(),i.SoundManager.playSFX("s_elevatorButton")},t.prototype.stopLift=function(){this.lift.stopMove()},t.prototype.addQuestCarBox=function(){this.addQuestCar(208,340,i.GameManager.instance.layerBackground0),this.questCarBox=i.GameManager.instance.layerBackground0.create(215,329,"level2","questCarBox instance 10000"),this.questCarBox.anchor.set(.5,.5),this.questCarBox.inputEnabled=!0,this.questCarBox.input.useHandCursor=!0,this.questCarBox.input.enableDrag(!0),this.questCarBox.input.boundsRect=new Phaser.Rectangle(this.questCarBox.x-this.questCarBox.width/2,this.questCarBox.y-this.questCarBox.height/2,110,this.questCarBox.height),this.questCarBox.input.setDragLock(!0,!1),this.questCarBox.events.onInputOver.add(this.questCarBoxOver,this),this.questCarBox.events.onInputOut.add(this.questCarBoxOut,this)},t.prototype.questCarBoxOver=function(){this.questCarBox.frameName="questCarBox instance 10001"},t.prototype.questCarBoxOut=function(){this.questCarBox.frameName="questCarBox instance 10000"},t.prototype.update=function(){var e;n.prototype.update.call(this),!0===this.activeDumping&&10<Math.abs(i.GameManager.instance.hero.bodyBase.angle)&&i.GameManager.instance.hero.dumpingAngle(1.2),!0===this.meteorStartFalling&&(this.meteorit.x+=3,this.meteorit.y+=20,this.meteorCounter+=1,5===this.meteorCounter?(this.house.broke1(),this.lift.broke(),i.SoundManager.playSFX("s_meteor1")):12===this.meteorCounter?(this.grassCutter.broke(),this.house.broke2(),this.seller.animations.play("meteor"),i.SoundManager.playSFX("s_meteor2")):20===this.meteorCounter?i.SoundManager.playSFX("s_tinsFall"):29===this.meteorCounter?this.meteorit.destroy():30===this.meteorCounter?(this.glass.broke(),this.dino.broke(),this.house.broke3(),i.SoundManager.playSFX("s_meteor3"),i.SoundManager.playSFX("s_panic")):35===this.meteorCounter&&(this.redCar.broke(),i.GameManager.instance.hero.setClickable(!0),this.meteorStartFalling=!1,e=new i.Finish(this.game,28,478,!0,i.GameManager.instance.layerBackground0),this.updateElements.push(e),this.activeDumping=!(e=null)))},t.prototype.showThink=function(e){if(1===e){i.SoundManager.playSFX("s_dialog"),this.think=i.GameManager.instance.layerElements.create(620,465,"level2","think instance 10000"),this.think.anchor.setTo(0,1),this.think.scale.setTo(0);var t=this.game.make.sprite(10,-47,"level2","grassCutter instance 10000");t.scale.setTo(.6),this.think.addChild(t),t=null,this.game.add.tween(this.think.scale).to({x:1,y:1},200,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.game.add.tween(this.think).to({alpha:1},400,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.game.add.tween(this.think.scale).to({x:0,y:0},400,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.showThink(2)},this)},this)},this)}else if(2===e){for(;0<this.think.children.length;)this.think.removeChildAt(0);this.think.x=690;t=this.game.make.sprite(27,-47,"level2");t.animations.add("anim",Phaser.Animation.generateFrameNames("arrowUP instance 1",0,10,"",4),30,!0),t.animations.play("anim"),this.think.addChild(t),t=null,this.game.add.tween(this.think.scale).to({x:-1,y:1},200,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.game.add.tween(this.think).to({alpha:1},400,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.game.add.tween(this.think.scale).to({x:0,y:0},400,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){for(;0<this.think.children.length;)this.think.removeChildAt(0)},this)},this)},this)}else 3===e&&(i.SoundManager.playSFX("s_jeepDream"),this.think.y=447,this.think.x=155,t=new i.Lvl2Oil(this.game,37,-32,"level2","oil instance 10000"),this.think.addChild(t),t=null,this.game.add.tween(this.think.scale).to({x:1,y:1},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.game.add.tween(this.think).to({alpha:1},4e3,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.game.add.tween(this.think.scale).to({x:0,y:0},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.think.destroy()},this)},this)},this))},t.prototype.addGround=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,100,550,0);e.setRectangle(1200,50),(e=new Phaser.Physics.Box2D.Body(this.game,null,-350,480,0)).setRectangle(10,100),(e=new Phaser.Physics.Box2D.Body(this.game,null,156,180,0)).setRectangle(22,260),(e=new Phaser.Physics.Box2D.Body(this.game,null,660,390,0)).setRectangle(22,264),(e=new Phaser.Physics.Box2D.Body(this.game,null,805,200,0)).setRectangle(10,400),(e=new Phaser.Physics.Box2D.Body(this.game,null,724,257,0)).setRectangle(150,16),(e=new Phaser.Physics.Box2D.Body(this.game,null,410,257,0)).setRectangle(190,16),(e=new Phaser.Physics.Box2D.Body(this.game,null,400,57,0)).setRectangle(800,16),(e=new Phaser.Physics.Box2D.Body(this.game,null,200,470,0)).setRectangle(280,100),e.sensor=!0,e.setBodyContactCallback(i.GameManager.instance.hero.bodyBase,this.controlDoor,this),e.setBodyContactCallback(this.redCar.graphic.body,this.controlDoor,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,630,500,0)).setRectangle(10,50),e.sensor=!0,e.setBodyContactCallback(i.GameManager.instance.hero.bodyBase,this.showHeroThink,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,196,500,0)).setRectangle(10,50),e.sensor=!0,e.setBodyContactCallback(this.redCar.graphic.body,this.stopRedCar,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,375,200,0)).setRectangle(10,40),e.sensor=!0,e.setBodyContactCallback(i.GameManager.instance.hero.bodyBase,this.goMeteor,this)},t.prototype.controlDoor=function(e,t,a,i,n){e===t&&"heroCorpus"!==t.data.GetUserData()||(!0===n?this.door.open():this.door.close())},t.prototype.showHeroThink=function(){!0!==this.heroThinkCounter&&(this.heroThinkCounter=!0,this.showThink(1),i.GameManager.instance.hero.setEnableMotor(!1))},t.prototype.stopRedCar=function(){0===this.stopRedCarCounter&&(this.stopRedCarCounter=1,this.showThink(3),this.redCar.stopMove())},t.prototype.goMeteor=function(){0===this.meteorCounter&&(this.meteorStartFalling=!0,this.meteorCounter=1,this.meteorit=i.GameManager.instance.layerBackground0.create(200,0,"level2","meteorit instance 10000"),this.meteorit.anchor.setTo(.5,.74),this.meteorit.angle=-8,i.SoundManager.playSFX("s_meteor"),i.GameManager.instance.hero.setEnableMotor(!1),i.GameManager.instance.hero.setClickable(!1))},t.prototype.free=function(){n.prototype.free.call(this),this.glass=null,this.door=null,this.lift=null,this.house=null,this.questCarBox=null,this.grassCutter=null,this.seller=null,this.dino=null,this.redCar=null,this.btnLiftDown=null,this.btnLiftUp=null,this.think=null,this.meteorit=null},i.Level2=t})(Wheely=Wheely||{}),(e=>{var n,a;function t(e){var e=a.call(this,e)||this,t=(e.action=0,e.leverOn=!1,e.paralaxElements=new Array,e.levelCars=new Array,e.roadParts=new Array,e.createTimer=0,e.heroBoosted=!1,e.stopUpdateCars=!1,e.tomato=null,e.meteor=null,e.particleTimer=0,e.updateMeteor=!1,e.updateBg=!0,e.canCriateBridge=!1,e.bridgeCreated=!1,e.jump=!1,e.playPigsMusic=!1,e.pigsTimer=0,new Phaser.Graphics(e.game,0,0)),t=(t.beginFill(3531333,1),t.drawRect(0,0,Constants.GAME_WIDTH,Constants.GAME_HEIGHT),t.endFill(),n.GameManager.instance.layerBackground0.addChild(t),e.carGroup1=new Phaser.Group(e.game),n.GameManager.instance.layerElements.addChild(e.carGroup1),e.carGroup2=new Phaser.Group(e.game),n.GameManager.instance.layerElements.addChild(e.carGroup2),n.GameManager.instance.hero=new n.Hero(e.game,150,335),n.GameManager.instance.hero.setEnableMotor(!0,!1),n.GameManager.instance.hero.setClickable(!1),n.GameManager.instance.hero.setCollideWorldBounds(!1),n.GameManager.instance.hero.angleKeep=n.Tools.toRad(30),e.carGroup3=new Phaser.Group(e.game),n.GameManager.instance.layerElements.addChild(e.carGroup3),e.addBgelements(),e.addHeroOnRoad(),new n.Finish(e.game,2250,420));return e.updateElements.push(t),e.emptyButton=e.game.make.button(0,0,"",e.slickOnCar,e),e.emptyButton.anchor.set(.5),e.emptyButton.hitArea=new Phaser.Rectangle(-65,-40,130,80),n.GameManager.instance.hero.baseGroup.addChild(e.emptyButton),new Phaser.Physics.Box2D.Body(e.game,null,700,470,0).setRectangle(400,20),e.game.input.onDown.add(e.mouseDragStart,e),e.game.input.addMoveCallback(e.mouseDragMove,e),e.game.input.onUp.add(e.mouseDragEnd,e),e.addQuestWheel(3,1635,565,n.GameManager.instance.layerBackground),n.SoundManager.playSFX("s_roadNoise",!0),n.SoundManager.playSFX("s_wheelyEngine",!0),e}n=e.Client||(e.Client={}),a=n.BasicLevel,__extends(t,a),t.prototype.customAction=function(e){!0===this.bridgeCreated&&!1===this.jump&&(this.jump=!0,n.SoundManager.playSFX("s_jump"))},t.prototype.slickOnCar=function(){-1===this.action&&!1===this.heroBoosted?(this.heroBoosted=!0,this.moveAllCarsTo(-405),this.getCarById(4).moveTo(480,2),n.SoundManager.playSFX("s_wheelyForcage")):0===this.action&&!1===this.heroBoosted&&(this.heroBoosted=!0,this.game.add.tween(this.heroOnRoad.flyBody).to({x:this.heroOnRoad.flyBody.x+50},1500,Phaser.Easing.Linear.None,!0),n.SoundManager.playSFX("s_wheelyForcage"))},t.prototype.contact=function(e,t,a,i,n){e!==t&&this.heroOnRoad.stop()},t.prototype.addBgelements=function(){var e,t=n.GameManager.instance.layerBackground0.create(0,0,"bgLevel3_1");t.fixedToCamera=!0,(e=new n.Lvl3MoovingObj(n.GameManager.instance.layerBackground,-1,1)).addTileSprite(this.game,0,-17,800,200,"bgLevel3_6"),this.paralaxElements.push(e),this.bgPart1=n.GameManager.instance.layerBackground.create(0,172,"bgLevel3_2"),this.bgPart1.fixedToCamera=!0;for(var a=0;a<6;a++)(e=new n.Lvl3MoovingObj(n.GameManager.instance.layerBackground,-7,2)).addSprite(this.game,320*a,230,"level3","house"+(a+1)+"_mc instance 10000"),this.paralaxElements.push(e);this.bgPart2=n.GameManager.instance.layerBackground.create(0,101,"bgLevel3_3"),this.bgPart2.fixedToCamera=!0,(t=n.GameManager.instance.layerBackground.create(715,660,"bgLevel3_7")).anchor.set(0,1),(e=new n.Lvl3MoovingObj(n.GameManager.instance.layerBackground,-7)).addTileSprite(this.game,0,240,800,270,"bgLevel3_4"),this.paralaxElements.push(e),(e=new n.Lvl3MoovingObj(n.GameManager.instance.layerUpper,-7,2)).addTileSprite(this.game,0,468,800,150,"bgLevel3_5"),this.paralaxElements.push(e),this.createRoadPart(2025,285,1),this.createRoadPart(2070,335,2),this.createRoadPart(2010,395,3),this.createRoadPart(2090,390,4)},t.prototype.createRoadPart=function(e,t,a){e=n.GameManager.instance.layerBackground.create(e,t,"level3","roadPart"+a+" instance 10000");e.anchor.set(.5),this.roadParts.push(e)},t.prototype.crushBridge=function(){var e=n.GameManager.instance.layerBackground.create(1945,230,"level3");e.animations.add("move",Phaser.Animation.generateFrameNames("stoneCloud instance 1",0,31,"",4),35,!1).killOnComplete=!0,e.play("move"),this.game.add.tween(this.roadParts[3]).to({y:this.roadParts[3].y+180},2500,"Linear",!0),this.game.add.tween(this.roadParts[3].scale).to({x:0,y:0},2500,"Linear",!0),this.game.add.tween(this.roadParts[2]).to({y:this.roadParts[2].y+180,angle:5},2500,"Linear",!0,200),this.game.add.tween(this.roadParts[2].scale).to({x:0,y:0},2500,"Linear",!0,200),this.game.add.tween(this.roadParts[1]).to({y:this.roadParts[1].y+180,angle:-90},2500,"Linear",!0,200),this.game.add.tween(this.roadParts[1].scale).to({x:0,y:0},2500,"Linear",!0,200),this.game.add.tween(this.roadParts[0]).to({y:this.roadParts[0].y+180,angle:90},2500,"Linear",!0,900),this.game.add.tween(this.roadParts[0].scale).to({x:0,y:0},2500,"Linear",!0,900)},t.prototype.addHeroOnRoad=function(){this.heroOnRoad=new n.Lvl3HeroRoad(this.game,n.GameManager.instance.hero.bodyBase.x,n.GameManager.instance.hero.bodyBase.y+55),this.updateElements.push(this.heroOnRoad)},t.prototype.addCars=function(){var e=new n.Lvl3Car(this.game,-10,368,1,0);e.addWheel(-35,-7),e.addWheel(35,-7),e.addBody(150,10),this.levelCars.push(e),e=new n.Lvl3Car(this.game,1520,385,1,1),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,90,295,0,1)).addBody(140,10),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,272,287,0,2)).addWheel(-47,-15),e.addWheel(54,-14),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,533,282,0,3)).addWheel(-100,-12),e.addWheel(-54,-12),e.addWheel(28,-12),e.addWheel(110,-12),e.addEyes(130,-122,192),e.addBody(350,10),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,405,366,1,6)).addWheel(-102,-9),e.addWheel(-45,-9),e.addWheel(88,-9),e.addBody(270,10),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,-80,457,2,4)).addWheel(-35,-9),e.addWheel(36,-9),e.addBody(150,10,-60),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,198,457,2,5)).addWheel(-45,-9),e.addWheel(41,-9),e.moveTo(800,2),e.addBody(200,10,-60),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,490,460,2,13)).moveTo(1285,3),e.addEyes(100,-125,88),e.addMeteorAnim(89,151),e.addTrap(-145,-125),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,725,453,2,9)).addWheel(-58,-8),e.addWheel(60,-8),e.moveTo(1525,3),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,810,371,1,7)).addWheel(-75,-8),e.addWheel(47,-8),e.addEyes(35,-105,192),e.addMeteorAnim(193,253),e.addLever(),e.addBody(200,10,-60),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,1205,292,0,8)).addWheel(43,-25),e.addEyes(55,-130,134),e.addMeteorAnim(135,199),e.addPigs(),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,1250,370,1,12)).addWheel(68,-5),e.addWheel(-80,-5),e.addEyes(95,-115,53),e.addMeteorAnim(54,124),e.addTomatos(),e.addZZZ(),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,1430,290,0,10)).addWheel(37,-5),e.addWheel(-30,-5),e.addEyes(22,-72,0),e.addMeteorAnim(119,204),e.addScareAnim(13,119),this.levelCars.push(e),(e=new n.Lvl3Car(this.game,1630,290,0,11)).addWheel(83,-5),e.addWheel(18,-5),e.addWheel(-62,-5),this.levelCars.push(e)},t.prototype.getCarById=function(e){for(var t=0;t<this.levelCars.length;t++)if(this.levelCars[t].id===e)return this.levelCars[t];return null},t.prototype.update=function(){if(a.prototype.update.call(this),n.GameManager.instance.hero.bodyWheelFront.angle=n.GameManager.instance.hero.bodyWheelBack.angle,!0===this.updateBg)for(var e=0;e<this.paralaxElements.length;e++)this.paralaxElements[e].update();if(this.createTimer+=1,1===this.createTimer)this.addCars();else if(1<this.createTimer&&!1===this.stopUpdateCars)for(e=0;e<this.levelCars.length;e++)this.levelCars[e].update();if(2===this.heroOnRoad.currentLine&&0===this.action?this.action=1:1===this.heroOnRoad.currentLine&&-1===this.action?this.action=2:0===this.heroOnRoad.currentLine&&-2===this.action?this.action=3:2===this.heroOnRoad.currentLine&&-3===this.action&&(this.action=4),1===this.action)this.action=-1,this.getCarById(0).moveTo(150,2),this.getCarById(4).moveTo(30,1),(!0===this.heroBoosted?(this.getCarById(4).moveTo(480,2),this.moveAllCarsTo(-405),this.game.add.tween(this.heroOnRoad.flyBody).to({x:this.heroOnRoad.flyBody.x+30},1e3,Phaser.Easing.Linear.None,!0)):this.game.add.tween(this.heroOnRoad.flyBody).to({x:this.heroOnRoad.flyBody.x+80},1e3,Phaser.Easing.Linear.None,!0)).onComplete.add(function(){this.heroOnRoad.actionComplete=!0},this);else if(2===this.action)this.action=-2,this.setCarsIndex(),n.GameManager.instance.layerElements.setChildIndex(this.carGroup1,0),this.action2(),this.getCarById(4).moveToDifference(150,2);else if(3===this.action){this.action=-3,this.moveAllCarsTo(-250);for(e=0;e<this.paralaxElements.length;e++)1===this.paralaxElements[e].id&&this.paralaxElements[e].hideHills();this.addMeteorit()}else 4===this.action&&(this.action=-4,this.hideParalax(),this.bgPart1.fixedToCamera=!1,this.bgPart2.fixedToCamera=!1,this.heroOnRoad.hide(),n.GameManager.instance.layerElements.setChildIndex(this.carGroup2,0),n.GameManager.instance.layerElements.setChildIndex(this.carGroup1,0),n.GameManager.instance.layerElements.setChildIndex(this.carGroup3,n.GameManager.instance.layerElements.length-1),this.game.add.tween(n.GameManager.instance.layerBackground).to({x:-800},2e3,Phaser.Easing.Linear.None,!0,0).onComplete.addOnce(function(){this.moveAllCarsToX(-960,120),this.getCarById(9).moveToDifference(400,5),this.getCarById(1).moveToDifference(400,5),this.getCarById(11).moveToDifference(400,5),this.game.add.tween(this.getCarById(13).group).to({angle:3},2e3,Phaser.Easing.Linear.None,!0,1e3),this.game.add.tween(this.heroOnRoad.flyBody).to({x:n.GameManager.instance.hero.baseGroup.worldPosition.x-150},2e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(n.GameManager.instance.layerBackground).to({x:-1500},2e3,Phaser.Easing.Linear.None,!0,0).onComplete.addOnce(this.stopCars,this)},this));var t;null!=this.tomato&&(t=this.getCarById(8),n.Tools.distance(this.tomato.graphic.body.x,this.tomato.graphic.body.y,t.group.worldPosition.x-60,t.group.worldPosition.y-70)<30&&(this.tomato.deactivate(),this.mouseDragEnd(),t.pigs.play("move"),this.playPigsMusic=!0),t=null),!0===this.playPigsMusic&&(this.pigsTimer+=1,this.pigsTimer<=90?this.pigsTimer%15==0&&n.SoundManager.playSFX("s_pig"+this.game.rnd.integerInRange(1,3)):(this.pigsTimer=0,this.playPigsMusic=!1)),!0===this.updateMeteor&&(this.particleTimer+=1,this.createParticle(this.meteor.x-180,this.meteor.y-65))},t.prototype.tryAddQuestCar=function(e){null===this.questCar&&!1===this.questCarFounded&&(this.addQuestCar(e.pigs.x+30,e.pigs.y+50,e.group,1),this.game.add.tween(this.questCar).to({x:this.questCar.x+115,y:this.questCar.y-60,angle:335},700,"Linear",!0))},t.prototype.createParticle=function(e,t){var a=n.GameManager.instance.layerBackground.create(e,t,"level3","meeorParticle instance 10000"),i=(a.anchor.set(.5),a.scale.set(.5*Math.random()+.3),a.x=e+15*Math.random()-15*Math.random(),a.y=t+20*Math.random()-20*Math.random(),this.game.add.tween(a).to({alpha:0},300,"Linear",!0).onComplete.addOnce(function(){a.kill(),a=null},this),{step:0});this.game.add.tween(i).to({step:100},300,Phaser.Easing.Default,!0).onUpdateCallback(function(){a.tint=Phaser.Color.interpolateColor(16777215,0,100,i.step,1)})},t.prototype.stopCars=function(){this.stopUpdateCars=!0,n.GameManager.instance.hero.setEnableMotor(!1),n.GameManager.instance.hero.setClickable(!0),this.emptyButton.inputEnabled=!1,this.heroOnRoad.disconnect(),this.getCarById(10).goBack(),this.crushBridge(),!0===this.canCriateBridge&&this.addBridge(),n.SoundManager.playSFX("s_break"),n.SoundManager.playSFX("s_bridgeParts")},t.prototype.action2=function(){-2===this.action&&!0===this.leverOn&&this.moveAllCarsTo(-155)},t.prototype.moveAllCarsTo=function(e,t){this.setSimpleTween(this.carGroup1,t=void 0===t?180:t,{x:this.carGroup1.x+e}),this.setSimpleTween(this.carGroup2,t,{x:this.carGroup1.x+e}),this.setSimpleTween(this.carGroup3,t,{x:this.carGroup1.x+e})},t.prototype.moveAllCarsToX=function(e,t){this.setSimpleTween(this.carGroup1,t=void 0===t?180:t,{x:e}),this.setSimpleTween(this.carGroup2,t,{x:e}),this.setSimpleTween(this.carGroup3,t,{x:e})},t.prototype.setCarsIndex=function(e){void 0===e&&(e=n.GameManager.instance.layerElements.length-1),n.GameManager.instance.layerElements.setChildIndex(this.carGroup1,e),n.GameManager.instance.layerElements.setChildIndex(this.carGroup2,e),n.GameManager.instance.layerElements.setChildIndex(this.carGroup3,e)},t.prototype.takeTomato=function(){this.tomato=new n.Lvl3Tomato(this.game,this.game.input.activePointer.x,this.game.input.activePointer.y),this.updateElements.push(this.tomato),this.mouseDragStart()},t.prototype.hideParalax=function(){this.updateBg=!1;for(var e=0;e<this.paralaxElements.length;e++)0!==this.paralaxElements[e].id&&this.paralaxElements[e].hide()},t.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position)},t.prototype.mouseDragMove=function(){null!==this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},t.prototype.mouseDragEnd=function(){null!==this.tomato&&(this.tomato.fall=!0),this.tomato=null,this.game.physics.box2d.mouseDragEnd()},t.prototype.addMeteorit=function(){this.meteor=n.GameManager.instance.layerBackground.create(-50,0,"level3","lvl3_meteorit_mc instance 10000"),this.meteor.anchor.set(1,.5),this.meteor.angle=15;var e=this.game.make.sprite(10,0,"level3");e.animations.add("move",Phaser.Animation.generateFrameNames("meteorAnim instance 1",0,7,"",4),35,!0),e.play("move"),e.anchor.set(1,.5),this.meteor.addChild(e),this.updateMeteor=!0,this.game.add.tween(this.meteor).to({x:1200,y:250},3e3,"Linear",!0,1500).onComplete.addOnce(function(){this.updateMeteor=!1,this.meteor.kill(),n.SoundManager.playSFX("s_meteor")},this),this.game.add.tween(this.meteor).to({alpha:1},0,"Linear",!0,1700).onComplete.addOnce(function(){for(var e=0;e<this.levelCars.length;e++)this.levelCars[e].playMeteorAnim()},this),this.game.time.events.add(1e3,function(){n.SoundManager.playSFX("s_mteorFly")},this)},t.prototype.addBridge=function(){!0===this.stopUpdateCars&&!1===this.bridgeCreated&&(this.getCarById(13).addBridge(),this.bridgeCreated=!0)},t.prototype.free=function(){a.prototype.free.call(this),this.heroOnRoad=null,this.carGroup1.destroy(!0,!1),this.carGroup2.destroy(!0,!1),this.carGroup3.destroy(!0,!1),this.carGroup1=null,this.carGroup2=null,this.carGroup3=null;for(var e=0;e<this.paralaxElements.length;e++)this.paralaxElements[e].free();this.paralaxElements=[],this.paralaxElements=null;for(e=0;e<this.levelCars.length;e++)this.levelCars[e].free();this.levelCars=[],this.levelCars=null,this.emptyButton=null,this.bgPart1=null,this.bgPart2=null,this.tomato=null,this.meteor=null},n.Level3=t})(Wheely=Wheely||{}),(e=>{var s,a;function t(e){var t=a.call(this,e)||this,e=(t.lampFrame=0,t.firstTakeMagnet=!1,t.magnetPlaceLeftCount=0,t.magnetPlaceRightCount=0,t.magnetPlaceCounter=0,t.startSpawningBubbles=!1,t.spawningBubblesCounter=0,t.showQuestCar=!1,t.levelFailedCount=0,t.levelFailedCounter=0,t.sputnikMagnetCounter=0,t.bubbles=new Array,s.GameManager.instance.layerBackground.create(0,0,"bgLevel4_1"),t.game.world.resize(800,600),t.addQuestWheel(4,260,48,s.GameManager.instance.layerBackground),t.lift=new s.Lvl4Lift(e,534,-2),t.updateElements.push(t.lift),t.engine=new s.Lvl4Engine(e,t),t.updateElements.push(t.engine),t.createBridgeParts(),t.addQuestCar(545,589,s.GameManager.instance.layerBackground,-1,-15),!1===t.questCarFounded&&(t.questCar.inputEnabled=!1),t.sputnik=s.GameManager.instance.layerBackground.create(545,547,"level4","sputnik instance 10000"),t.game.physics.box2d.enable(t.sputnik),t.sputnik.body.setRectangle(40,50),t.sputnik.body.mass=10,t.sputnik.body.static=!0,t.sputnik.body.sensor=!0,s.GameManager.instance.layerBackground.create(254,417,"level4","bgPart1 instance 10000"),t.lamp=s.GameManager.instance.layerBackground.create(663,153,"level4","lamp instance 10000"),t.lamp.anchor.setTo(.5),t.middleBridge=new s.Lvl4MiddleBridge(e,290,283),t.updateElements.push(t.middleBridge),s.GameManager.instance.layerUpper.create(0,600,"bgLevel4_2").anchor.y=1,s.GameManager.instance.hero=new s.Hero(e,90,285),s.GameManager.instance.hero.setKeepAngle(!1),s.GameManager.instance.hero.setCollideWorldBounds(!1),t.updateElements.push(new s.Lvl4Krab(e)),t.createMagnet(),t.updateElements.push(new s.Lvl4Vodorosli(e)),t.addGround(),t.sputnik.body.setBodyContactCallback(t.magnet,t.contactSputnikMagnet,t),new s.Finish(e,760,285));return t.updateElements.push(e),t.game.input.onDown.add(t.mouseDragStart,t),t.game.input.addMoveCallback(t.mouseDragMove,t),t.game.input.onUp.add(t.mouseDragEnd,t),t}s=e.Client||(e.Client={}),a=s.BasicLevel,__extends(t,a),t.prototype.free=function(){a.prototype.free.call(this),this.bridgeParts=[],this.bridgeParts=null,this.bridgeJoints=[],this.bridgeJoints=null,this.engine=null,this.lift=null,this.middleBridge=null,this.lamp=null,this.magnet=null,this.magnetBlick=null,this.magnetDust=null,this.magnetPlaceLeft=null,this.magnetPlaceRight=null,this.magnetJointLeft=null,this.magnetJointRight=null,this.sputnik=null,this.sputnikJoint=null,this.bubbles=[],this.bubbles=null},t.prototype.customAction=function(e){1===(e=void 0===e?0:e)?(this.lift.enableUsilitel(),this.awakeBridgeParts()):2===e?(this.middleBridge.enableUsilitel(),this.awakeBridgeParts()):3===e&&(this.lift.disableUsilitel(),this.middleBridge.disableUsilitel(),this.awakeBridgeParts())},t.prototype.awakeBridgeParts=function(){for(var e=0;e<this.bridgeParts.length;e++)this.bridgeParts[e].body.data.SetAwake(!0)},t.prototype.createBridgeParts=function(){this.bridgeParts=new Array,this.bridgeJoints=new Array;var e=new Phaser.Physics.Box2D.Body(this.game,null,141,343,0),t=(e.setCircle(16),s.GameManager.instance.layerBackground.create(214,343,"level4","bridgePart1 instance 10000"));this.game.physics.box2d.enable(t),t.body.setRectangle(140,20),t.body.friction=2,t.body.setCollisionCategory(s.FilterGroups.CAR2),this.bridgeJoints.push(this.game.physics.box2d.weldJoint(e,t,0,0,-75,0,.01,1)),t.body.angle=120,this.bridgeParts.push(t),(e=new Phaser.Physics.Box2D.Body(this.game,null,392,343,0)).setCircle(16),e.setCollisionCategory(s.FilterGroups.CAR2),t=s.GameManager.instance.layerBackground.create(427,343,"level4","bridgePart2 instance 10000"),this.game.physics.box2d.enable(t),t.body.setRectangle(102,20),t.body.friction=2,t.body.setCollisionCategory(s.FilterGroups.CAR2),this.bridgeJoints.push(this.game.physics.box2d.weldJoint(e,t,0,0,-56,0,.01,1)),t.body.angle=100,this.bridgeParts.push(t),(e=new Phaser.Physics.Box2D.Body(this.game,null,672,343,0)).setCircle(16),t=s.GameManager.instance.layerBackground.create(619,343,"level4","bridgePart2 instance 10000"),this.game.physics.box2d.enable(t),t.body.setRectangle(102,20),t.body.friction=2,t.scale.x=-1,t.body.setCollisionCategory(s.FilterGroups.CAR2),this.bridgeJoints.push(this.game.physics.box2d.weldJoint(e,t,0,0,52,0,.01,1)),t.body.angle=-125,this.bridgeParts.push(t),t=null},t.prototype.createMagnet=function(){this.magnetPlaceLeft=new Phaser.Physics.Box2D.Body(this.game,null,321,349,0),this.magnetPlaceLeft.setCircle(10),this.magnetPlaceLeft.sensor=!0,this.magnetPlaceRight=new Phaser.Physics.Box2D.Body(this.game,null,534,347,0),this.magnetPlaceRight.setCircle(10),this.magnetPlaceRight.sensor=!0,this.magnetBlick=new s.ScaleSprite(this.game,188,582,"level4","magnetBlick instance 10000"),this.magnetBlick.anchor.setTo(.5),this.magnetBlick.alpha=0,this.magnetBlick.scale.setTo(.5),s.GameManager.instance.layerElements.add(this.magnetBlick),this.startMagnetBlick(),this.magnet=s.GameManager.instance.layerElements.create(188,582,"level4","magnet instance 10000"),this.game.physics.box2d.enable(this.magnet),this.magnet.body.setCircle(21),this.magnet.body.data.SetUserData("DragBody"),this.magnet.body.fixedRotation=!0,this.magnet.inputEnabled=!0,this.magnet.input.useHandCursor=!0,this.magnet.events.onInputOut.add(this.magnetOut,this),this.magnet.events.onInputOver.add(this.magnetOver,this),this.magnet.events.onInputDown.add(this.magnetDonw,this),this.magnet.body.setCollisionMask(~s.FilterGroups.IGNORE_CAR),this.magnetDust=s.GameManager.instance.layerElements.create(146,568,"level4","waterDust instance 10000"),this.magnetDust.animations.add("anim",Phaser.Animation.generateFrameNames("waterDust instance 1",0,16,"",4),30,!1),this.magnetPlaceLeft.setBodyContactCallback(this.magnet.body,this.contactMagnetPlaceLeft,this),this.magnetPlaceRight.setBodyContactCallback(this.magnet.body,this.contactMagnetPlaceRight,this)},t.prototype.startMagnetBlick=function(){this.game.add.tween(this.magnetBlick).to({alpha:[1,0],scaleX:[1,1.2],scaleY:[1,1.2]},1e3,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.magnetBlick.alpha=0,this.magnetBlick.scale.setTo(.5),this.startMagnetBlick()},this)},t.prototype.magnetDonw=function(){s.SoundManager.playSFX("s_meteorPick")},t.prototype.magnetOut=function(){this.magnet.frameName="magnet instance 10000"},t.prototype.magnetOver=function(){this.magnet.frameName="magnet instance 10001"},t.prototype.contactMagnetPlaceLeft=function(){0===this.magnetPlaceLeftCount&&(this.magnetPlaceLeftCount=1,s.SoundManager.playSFX("s_meteorPlanted"))},t.prototype.contactMagnetPlaceRight=function(){!1!==this.lift.opened&&0===this.magnetPlaceRightCount&&(this.magnetPlaceRightCount=1,s.SoundManager.playSFX("s_meteorPlanted"))},t.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},t.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&(this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position),this.magnetJointLeft&&(this.game.physics.box2d.world.DestroyJoint(this.magnetJointLeft),this.magnetJointLeft=null,this.magnetPlaceLeftCount=3,this.magnetPlaceCounter=0,this.engine.stopEngine()),this.magnetJointRight)&&(this.game.physics.box2d.world.DestroyJoint(this.magnetJointRight),this.magnetJointRight=null,this.magnetPlaceRightCount=3,this.magnetPlaceCounter=0,this.engine.stopEngine())},t.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},t.prototype.creak=function(e){1===e?s.SoundManager.playSFX("s_rotationParts"):2===e&&s.SoundManager.playSFX("s_rotationParts2")},t.prototype.update=function(){var e;a.prototype.update.call(this),!1===this.firstTakeMagnet&&this.magnet.body.y<576&&(this.firstTakeMagnet=!0,this.magnetDust.animations.play("anim")),this.magnetBlick.x=this.magnet.x,this.magnetBlick.y=this.magnet.y,1===this.magnetPlaceLeftCount?(this.magnetPlaceLeftCount=2,this.mouseDragEnd(),this.magnetJointLeft=this.game.physics.box2d.revoluteJoint(this.magnet.body,this.magnetPlaceLeft,0,0,0,0),this.awakeBridgeParts()):3===this.magnetPlaceLeftCount&&(this.magnetPlaceCounter+=1,10<=this.magnetPlaceCounter)&&(this.magnetPlaceLeftCount=0),1===this.magnetPlaceRightCount?(this.magnetPlaceRightCount=2,this.mouseDragEnd(),this.magnetJointRight=this.game.physics.box2d.revoluteJoint(this.magnet.body,this.magnetPlaceRight,0,0,0,0),this.awakeBridgeParts()):3===this.magnetPlaceRightCount&&(this.magnetPlaceCounter+=1,10<=this.magnetPlaceCounter)&&(this.magnetPlaceRightCount=0),s.Tools.distance(this.magnet.x,this.magnet.y,this.lamp.x,this.lamp.y)<150?0===this.lampFrame&&(this.lampFrame=1,this.lamp.frameName="lamp instance 10001"):1===this.lampFrame&&(this.lampFrame=0,this.lamp.frameName="lamp instance 10000"),this.lift.magnetPos(this.magnet.x,this.magnet.y),1===this.sputnikMagnetCounter?(this.sputnikMagnetCounter=2,this.sputnik.body.sensor=!1,this.sputnik.body.static=!1,this.sputnikJoint=this.game.physics.box2d.distanceJoint(this.sputnik.body,this.magnet.body,20),this.scrabPositionX=this.sputnik.body.x,this.scrabPositionY=this.sputnik.body.y):2===this.sputnikMagnetCounter&&(30<(e=s.Tools.distance(this.scrabPositionX,this.scrabPositionY,this.sputnik.body.x,this.sputnik.body.y))&&!1===this.showQuestCar?!(this.showQuestCar=!0)===this.questCarFounded&&(this.game.add.tween(this.questCar).to({y:568},500,Phaser.Easing.Linear.None,!0),this.questCar.inputEnabled=!0,this.questCar.input.useHandCursor=!0,s.SoundManager.playSFX("s_outPart")):70<e&&(this.sputnikMagnetCounter=3,this.game.physics.box2d.world.DestroyJoint(this.sputnikJoint),this.sputnik.body.setCollisionCategory(s.FilterGroups.CAR2))),1===this.levelFailedCount?(this.levelFailedCount=2,s.GameManager.instance.hero.setEnableMotor(!1,!1),(e=s.GameManager.instance.layerUpper.create(s.GameManager.instance.hero.bodyBase.x,s.GameManager.instance.hero.bodyBase.y-17,"level4")).anchor.x=.5,e.animations.add("anim",Phaser.Animation.generateFrameNames("splash instance 1",0,14,"",4),30,!1).killOnComplete=!0,e.animations.play("anim"),e=null):2===this.levelFailedCount&&(this.levelFailedCounter+=1,this.levelFailedCounter<30?(s.GameManager.instance.hero.bodyBase.velocity.x/=2,s.GameManager.instance.hero.bodyBase.velocity.y/=1.1,s.GameManager.instance.hero.bodyBase.angularVelocity=5):50<=this.levelFailedCounter&&(this.levelFailedCount=3,this.startSpawningBubbles=!0,s.LevelBuilder.instance.levelFailed())),!0===this.startSpawningBubbles&&(this.spawningBubblesCounter+=1,2===this.spawningBubblesCounter)&&(this.spawningBubblesCounter=0,this.spawnBubble(s.GameManager.instance.hero.bodyBase.x+s.Tools.random(-40,40),s.GameManager.instance.hero.bodyBase.y+s.Tools.random(-30,10),.7+.5*Math.random())),this.updateMagnet()},t.prototype.updateMagnet=function(){var e=.8;if(!0===this.engine.activeEngine&&!0===this.engine.withMagnet&&(e=10),this.magnetJointLeft)this.bridgeJoints[0].GetFrequency()<e&&this.bridgeJoints[0].SetFrequency(this.bridgeJoints[0].GetFrequency()+.08);else if(this.magnetJointRight)for(var t=1;t<3;t++)this.bridgeJoints[t].GetFrequency()<e&&this.bridgeJoints[t].SetFrequency(this.bridgeJoints[t].GetFrequency()+.08);else for(var a,i=0,t=0;t<this.bridgeParts.length;t++)200<(a=s.Tools.distance(this.bridgeParts[t].body.x,this.bridgeParts[t].body.y,this.magnet.body.x,this.magnet.body.y))?this.bridgeJoints[t].SetFrequency(.01):(this.bridgeParts[t].body.data.SetAwake(!0),(i=.7-.004*a)<0&&(i=.01),this.bridgeJoints[t].SetFrequency(i))},t.prototype.spawnBubble=function(e,t,a){for(var i=0;i<this.bubbles.length;i++)if(!1===this.bubbles[i].visible)return this.bubbles[i].visible=!0,this.bubbles[i].x=e,this.bubbles[i].y=t,this.bubbles[i].scale.setTo(a),void this.bubbles[i].animations.play("anim");var n=s.GameManager.instance.layerUpper.create(e,t,"level4");n.animations.add("anim",Phaser.Animation.generateFrameNames("bubbleWaterPart instance 1",0,9,"",4),30,!1).onComplete.add(this.bubbleComplete,this),n.animations.play("anim"),n.scale.setTo(a),this.bubbles.push(n)},t.prototype.bubbleComplete=function(e,t){e.visible=!1},t.prototype.addGround=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,60,340,0);e.setRectangle(120,20),(e=new Phaser.Physics.Box2D.Body(this.game,null,330,342,0)).setRectangle(80,26),e.addRectangle(25,20,38,28),e.addCircle(30,-9,7),e.friction=2,e.setCollisionCategory(s.FilterGroups.CAR2),(e=new Phaser.Physics.Box2D.Body(this.game,null,790,335,0)).setRectangle(200,10),(e=new Phaser.Physics.Box2D.Body(this.game,null,950,280,0)).setRectangle(10,100),(e=new Phaser.Physics.Box2D.Body(this.game,null,533,342,0)).setRectangle(62,26),e.addCircle(30,2,4),e.friction=2,e.setCollisionCategory(s.FilterGroups.CAR2),(e=new Phaser.Physics.Box2D.Body(this.game,null,400,470,0)).setRectangle(800,10),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.levelFailed,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,21,408,0)).setRectangle(182,10),e.angle=-32,e.friction=10,(e=new Phaser.Physics.Box2D.Body(this.game,null,74,582,0)).setRectangle(42,236),e.angle=112,e.friction=10,(e=new Phaser.Physics.Box2D.Body(this.game,null,358,610,0)).setRectangle(42,424),e.angle=87,e.friction=10,(e=new Phaser.Physics.Box2D.Body(this.game,null,703,543,0)).setRectangle(42,424),e.angle=69,e.friction=10,(e=new Phaser.Physics.Box2D.Body(this.game,null,764,413,0)).setRectangle(138,10),e.angle=-140,e.friction=10,(e=new Phaser.Physics.Box2D.Body(this.game,null,100,431,0)).setCircle(11),e.sensor=!0,e.setBodyContactCallback(this.bridgeParts[0].body,this.contactBP1,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,220,403,0)).setCircle(11),e.sensor=!0,e.setBodyContactCallback(this.bridgeParts[0].body,this.contactBP1,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,448,394,0)).setCircle(11),e.sensor=!0,e.setBodyContactCallback(this.bridgeParts[1].body,this.contactBP2,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,628,387,0)).setCircle(11),e.sensor=!0,e.setBodyContactCallback(this.bridgeParts[2].body,this.contactBP2,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,705,420,0)).setCircle(11),e.sensor=!0,e.setBodyContactCallback(this.bridgeParts[2].body,this.contactBP1,this)},t.prototype.contactBP1=function(e,t,a,i,n){e!==t&&!1!==n&&this.creak(1)},t.prototype.contactBP2=function(e,t,a,i,n){e!==t&&!1!==n&&this.creak(2)},t.prototype.levelFailed=function(){0===this.levelFailedCount&&(this.levelFailedCount=1)},t.prototype.contactSputnikMagnet=function(){0===this.sputnikMagnetCounter&&(this.sputnikMagnetCounter=1)},s.Level4=t})(Wheely=Wheely||{}),(e=>{var s,i;function t(e){var t=i.call(this,e)||this,a=(t.questCarStepCounter=0,t.thinkShowed=!1,t.meteoritFalling=!1,t.meteoritCounter=0,t.tractorVutHero=!1,t.heroInDirtBool=!1,t.redCarShopingContact=0,t.game.world.resize(800,600),s.GameManager.instance.layerBackground.create(0,0,"bgLevel5_1"));return a.cacheAsBitmap=!0,(a=s.GameManager.instance.layerBackground.create(42,40,"level5","saraiPropeler instance 10000")).anchor.setTo(.5,.52),a.update=function(){this.angle-=.5},(a=s.GameManager.instance.layerBackground.create(42,40,"level5","saraiPropeler2 instance 10000")).anchor.setTo(.5),t.addQuestCar(141,228,s.GameManager.instance.layerBackground),!1===t.questCarFounded&&(t.questCar.inputEnabled=!1),t.questCarDoor=s.GameManager.instance.layerBackground.create(102,184,"level5","saraiDoor instance 10000"),t.questCarDoor.animations.add("open",Phaser.Animation.generateFrameNames("saraiDoor instance 1",0,18,"",4),30,!1).onComplete.addOnce(function(){!1===this.questCarFounded&&(this.questCar.inputEnabled=!0,this.questCar.input.useHandCursor=!0)},t),t.cow=new s.Lvl5Cow,t.updateElements.push(t.cow),t.questCarStep1=s.GameManager.instance.layerBackground.create(103,113,"level5","saraiStep instance 10000"),t.questCarStep1.animations.add("anim",Phaser.Animation.generateFrameNames("saraiStep instance 1",0,76,"",4),30,!1).onComplete.addOnce(t.questCarStepComp,t),t.questCarStep2=s.GameManager.instance.layerBackground.create(125,113,"level5","saraiStep instance 10000"),t.questCarStep2.animations.add("anim",Phaser.Animation.generateFrameNames("saraiStep instance 1",0,76,"",4),30,!1).onComplete.addOnce(t.questCarStepComp,t),t.questCarStep3=s.GameManager.instance.layerBackground.create(147,113,"level5","saraiStep instance 10000"),t.questCarStep3.animations.add("anim",Phaser.Animation.generateFrameNames("saraiStep instance 1",0,76,"",4),30,!1).onComplete.addOnce(t.questCarStepComp,t),t.updateElements.push(new s.Lvl5Mill(e)),(a=s.GameManager.instance.layerBackground.create(798,18,"bgLevel5_2")).anchor.setTo(1,0),a.cacheAsBitmap=!0,t.createDinoBox(),t.grassCutter=s.GameManager.instance.layerBackground.create(657,440,"level5","grassCutter instance 10007"),t.grassCutter.anchor.setTo(.5),(a=s.GameManager.instance.layerUpper.create(0,600,"bgLevel5_3")).anchor.setTo(0,1),a.cacheAsBitmap=!0,t.addQuestWheel(5,195,580,s.GameManager.instance.layerUpper),t.grass=s.GameManager.instance.layerUpper.create(435,455,"level5","grass instance 10000"),a=null,s.GameManager.instance.hero=new s.Hero(e,60,425),s.GameManager.instance.hero.setCollideWorldBounds(!1),t.tractor=new s.Lvl5Tractor(e),t.updateElements.push(t.tractor),t.dirt=s.GameManager.instance.layerUpper.create(125,418,"level5"),t.dirt.animations.add("anim",Phaser.Animation.generateFrameNames("dirt instance 1",0,54,"",4),30,!1).onComplete.add(t.dirtComplete,t),t.dirt.visible=!1,t.updateElements.push(new s.Finish(e,754,426)),t.redCar=new s.Lvl5RedCar(e,-105,410),t.updateElements.push(t.redCar),t.showThink(1),t.addGround(),t.game.input.onDown.add(t.mouseDragStart,t),t.game.input.addMoveCallback(t.mouseDragMove,t),t.game.input.onUp.add(t.mouseDragEnd,t),s.SoundManager.playSFX("s_farmAmbient",!0),t}s=e.Client||(e.Client={}),i=s.BasicLevel,__extends(t,i),t.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},t.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},t.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},t.prototype.createDinoBox=function(){this.dinoBox=s.GameManager.instance.layerBackground.create(493,440,"level5","dinoBox instance 10002"),this.dinoBox.anchor.setTo(.5),this.dinoBox.animations.add("anim",Phaser.Animation.generateFrameNames("dinoBox instance 1",3,13,"",4),30,!1).onComplete.addOnce(this.createMeteorit,this)},t.prototype.activateDinoBox=function(){this.dinoBox.inputEnabled=!0,this.dinoBox.input.useHandCursor=!0,this.dinoBoxOut(),this.dinoBox.events.onInputOut.add(this.dinoBoxOut,this),this.dinoBox.events.onInputOver.add(this.dinoBoxOver,this),this.dinoBox.events.onInputUp.add(this.dinoBoxUp,this)},t.prototype.dinoBoxOut=function(){!1!==this.dinoBox.inputEnabled&&(this.dinoBox.frameName="dinoBox instance 10000")},t.prototype.dinoBoxOver=function(){!1!==this.dinoBox.inputEnabled&&(this.dinoBox.frameName="dinoBox instance 10001")},t.prototype.dinoBoxUp=function(){s.SoundManager.playSFX("s_boxOpen"),this.dinoBox.inputEnabled=!1,this.dinoBox.animations.play("anim")},t.prototype.createMeteorit=function(){this.meteoritParticles=new Array,this.meteorit=s.GameManager.instance.layerElements.create(420,0,"level5","meteorit instance 10000"),this.meteorit.anchor.setTo(.5,.74),this.meteorit.angle=-8,this.meteoritFalling=!0,s.SoundManager.playSFX("s_meteor4",!0)},t.prototype.questCarStepComp=function(){this.questCarStepCounter+=1,3===this.questCarStepCounter&&(this.questCarDoor.animations.play("open"),this.cow.setAnimSaraiOpen())},t.prototype.customAction=function(e){0===(e=void 0===e?0:e)?!0===this.thinkShowed&&!1===this.heroInDirtBool?this.hideThink():!0===this.heroInDirtBool&&this.startDriveInDirt():1===e?(s.SoundManager.playSFX("s_slotMachine"),this.questCarStep1.animations.play("anim")):2===e?(s.SoundManager.playSFX("s_slotMachine"),this.questCarStep2.animations.play("anim")):3===e?(s.SoundManager.playSFX("s_slotMachine"),this.questCarStep3.animations.play("anim")):4===e?this.grassCutter.destroy():5===e?(this.showThink(2),this.activateDinoBox()):6===e?this.mouseDragEnd():7===e&&(this.wheelyStoper.y=100,this.heroInDirtBool=!1,this.tractorVutHero=!0,s.GameManager.instance.hero.setClickable(!1))},t.prototype.showThink=function(e){if(this.thinkShowed=!0,1===e){this.think=s.GameManager.instance.layerElements.create(105,415,"level5","think instance 10000"),this.think.anchor.setTo(0,1),this.think.scale.setTo(0);var t=this.game.make.sprite(8,-47,"level5","grassCutter instance 10007");t.scale.setTo(.6),this.think.addChild(t),t=null}else if(2===e){for(s.SoundManager.playSFX("s_wheelyDiag");0<this.think.children.length;)this.think.removeChildAt(0);this.think.x=225,this.think.y=440;t=this.game.make.sprite(38,-30,"level5","angry instance 10000");t.anchor.setTo(.5),this.think.addChild(t),t=null}this.game.add.tween(this.think.scale).to({x:1,y:1},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.game.add.tween(this.think).to({alpha:1},1500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.hideThink()},this)},this)},t.prototype.hideThink=function(){this.thinkShowed=!1,this.game.add.tween(this.think.scale).to({x:0,y:0},500,Phaser.Easing.Linear.None,!0)},t.prototype.addGround=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,-37,487,0);e.setRectangle(300,24),(e=new Phaser.Physics.Box2D.Body(this.game,null,150,500,0)).setRectangle(88,24),e.angle=18,(e=new Phaser.Physics.Box2D.Body(this.game,null,232,503,0)).setRectangle(100,28),e.angle=-17,(e=new Phaser.Physics.Box2D.Body(this.game,null,627,487,0)).setRectangle(700,24),(e=new Phaser.Physics.Box2D.Body(this.game,null,1050,430,0)).setRectangle(10,100),(e=new Phaser.Physics.Box2D.Body(this.game,null,220,470,0)).setRectangle(10,60),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.heroInDirt,this),s.GameManager.instance.hero.bodyBase.setBodyContactCallback(e,this.heroInDirt,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,737,444,0)).setRectangle(10,60),e.sensor=!0,e.setBodyContactCallback(this.redCar.bodyBase,this.redCarShoping,this),e=null,this.wheelyStoper=new Phaser.Physics.Box2D.Body(this.game,null,240,464,1),this.wheelyStoper.addRectangle(28,60),this.wheelyStoper.setCollisionCategory(s.FilterGroups.CAR2)},t.prototype.heroInDirt=function(){var e;!0!==this.heroInDirtBool&&!0!==this.tractorVutHero&&(this.heroInDirtBool=!0,this.startDriveInDirt(),(e=this.game.make.sprite(11,11,"level5")).animations.add("anim",Phaser.Animation.generateFrameNames("heroDirt instance 1",0,12,"",4),30,!1),e.animations.play("anim"),s.GameManager.instance.hero.graphicCar.addChild(e),this.redCar.move(1),this.tractor.activateHook())},t.prototype.startDriveInDirt=function(){!0!==this.tractorVutHero&&(s.GameManager.instance.hero.setClickable(!1),this.dirt.animations.play("anim"),this.dirt.visible=!0,s.SoundManager.playSFX("s_mud"))},t.prototype.dirtComplete=function(){s.GameManager.instance.hero.setClickable(!0),s.GameManager.instance.hero.setEnableMotor(!1),this.dirt.animations.stop(),this.dirt.visible=!1},t.prototype.redCarShoping=function(){0===this.redCarShopingContact&&(this.redCarShopingContact=1,this.redCar.shoping())},t.prototype.update=function(){var e;i.prototype.update.call(this),!0===this.meteoritFalling&&(this.setMeteoritparticle(this.meteorit.x+s.Tools.random(-8,8),this.meteorit.y+s.Tools.random(-15,15),s.Tools.random(.6,1)),this.meteorit.x+=3,this.meteorit.y+=20,25===this.meteoritCounter?((e=s.GameManager.instance.layerElements.create(493,440,"level2")).animations.add("anim",Phaser.Animation.generateFrameNames("explosion instance 1",0,29,"",4),30,!1).killOnComplete=!0,e.animations.play("anim"),e.anchor.setTo(.5),e=null,s.SoundManager.stopSFXLoop("s_meteor4")):28===this.meteoritCounter?(this.grass.frameName="grass instance 10001",this.dinoBox.destroy(),this.tractor.meteor()):36<this.meteoritCounter&&(this.meteorit.destroy(),this.meteoritFalling=!1),this.meteoritCounter+=1)},t.prototype.setMeteoritparticle=function(e,t,a){for(var i=0;i<this.meteoritParticles.length;i++)if(!1===this.meteoritParticles[i].visible)return this.meteoritParticles[i].visible=!0,this.meteoritParticles[i].x=e,this.meteoritParticles[i].y=t,this.meteoritParticles[i].scale.setTo(a),void this.meteoritParticles[i].animations.play("anim");var n=s.GameManager.instance.layerElements.create(e,t,"level5");n.animations.add("anim",Phaser.Animation.generateFrameNames("meteorTrackParticle instance 1",0,14,"",4),40,!1).onComplete.add(this.particleComplete,this),n.animations.play("anim"),n.scale.setTo(a),n.anchor.setTo(.5,.9),this.meteoritParticles.push(n)},t.prototype.particleComplete=function(e,t){e.visible=!1},t.prototype.free=function(){i.prototype.free.call(this),this.grass=null,this.questCarDoor=null,this.questCarStep1=null,this.questCarStep2=null,this.questCarStep3=null,this.grassCutter=null,this.think=null,this.wheelyStoper=null,this.dirt=null,this.redCar=null,this.dinoBox=null,this.meteorit=null,this.meteoritParticles=[],this.meteoritParticles=null,this.cow=null,this.tractor=null},s.Level5=t})(Wheely=Wheely||{}),(e=>{var s,t;function a(e){e=t.call(this,e)||this;return e.heroCome=!1,e.gameOver=!1,e.counter=0,e.bubbles=new Array,e.startSpawningBubbles=!1,e.spawningBubblesCounter=0,e.splash=null,s.GameManager.instance.layerBackground0.create(0,0,"bgLevel6_1"),s.GameManager.instance.hero=new s.Hero(e.game,-250,430),e.addQuestWheel(6,489,463,s.GameManager.instance.layerBackground0),e.addGround(),e.addRedCar(),e.addBgElements(),e.addBoat(),e.addTopGroup(),s.SoundManager.playSFX("s_harbourAmbient",!0),e}s=e.Client||(e.Client={}),t=s.BasicLevel,__extends(a,t),a.prototype.addGround=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,-103,481,0);e.setRectangle(484,15,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,300,300,0)).setRectangle(30,15,0,0,0),e.sensor=!0,s.GameManager.instance.hero.bodyBase.setBodyContactCallback(e,this.stopCar,this),this.levelPhysics=new Phaser.Physics.Box2D.Body(this.game,null,538,400,0),this.levelPhysics.setRectangle(20,107,0,0,0),this.levelPhysics.addRectangle(20,400,170,18),this.levelPhysics.addRectangle(300,20,310,-177),this.levelPhysics.addRectangle(10,80,-280,20,s.Tools.toRad(-20)),this.levelPhysics.data.SetActive(!1)},a.prototype.addBgElements=function(){this.ship=new s.Lvl6Ship(this.game,196,77),this.updateElements.push(this.ship);var e=s.GameManager.instance.layerUpper.create(535,570,"level6","fish instance 10000");e.anchor.set(.5),e.animations.add("move",Phaser.Animation.generateFrameNames("fish instance 1",0,119,"",4),35,!0),e.play("move"),this.turtle=s.GameManager.instance.layerUpper.create(370,666,"level6","turtle instance 10014"),this.turtle.anchor.set(.5),this.turtle.angle=38,this.turtle.animations.add("move",Phaser.Animation.generateFrameNames("turtle instance 1",14,45,"",4),35,!0),this.turtle.animations.add("moveOnPlatform",Phaser.Animation.generateFrameNames("turtle instance 1",0,13,"",4),35,!1),this.turtle.play("move"),s.GameManager.instance.layerUpper.create(130,491,"waterLvl6"),s.GameManager.instance.layerUpper.create(-49,429,"level6","pirs instance 10000"),this.four=s.GameManager.instance.layerUpper.create(5,497,"level6","four instance 10000"),this.four.inputEnabled=!0,this.four.input.useHandCursor=!0,this.four.events.onInputUp.add(this.fourClick,this),this.snail=s.GameManager.instance.layerUpper.create(170,660,"level6","snail instance 10000"),this.snail.anchor.set(.5),this.snail.animations.add("move",Phaser.Animation.generateFrameNames("snail instance 1",0,29,"",4),35,!0),this.snail.play("move"),this.moveSnail()},a.prototype.moveSnail=function(){this.snail.x=154,this.snail.y=642,this.snail.angle=0,this.game.add.tween(this.snail).to({x:this.snail.x-4,y:this.snail.y-65,angle:-23},1700,"Linear",!0).onComplete.add(function(){this.game.add.tween(this.snail).to({x:this.snail.x-23,y:this.snail.y-22,angle:-90},1e3,"Linear",!0).onComplete.add(function(){this.game.add.tween(this.snail).to({x:this.snail.x-141},5500,"Linear",!0).onComplete.add(this.moveSnail,this)},this)},this)},a.prototype.moveTurtle=function(){this.game.add.tween(this.turtle).to({x:303,y:500},2500,"Linear",!0).onComplete.add(function(){this.game.add.tween(this.turtle).to({x:283,y:487,angle:0},300,"Linear",!0),this.turtle.play("moveOnPlatform").onComplete.add(function(){this.turtle.play("move")},this)},this)},a.prototype.fourClick=function(){this.four.inputEnabled=!1,this.four.frameName="four instance 10001",this.numberClick("4")},a.prototype.closeShipDoors=function(){this.ship.closeDoors(),s.GameManager.instance.hero.setEnableMotor(!0,!1)},a.prototype.addRedCar=function(){this.redCar=new s.Lvl6RedCar(this.game,-110,430),this.updateElements.push(this.redCar)},a.prototype.addBoat=function(){this.boat=new s.Lvl6Boat(this.game,140,212),s.GameManager.instance.layerBackground.addChildAt(this.boat,0)},a.prototype.disconnectBoat=function(){this.boat.disconnect()},a.prototype.catchBoat=function(){this.boat.connect()},a.prototype.addTopGroup=function(){this.topGroup=new s.Lvl6TopGroup(this.game),this.updateElements.push(this.topGroup)},a.prototype.activateElevator=function(e){this.topGroup.useElevator(e)},a.prototype.numberClick=function(e){this.topGroup.numberClick(e)},a.prototype.activateTopGroup=function(){var e=new s.Finish(this.game,770,150);s.GameManager.instance.level.updateElements.push(e),this.topGroup.activate(),this.levelPhysics.data.SetActive(!0),this.moveTurtle()},a.prototype.activateNumbers=function(){this.four.inputEnabled=!0,this.four.input.useHandCursor=!0,this.four.frameName="four instance 10000",this.ship.activateNumbers(),this.topGroup.activateNumbers()},a.prototype.stopCar=function(){s.GameManager.instance.hero.setEnableMotor(!1,!1)},a.prototype.update=function(){!0===this.boat.connected&&(this.boat.y=this.ship.cran.hook.worldPosition.y+100,this.boat.x=this.ship.cran.hook.worldPosition.x+8),this.boat.update(),t.prototype.update.call(this),55<s.GameManager.instance.hero.bodyBase.x&&!1===this.heroCome&&(this.heroCome=!0,s.GameManager.instance.hero.setEnableMotor(!1,!0)),!1===this.gameOver&&600<s.GameManager.instance.hero.bodyBase.y&&(this.gameOver=!0),!0===this.gameOver&&(this.counter+=1,60===this.counter)&&s.LevelBuilder.instance.levelFailed(),475<s.GameManager.instance.hero.bodyBase.y&&null===this.splash&&(this.splash=s.GameManager.instance.layerUpper.create(s.GameManager.instance.hero.bodyBase.x,500,"level6","splash_mc instance 10000",!0,0),this.splash.anchor.set(.5,1),this.splash.animations.add("anim",Phaser.Animation.generateFrameNames("splash_mc instance 1",0,15,"",4),30,!1).killOnComplete=!0,this.splash.animations.play("anim"),s.GameManager.instance.hero.bodyBase.fixedRotation=!0),490<s.GameManager.instance.hero.bodyBase.y&&(this.startSpawningBubbles=!0,s.GameManager.instance.hero.bodyBase.velocity.x/=2,s.GameManager.instance.hero.bodyBase.velocity.y/=1.1),!0===this.startSpawningBubbles&&(this.spawningBubblesCounter+=1,2===this.spawningBubblesCounter)&&(this.spawningBubblesCounter=0,this.spawnBubble(s.GameManager.instance.hero.bodyBase.x+s.Tools.random(-40,40),s.GameManager.instance.hero.bodyBase.y+s.Tools.random(-30,10),.7+.5*Math.random()))},a.prototype.spawnBubble=function(e,t,a){for(var i=0;i<this.bubbles.length;i++)if(!1===this.bubbles[i].visible)return this.bubbles[i].reset(e,t),this.bubbles[i].scale.setTo(a),void this.bubbles[i].animations.play("anim");var n=s.GameManager.instance.layerUpper.create(e,t,"level6","bubbleWaterPart instance 10000",!0,0);n.animations.add("anim",Phaser.Animation.generateFrameNames("bubbleWaterPart instance 1",0,9,"",4),30,!1).onComplete.add(this.bubbleComplete,this),n.animations.play("anim"),n.scale.setTo(a),this.bubbles.push(n)},a.prototype.bubbleComplete=function(e,t){e.kill()},a.prototype.free=function(){t.prototype.free.call(this),this.ship=null,this.boat.free(),this.boat=null,this.topGroup=null,this.levelPhysics=null,this.four=null,this.snail=null,this.turtle=null,this.bubbles=[],this.bubbles=null,this.splash=null},s.Level6=a})(Wheely=Wheely||{}),(e=>{var s,i;function t(e){var t=i.call(this,e)||this,a=(t.boxMove=!0,t.waterSpeed=-8,t.proboina=!1,t.counterWheels=0,t.activateBoxAndHero=0,t.awakeWaterBody=0,t.counterDefeat=0,t.startSpawningBubbles=!1,t.spawningBubblesCounter=0,t.boatCounter=0,t.titanikCounter=0,t.bubbles=new Array,t.game.world.resize(800,783),t.game.camera.y=183,s.GameManager.instance.layerBackground.create(0,0,"bgLevel7_1"));return a.cacheAsBitmap=!0,t.boat=new s.Lvl7Boat(e),t.updateElements.push(t.boat),t.addQuestCar(45,476,s.GameManager.instance.layerBackground),!1===t.questCarFounded&&(t.questCar.inputEnabled=!1),t.addQuestWheel(7,378,356,s.GameManager.instance.layerBackground),t.glass=s.GameManager.instance.layerBackground.create(-1,372.5,"level7","glass instance 10000"),t.glass.inputEnabled=!0,t.glass.events.onInputDown.add(t.glassPress,t),t.glassAnim=s.GameManager.instance.layerBackground.create(-7,438,"level7"),t.glassAnim.animations.add("anim1",Phaser.Animation.generateFrameNames("glassAnim instance 1",0,14,"",4),30,!1).onComplete.addOnce(t.brokeGlass,t),t.glassAnim.animations.add("anim2",Phaser.Animation.generateFrameNames("glassAnim instance 1",15,35,"",4),30,!1).onComplete.addOnce(t.activateQuestCar,t),t.glassAnim.visible=!1,t.glassKnock=s.GameManager.instance.layerBackground.create(0,0,"level7"),t.glassKnock.anchor.setTo(.5),t.glassKnock.animations.add("anim",Phaser.Animation.generateFrameNames("knock instance 1",0,8,"",4),30,!1),t.glassKnock.visible=!1,t.sirena=s.GameManager.instance.layerBackground.create(29,255,"level7","sirena instance 10000"),t.sirena.animations.add("anim",Phaser.Animation.generateFrameNames("sirena instance 1",0,16,"",4),30,!0),t.lift=new s.Lvl7Lift(e),t.updateElements.push(t.lift),t.createTrash(),t.fish=new s.Lvl7Fish(e,t),t.updateElements.push(t.fish),t.ballon=new s.Lvl7Ballon(e,691,313,t),t.updateElements.push(t.ballon),t.fish3=new s.Lvl7Fish3(e),t.updateElements.push(t.fish3),t.doorSlider=new s.Lvl7DoorSlider(e),t.updateElements.push(t.doorSlider),t.grassCutter=new s.Lvl7GrassCutter(e,682,654),t.updateElements.push(t.grassCutter),(a=s.GameManager.instance.layerUpper.create(0,783,"bgLevel7_3")).cacheAsBitmap=!0,a.anchor.setTo(0,1),t.iceberg=new s.Lvl7Iceberg(e,t),t.updateElements.push(t.iceberg),t.bridge=new s.Lvl7Bridge(e),t.updateElements.push(t.bridge),t.suitcase=new s.Lvl7Suitcase(e),t.updateElements.push(t.suitcase),s.GameManager.instance.hero=new s.Hero(e,65,620),t.box=s.GameManager.instance.layerBackground.create(666,570,"level7","box instance 10000"),t.game.physics.box2d.enable(t.box),t.box.body.setRectangle(100,68),t.box.body.data.SetActive(!1),t.box.body.angle=9,t.box.body.data.SetUserData("canWater"),t.box.body.setBodyContactCallback(s.GameManager.instance.hero.bodyWheelBack,t.onBodyContact,t),t.box.body.setBodyContactCallback(s.GameManager.instance.hero.bodyWheelFront,t.onBodyContact,t),t.box.body.mass=1.8,t.finish=new s.Finish(e,698,624),t.updateElements.push(t.finish),t.updateElements.push(new s.ChangeHeroDir(e,"level7",75,513,s.GameManager.instance.layerUpper,62)),t.updateElements.push(new s.ChangeHeroDir(e,"level7",739,189,s.GameManager.instance.layerUpper,62)),t.createWater(),t.addGround(),a=null,t.game.input.onDown.add(t.mouseDragStart,t),t.game.input.addMoveCallback(t.mouseDragMove,t),t.game.input.onUp.add(t.mouseDragEnd,t),s.SoundManager.playSFX("s_harbourAmbient",!0),t}s=e.Client||(e.Client={}),i=s.BasicLevel,__extends(t,i),t.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(new Phaser.Point(this.game.input.worldX,this.game.input.worldY)),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},t.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(new Phaser.Point(this.game.input.worldX,this.game.input.worldY))},t.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},t.prototype.onBodyContact=function(e,t,a,i,n){e!==t&&0===this.activateBoxAndHero&&!0===n&&(this.counterWheels+=1,2<=this.counterWheels)&&(this.activateBoxAndHero=1)},t.prototype.createWater=function(){this.water=s.GameManager.instance.layerElements.create(400,975,"bgLevel7_2"),this.game.physics.box2d.enable(this.water);var e=this.water.body.setRectangle(900,600,-50);e.SetDensity(2),e.SetFriction(.3),e.SetRestitution(0),this.water.body.kinematic=!(e=null),this.water.body.sensor=!0,this.water.body.setCategoryContactCallback(1,this.onContactWithWater,this),this.m_controller=new box2d.b2BuoyancyController,this.m_controller.normal.SetXY(0,1),this.m_controller.offset=0,this.m_controller.useDensity=!0,this.m_controller.density=2,this.m_controller.linearDrag=3,this.m_controller.angularDrag=2,this.game.physics.box2d.world.AddController(this.m_controller)},t.prototype.onContactWithWater=function(e,t,a,i,n){e===t||!0===t.sensor||!1===t.dynamic||"canWater"!==t.data.GetUserData()&&"DragBody"!==t.data.GetUserData()||(!0===n?null===t.data.GetControllerList()&&this.m_controller.AddBody(t.data):null!==t.data.GetControllerList()&&this.m_controller.RemoveBody(t.data))},t.prototype.glassPress=function(){this.glassKnock.visible=!0,this.glassKnock.animations.stop("anim",!0),this.glassKnock.animations.play("anim"),this.glassKnock.x=this.game.input.worldX,this.glassKnock.y=this.game.input.worldY,s.SoundManager.playSFX("s_knockGlass")},t.prototype.brokeGlass=function(){this.glass.frameName="glass instance 10001",this.glassAnim.animations.play("anim2")},t.prototype.activateQuestCar=function(){!1===this.questCarFounded&&(this.questCar.inputEnabled=!0,this.questCar.input.useHandCursor=!0),this.glass.inputEnabled=!1},t.prototype.customAction=function(e){1===(e=void 0===e?0:e)?(s.SoundManager.playSFX("s_alarm",!0),s.SoundManager.playSFX("s_waterLoop",!0),this.proboina=!0,this.suitcase.activate(),this.grassCutter.broke(),this.box.body.data.SetActive(!0),this.water.body.velocity.y=this.waterSpeed,this.medkit.body.data.SetActive(!0),this.medkit.body.data.ApplyLinearImpulse(new box2d.b2Vec2(1,1),this.medkit.body.data.GetPosition()),this.bottle1.body.data.SetActive(!0),this.bottle1.body.data.ApplyLinearImpulse(new box2d.b2Vec2(.5,.6),this.bottle1.body.data.GetPosition()),this.bottle2.body.data.SetActive(!0),this.bottle2.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-1.4,1.1),this.bottle1.body.data.GetPosition()),this.bottle2.body.angularVelocity=2,this.bottle3.body.data.SetActive(!0),this.bottle3.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.2,.9),this.bottle3.body.data.GetPosition()),this.lampochka.body.data.SetActive(!0),this.lampochka.body.data.ApplyLinearImpulse(new box2d.b2Vec2(.7,.6),this.lampochka.body.data.GetPosition()),this.finish.flag.body.x=74,this.finish.flag.body.y=83,this.sirena.animations.play("anim"),this.bodySuitcase.sensor=!1,s.GameManager.instance.hero.setEnableMotor(!1),this.game.camera.shake(.01)):2===e&&(this.glassAnim.visible=!0,this.glassAnim.animations.play("anim1"))},t.prototype.createTrash=function(){this.medkit=s.GameManager.instance.layerBackground.create(457,646,"level7","medkit instance 10000"),this.game.physics.box2d.enable(this.medkit),this.medkit.body.setRectangle(34,26),this.medkit.body.data.SetActive(!1),this.medkit.body.setCollisionMask(~s.FilterGroups.IGNORE_CAR),this.bottle1=s.GameManager.instance.layerBackground.create(417,625,"level7","bottle2 instance 10000"),this.game.physics.box2d.enable(this.bottle1),this.bottle1.body.setRectangle(12,32),this.bottle1.body.data.SetActive(!1),this.bottle1.body.setCollisionMask(~s.FilterGroups.IGNORE_CAR),this.bottle1.body.data.SetUserData("canWater"),this.bottle1.body.mass=.1,this.bottle2=s.GameManager.instance.layerBackground.create(13,486,"level7","bottle2 instance 10000"),this.game.physics.box2d.enable(this.bottle2),this.bottle2.body.setRectangle(12,32),this.bottle2.body.data.SetActive(!1),this.bottle2.body.setCollisionMask(~s.FilterGroups.IGNORE_CAR),this.bottle2.body.data.SetUserData("canWater"),this.bottle2.body.data.GetFixtureList().SetDensity(1),this.bottle3=s.GameManager.instance.layerBackground.create(379,541,"level7","bottle1 instance 10000"),this.game.physics.box2d.enable(this.bottle3),this.bottle3.body.setRectangle(8,28),this.bottle3.body.angle=90,this.bottle3.body.data.SetActive(!1),this.bottle3.body.setCollisionMask(~s.FilterGroups.IGNORE_CAR),this.bottle3.body.data.SetUserData("canWater"),this.lampochka=s.GameManager.instance.layerBackground.create(359,662,"level7","lampochka instance 10000"),this.game.physics.box2d.enable(this.lampochka),this.lampochka.body.setRectangle(10,20),this.lampochka.body.angle=-75,this.lampochka.body.data.SetActive(!1),this.lampochka.body.setCollisionMask(~s.FilterGroups.IGNORE_CAR),this.lampochka.body.data.SetUserData("canWater")},t.prototype.update=function(){if(i.prototype.update.call(this),!0===this.proboina&&(this.water.body.y<=870&&!0===this.boxMove&&(this.box.body.velocity.x=-30,this.box.body.x<=525)&&(this.boxMove=!1,this.box.body.fixedRotation=!0),this.water.body.y<=483&&(this.water.body.velocity.y=0,this.water.body.y=483,this.proboina=!1),this.m_controller.offset=-(this.water.body.y-300)/50,this.awakeWaterBody+=1,5===this.awakeWaterBody)){for(var e=this.m_controller.GetBodyList();e;e=e.nextBody)e.body.SetAwake(!0);this.awakeWaterBody=0}3===this.titanikCounter&&(this.game.camera.y-=2,this.game.camera.y<=0)&&(this.titanikCounter=4,this.game.camera.y=0),1===this.activateBoxAndHero?(this.activateBoxAndHero=2,this.jointBoxHero=this.game.physics.box2d.weldJoint(s.GameManager.instance.hero.bodyBase,this.box.body,0,80),this.boxMass=this.box.body.mass,this.box.body.mass=.1,s.GameManager.instance.hero.bodyBase.addRectangle(70,16,0,-26).m_filter.categoryBits=s.FilterGroups.CAR1,this.bodyBarrierForFish.data.SetActive(!null)):3===this.activateBoxAndHero&&(this.activateBoxAndHero=4,s.GameManager.instance.hero.setClickable(!0),this.game.physics.box2d.world.DestroyJoint(this.jointBoxHero)),1===this.boatCounter&&(this.boatCounter=2,this.boat.activate(),this.finish.flag.body.y=-300),!0===this.startSpawningBubbles?(this.spawningBubblesCounter+=1,2===this.spawningBubblesCounter&&(this.spawningBubblesCounter=0,this.spawnBubble(s.GameManager.instance.hero.bodyBase.x+s.Tools.random(-40,40),s.GameManager.instance.hero.bodyBase.y+s.Tools.random(-30,10),.7+.5*Math.random())),this.counterDefeat+=1,60===this.counterDefeat&&s.LevelBuilder.instance.levelFailed()):s.GameManager.instance.hero.bodyBase.y-15>this.water.body.y-300&&(this.startSpawningBubbles=!0,s.GameManager.instance.hero.setClickable(!1))},t.prototype.spawnBubble=function(e,t,a){for(var i=0;i<this.bubbles.length;i++)if(!1===this.bubbles[i].visible)return this.bubbles[i].visible=!0,this.bubbles[i].x=e,this.bubbles[i].y=t,this.bubbles[i].scale.setTo(a),void this.bubbles[i].animations.play("anim");var n=s.GameManager.instance.layerUpper.create(e,t,"level4");n.animations.add("anim",Phaser.Animation.generateFrameNames("bubbleWaterPart instance 1",0,9,"",4),30,!1).onComplete.add(this.bubbleComplete,this),n.animations.play("anim"),n.scale.setTo(a),this.bubbles.push(n)},t.prototype.bubbleComplete=function(e,t){e.visible=!1},t.prototype.addGround=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,400,680,0);e.setRectangle(800,20),(e=new Phaser.Physics.Box2D.Body(this.game,null,70,544,0)).setRectangle(140,80),this.bodySuitcase=new Phaser.Physics.Box2D.Body(this.game,null,70,630,0),this.bodySuitcase.setRectangle(140,100),this.bodySuitcase.sensor=!0,(e=new Phaser.Physics.Box2D.Body(this.game,null,366,514,0)).setRectangle(184,20),(e=new Phaser.Physics.Box2D.Body(this.game,null,366,529,0)).setRectangle(184,10),e.angle=-8,(e=new Phaser.Physics.Box2D.Body(this.game,null,680,498,0)).setRectangle(174,34),(e=new Phaser.Physics.Box2D.Body(this.game,null,680,516,0)).setRectangle(174,34),e.angle=9,(e=new Phaser.Physics.Box2D.Body(this.game,null,745,615,0)).setRectangle(20,130),e.angle=18,(e=new Phaser.Physics.Box2D.Body(this.game,null,443,280,0)).setRectangle(152,20),(e=new Phaser.Physics.Box2D.Body(this.game,null,660,236,0)).setRectangle(280,108),(e=new Phaser.Physics.Box2D.Body(this.game,null,805,150,0)).setRectangle(10,50),(e=new Phaser.Physics.Box2D.Body(this.game,null,465,535,0)).setRectangle(10,50),e.setCollisionCategory(s.FilterGroups.CAR1),e.setCollisionMask(~s.FilterGroups.IGNORE_CAR),(e=new Phaser.Physics.Box2D.Body(this.game,null,787,400,0)).setRectangle(18,230),e.angle=4,(e=new Phaser.Physics.Box2D.Body(this.game,null,270,158,0)).setRectangle(150,16),(e=new Phaser.Physics.Box2D.Body(this.game,null,180,360,0)).setRectangle(86,20),e.angle=-8,(e=new Phaser.Physics.Box2D.Body(this.game,null,178,300,0)).setRectangle(84,119),(e=new Phaser.Physics.Box2D.Body(this.game,null,67,248,0)).setRectangle(139,14),(e=new Phaser.Physics.Box2D.Body(this.game,null,210,203,0)).setRectangle(38,100),e.angle=5,(e=new Phaser.Physics.Box2D.Body(this.game,null,225,302,0)).setRectangle(20,120),e.angle=9,(e=new Phaser.Physics.Box2D.Body(this.game,null,229,200,0)).setRectangle(30,86),(e=new Phaser.Physics.Box2D.Body(this.game,null,525,625,0)).setRectangle(10,50),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.titanikEvent,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,155,625,0)).setRectangle(10,50),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.activateLift,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,575,460,0)).setRectangle(10,50),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.activateDoors,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,300,200,0)).setRectangle(50,10),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.removeboxJoint,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,390,190,0)).setRectangle(10,50),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.boost,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,530,150,0)).setRectangle(10,50),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.activateBridge,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,395,380,0)).setRectangle(10,150),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.startFish,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,67,83,0)).setRectangle(10,150),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.activateBoat,this),e=null,this.bodyBarrierForFish=new Phaser.Physics.Box2D.Body(this.game,null,0,0,0),this.bodyBarrierForFish.setRectangle(140,10,525,530),this.bodyBarrierForFish.addRectangle(140,10,205,530),this.bodyBarrierForFish.addRectangle(10,120,360,215),this.bodyBarrierForFish.data.SetActive(!1),this.bodyBarrierForFish.setCollisionMask(8)},t.prototype.activateBoat=function(){0===this.boatCounter&&(this.boatCounter=1)},t.prototype.startFish=function(){4===this.titanikCounter&&(this.titanikCounter=5,this.fish3.activate(),this.fish.activate())},t.prototype.activateBridge=function(){5===this.titanikCounter&&(this.titanikCounter=6,this.bridge.activate(),s.GameManager.instance.hero.setCollideWorldBounds(!1))},t.prototype.boost=function(){4===this.activateBoxAndHero&&(this.activateBoxAndHero=5,this.box.body.mass=this.boxMass),s.GameManager.instance.hero.boost(16,60,5)},t.prototype.removeboxJoint=function(){2===this.activateBoxAndHero&&(this.activateBoxAndHero=3)},t.prototype.titanikEvent=function(){0===this.titanikCounter&&(this.titanikCounter=1,this.iceberg.activate())},t.prototype.activateLift=function(){1===this.titanikCounter&&(this.titanikCounter=2,this.lift.activate(),s.GameManager.instance.hero.setEnableMotor(!1))},t.prototype.activateDoors=function(){2===this.titanikCounter&&(this.titanikCounter=3,this.doorSlider.activate(),s.GameManager.instance.hero.setEnableMotor(!1),s.GameManager.instance.hero.setClickable(!1))},t.prototype.free=function(){i.prototype.free.call(this),this.lift=null,this.ballon=null,this.sirena=null,this.doorSlider=null,this.glass=null,this.glassAnim=null,this.glassKnock=null,this.box=null,this.grassCutter=null,this.bridge=null,this.boat=null,this.water=null,this.m_controller=null,this.medkit=null,this.bottle1=null,this.bottle2=null,this.bottle3=null,this.lampochka=null,this.bodyBarrierForFish=null,this.iceberg=null,this.suitcase=null,this.jointBoxHero=null,this.finish=null,this.fish=null,this.fish3=null,this.bodySuitcase=null,this.bubbles=[],this.bubbles=null},s.Level7=t})(Wheely=Wheely||{}),(e=>{var n,a;function t(e){var e=a.call(this,e)||this,t=(e.fireOn=!1,e.showBadger=!1,e.badgerTimer=0,e.doorStep=0,e.brokeDoor=!1,e.brokeHero=null,e.burnHero=!1,e.burnTimer=0,e.gameOver=!1,e.gameOverCounter=0,e.fire=new Array,n.GameManager.instance.layerBackground0.create(0,0,"bgLevel8_1"),n.GameManager.instance.layerUpper.create(0,0,"bgLevel8_2"),n.GameManager.instance.hero=new n.Hero(e.game,-70,480),n.GameManager.instance.hero.setClickable(!1),e.addQuestWheel(8,745,342,n.GameManager.instance.layerUpper),e.addQuestCar(698,502,n.GameManager.instance.layerBackground),new n.Finish(e.game,750,480,!0,n.GameManager.instance.layerElements));return e.updateElements.push(t),e.addBgElements(),e.addGround(),e.addTopDoors(),e.addMonitor(),e.addCamera(),e.addSmallDoors(),e.addFireZone(),e.addBotDoor(),e.addBoat(),e.game.input.onDown.add(e.mouseDragStart,e),e.game.input.onUp.add(e.mouseDragEnd,e),e.game.input.addMoveCallback(e.mouseDragMove,e),n.SoundManager.playSFX("s_canalizationAmbient",!0),e}n=e.Client||(e.Client={}),a=n.BasicLevel,__extends(t,a),t.prototype.startLevel=function(){n.GameManager.instance.hero.setClickable(!0),this.camera.canUpdate=!0,this.addCar()},t.prototype.addBoat=function(){var e=new n.Lvl8Boat(this.game,-110,530);n.GameManager.instance.layerElements.addChild(e)},t.prototype.addBotDoor=function(){this.botDoor=n.GameManager.instance.layerElements.create(352,459,"level8","botDoor instance 10000"),this.game.physics.box2d.enable(this.botDoor),this.botDoor.body.setRectangle(22,105,4),this.botDoor.body.kinematic=!0},t.prototype.destroyDoor=function(){this.doorStep+=1,this.doorStep<3?this.botDoor.frameName="botDoor instance 1000"+this.doorStep:3===this.doorStep&&(this.brokeDoor=!0,this.botDoor.body.data.SetActive(!1),this.botDoor.visible=!1,this.addDoorPart(1,352,425,new box2d.b2Vec2(15,-15)),this.addDoorPart(2,352,458,new box2d.b2Vec2(21,0)),this.addDoorPart(3,352,492,new box2d.b2Vec2(15,1)))},t.prototype.addDoorPart=function(e,t,a,i){t=n.GameManager.instance.layerElements.create(t,a,"level8","doorPart"+e+"_mc instance 10000");this.game.physics.box2d.enable(t),t.body.mass=5,t.body.setCollisionMask(~n.FilterGroups.IGNORE_CAR),t.body.data.SetLinearVelocity(i)},t.prototype.scareDuck=function(){this.duck.play("fly"),this.game.add.tween(this.duck).to({x:-100,y:80},2500,"Linear",!0)},t.prototype.destroyWheely=function(){this.gameOver=!0,n.GameManager.instance.hero.setVisibility(!1),this.brokeHero=new n.BrokeHero(this.game,n.GameManager.instance.hero.bodyBase.x,n.GameManager.instance.hero.bodyBase.y)},t.prototype.addFireZone=function(){this.updateElements.push(new n.Lvl8FireZone(this.game))},t.prototype.addSmallDoors=function(){this.updateElements.push(new n.Lvl8TopDoor(this.game,408,300))},t.prototype.addCamera=function(){this.camera=new n.Lvl8Camera(this.game,345,78),n.GameManager.instance.layerUpper.addChild(this.camera)},t.prototype.addMonitor=function(){this.monitor=new n.Lvl8Monitor(this.game),this.updateElements.push(this.monitor)},t.prototype.monitorCheck=function(){this.monitor.show()},t.prototype.addTopDoors=function(){this.doorL=n.GameManager.instance.layerBackground.create(362,228,"level8","topDoor instance 10000"),this.game.physics.box2d.enable(this.doorL),this.doorL.body.kinematic=!0,this.doorR=n.GameManager.instance.layerBackground.create(783,228,"level8","topDoor instance 10000"),this.game.physics.box2d.enable(this.doorR),this.doorR.body.kinematic=!0},t.prototype.openDoor=function(e){1===e?this.openCurrentDoor(this.doorL.body):this.openCurrentDoor(this.doorR.body)},t.prototype.openCurrentDoor=function(e){n.SoundManager.playSFX("lvl8_s_gate"),this.game.add.tween(e).to({y:e.y-125},600,"Linear",!0).onComplete.add(function(){this.nasaCar.goNextStep()},this)},t.prototype.closeDoor=function(e){n.SoundManager.playSFX("lvl8_s_gate"),1===e?this.game.add.tween(this.doorL.body).to({y:this.doorL.body.y+125},600,"Linear",!0):this.game.add.tween(this.doorR.body).to({y:this.doorR.body.y+125},600,"Linear",!0)},t.prototype.addCar=function(){this.nasaCar=new n.Lvl8Car(this.game),this.updateElements.push(this.nasaCar)},t.prototype.addBgElements=function(){var e=n.GameManager.instance.layerBackground0.create(613,490,"level8","water instance 10000");e.animations.add("move",Phaser.Animation.generateFrameNames("water instance 1",0,39,"",4),35,!0),e.play("move"),this.wall=n.GameManager.instance.layerBackground.create(649,379,"level8","wall instance 10000"),this.grate=n.GameManager.instance.layerBackground.create(600,456,"level8","grate instance 10000"),this.grate.inputEnabled=!0,this.wall.inputEnabled=!0,this.badger=n.GameManager.instance.layerUpper.create(170,555,"level8","badger instance 10000"),this.badger.animations.add("move",Phaser.Animation.generateFrameNames("badger instance 1",0,129,"",4),35,!1).onComplete.add(function(){this.showBadger=!0,this.badgerTimer=0},this),this.badger.play("move"),this.duck=n.GameManager.instance.layerUpper.create(275,518,"level8","urbanDuck instance 10000"),this.duck.animations.add("move",Phaser.Animation.generateFrameNames("urbanDuck instance 1",0,73,"",4),35,!0),this.duck.animations.add("fly",Phaser.Animation.generateFrameNames("urbanDuck instance 1",74,88,"",4),35,!0),this.duck.play("move")},t.prototype.destroyWalls=function(){this.wall.frameName="wall instance 10001",this.grate.frameName="grate instance 10001",this.grate.inputEnabled=!1,this.wall.inputEnabled=!1},t.prototype.addGround=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,574,41,0);e.setRectangle(232,10,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,730,54,0)).setRectangle(89,10,0,0,n.Tools.toRad(20)),(e=new Phaser.Physics.Box2D.Body(this.game,null,420,54,0)).setRectangle(89,10,0,0,n.Tools.toRad(-20)),(e=new Phaser.Physics.Box2D.Body(this.game,null,378,110,0)).setRectangle(10,89,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,767,110,0)).setRectangle(10,89,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,360,159,0)).setRectangle(44,10,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,784,159,0)).setRectangle(44,10,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,46,300,0)).setRectangle(718,10,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,807,300,0)).setRectangle(665,10,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,627,518,0)).setRectangle(593,10,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,244,532,0)).setRectangle(174,10,0,0,n.Tools.toRad(-10)),(e=new Phaser.Physics.Box2D.Body(this.game,null,341,352,0)).setRectangle(10,104,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,401,321,0)).setRectangle(10,42,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,354,400,0)).setRectangle(30,10,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,379,369,0)).setRectangle(74,10,0,0,n.Tools.toRad(110)),(e=new Phaser.Physics.Box2D.Body(this.game,null,479,321,0)).setRectangle(10,42,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,542,337,0)).setRectangle(115,10,0,0,0),(e=new Phaser.Physics.Box2D.Body(this.game,null,625,367,0)).setRectangle(74,10,0,0,n.Tools.toRad(-130)),(e=new Phaser.Physics.Box2D.Body(this.game,null,724,396,0)).setRectangle(151,10,0,0,0)},t.prototype.mouseDragStart=function(){null!=this.nasaCar&&3===this.nasaCar.carPositionStep&&this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position)},t.prototype.mouseDragMove=function(){null!==this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},t.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},t.prototype.update=function(){a.prototype.update.call(this),!0===this.showBadger&&(this.badgerTimer+=1,300===this.badgerTimer)&&(this.showBadger=!1,this.badger.play("move")),!0===this.gameOver&&(this.gameOverCounter+=1,60===this.gameOverCounter)&&n.LevelBuilder.instance.levelFailed(),!0===this.brokeDoor&&this.fireOn&&n.Tools.distance(n.GameManager.instance.hero.bodyBase.x,n.GameManager.instance.hero.bodyBase.y,570,430)<100&&(this.burnHero=!0),!0===this.burnHero&&(this.burnTimer+=1,40===this.burnTimer&&(this.burnHero=!1,this.destroyWheely()),this.updateBurning())},t.prototype.updateBurning=function(){for(var e=0;e<this.fire.length;e++)if(!1===this.fire[e].visible)return this.fire[e].reset(this.game.rnd.integerInRange(-25,25),this.game.rnd.integerInRange(-35,0)),this.fire[e].scale.setTo(Math.random()+1),void this.fire[e].animations.play("idle");for(e=0;e<2;e++){var t=this.game.make.sprite(0,0,"level8","meteorTrackParticle instance 10000");t.animations.add("idle",Phaser.Animation.generateFrameNames("meteorTrackParticle instance 1",0,14,"",4),35,!1).killOnComplete=!0,t.anchor.set(.5),t.play("idle"),t.scale.set(Math.random()+1),t.x=this.game.rnd.integerInRange(-25,25),t.y=this.game.rnd.integerInRange(-35,0),n.GameManager.instance.hero.baseGroup.addChild(t),this.fire.push(t)}},t.prototype.free=function(){a.prototype.free.call(this),this.nasaCar=null,this.monitor=null,this.camera=null,this.wall=null,this.grate=null,this.duck=null,this.badger=null,this.doorL=null,this.doorR=null,(this.botDoor=null)!=this.brokeHero&&this.brokeHero.free(),this.brokeHero=null},n.Level8=t})(Wheely=Wheely||{}),(e=>{var s,i;function t(e){var t=i.call(this,e)||this,a=(t.heroKeepAngleDisabled=!1,t.updateHeroAngle=!1,t.heroDesintegrationCounter=0,t.addDesintegrationParticleCounter=0,t.heroAngleLimit=30,t.currHeroAngle=0,t.heroX=0,t.startLose=!1,t.counterLose=0,t.contactTeleportCounter=0,t.disableMask1Counter=0,t.particleParam=new Array,t.particle=new Array,s.GameManager.instance.layerBackground.create(0,0,"bgLevel9_1"));return a.cacheAsBitmap=!0,t.addQuestWheel(9,500,94,s.GameManager.instance.layerBackground),(a=s.GameManager.instance.layerBackground.create(66,150,"level9")).animations.add("anim",Phaser.Animation.generateFrameNames("emptyArrow instance 1",0,36,"",4),30,!0),a.animations.play("anim"),t.roboHands=new s.Lvl9RoboHands(e),t.updateElements.push(t.roboHands),t.bodyLaser=new Phaser.Physics.Box2D.Body(e,null,322,270,0),t.bodyLaser.setRectangle(270,40),t.bodyLaser.sensor=!0,t.bodyTakeHero=new Phaser.Physics.Box2D.Body(e,null,322,400,1),t.bodyTakeHero.setRectangle(270,10),t.bodyTakeHero.addRectangle(10,100,135,-50),t.bodyTakeHero.setCollisionCategory(s.FilterGroups.CAR2),t.createTrash(),t.speedTest=new s.Lvl9SpeedTest(e),t.updateElements.push(t.speedTest),t.fakeWheely=new s.Lvl9FakeWheely(e),t.updateElements.push(t.fakeWheely),s.GameManager.instance.hero=new s.Hero(e,65,182),t.door=new s.Lvl9Door(e),t.updateElements.push(t.door),t.roboArm=new s.Lvl9RoboArmQuest(e),t.updateElements.push(t.roboArm),t.updateElements.push(new s.Lvl9Arrow(e)),t.teleport1=new s.Lvl9Teleport1(e,t.fakeWheely),t.updateElements.push(t.teleport1),t.teleport2=new s.Lvl9Teleport2(e),t.updateElements.push(t.teleport2),t.bodyLaser.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,t.desintegrationHero,t),(a=s.GameManager.instance.layerUpper.create(0,0,"bgLevel9_2")).cacheAsBitmap=!0,t.createLaser(322,255),t.createLaser(322,288),t.gravitation=new s.Lvl9Gravitation(e),t.updateElements.push(t.gravitation),t.updateElements.push(new s.Lvl9ChangeHeroDir(e,"level9",535,500,s.GameManager.instance.layerUpper,64)),a=null,t.mask=e.make.graphics(0,0),s.GameManager.instance.layerElements.add(t.mask),t.addGround(),t.activateMask(1),t.game.input.onDown.add(t.mouseDragStart,t),t.game.input.addMoveCallback(t.mouseDragMove,t),t.game.input.onUp.add(t.mouseDragEnd,t),t.updateElements.push(new s.Finish(e,20,527)),s.SoundManager.playSFX("s_labAmbient",!0),s.SoundManager.playSFX("s_laserLoop",!0),t}s=e.Client||(e.Client={}),i=s.BasicLevel,__extends(t,i),t.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},t.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},t.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},t.prototype.customAction=function(e){1===(e=void 0===e?0:e)?this.mouseDragStart():2===e&&!1===this.questCarFounded?this.roboArm.activate():3===e?(this.addQuestCar(113,215,s.GameManager.instance.layerBackground),this.questCar.scale.setTo(.94)):4===e?(this.teleport1.deactivateLight(),this.teleport2.deactivateLight()):5===e?(this.roboHands.activate(1),this.speedTest.show()):6===e?(this.roboHands.activate(2),this.door.activate(2)):7===e?(this.gravitation.activate(),s.GameManager.instance.hero.setClickable(!0),this.activateMask(3),this.bodyTakeHero.destroy(),this.teleport2.body.y-=50,this.heroKeepAngleDisabled=!0,s.GameManager.instance.hero.setKeepAngle(!1)):8===e?(this.updateHeroAngle=!0,this.heroX=s.GameManager.instance.hero.bodyBase.x):9===e?this.heroKeepAngleDisabled=!1:10===e&&(this.heroKeepAngleDisabled=!0)},t.prototype.createLaser=function(e,t){var a=s.GameManager.instance.layerUpper.create(e+3,t,"level9");a.anchor.setTo(.5),a.animations.add("anim",Phaser.Animation.generateFrameNames("laserBeam instance 1",0,9,"",4),30,!0),a.animations.play("anim"),(a=s.GameManager.instance.layerUpper.create(e-150,t-26,"level9")).animations.add("anim",Phaser.Animation.generateFrameNames("laserTok instance 1",0,59,"",4),30,!0),a.animations.play("anim"),(a=s.GameManager.instance.layerUpper.create(e-130,t,"level9","laserBase instance 10000")).anchor.setTo(.5),this.game.physics.box2d.enable(a),a.body.setCircle(14),a.body.static=!0,(a=s.GameManager.instance.layerUpper.create(e+130,t,"level9","laserBase instance 10000")).anchor.setTo(.5),this.game.physics.box2d.enable(a),a.body.setCircle(14),a.body.static=!0},t.prototype.createTrash=function(){var e=s.GameManager.instance.layerElements.create(120,553,"level9","tripod instance 10000");this.game.physics.box2d.enable(e),e.body.setRectangle(36,35),e.body.setCollisionCategory(s.FilterGroups.CAR2),e.body.setCollisionMask(~s.FilterGroups.TRUCK),this.bodyLaser.setBodyContactCallback(e.body,this.desintegrationTrash,this),e=s.GameManager.instance.layerElements.create(239,543,"level9","micro instance 10000"),this.game.physics.box2d.enable(e),e.body.setRectangle(40,57),e.body.setCollisionCategory(s.FilterGroups.CAR2),e.body.setCollisionMask(~s.FilterGroups.TRUCK),this.bodyLaser.setBodyContactCallback(e.body,this.desintegrationTrash,this),e=s.GameManager.instance.layerElements.create(336,547,"level9","zhyyr instance 10000"),this.game.physics.box2d.enable(e),e.body.setRectangle(41,44),e.body.setCollisionCategory(s.FilterGroups.CAR2),e.body.setCollisionMask(~s.FilterGroups.TRUCK),this.bodyLaser.setBodyContactCallback(e.body,this.desintegrationTrash,this),e=s.GameManager.instance.layerElements.create(491,474,"level9","audio instance 10000"),this.game.physics.box2d.enable(e),e.body.setRectangle(46,32),e.body.setCollisionCategory(s.FilterGroups.CAR2),e.body.setCollisionMask(~s.FilterGroups.TRUCK),this.bodyLaser.setBodyContactCallback(e.body,this.desintegrationTrash,this)},t.prototype.desintegrationHero=function(){0===this.heroDesintegrationCounter&&(this.heroDesintegrationCounter=1,s.SoundManager.playSFX("s_laserDeath",!1,.5))},t.prototype.desintegrationTrash=function(e,t,a,i,n){e!==t&&(!1===n?t.sprite.destroy():(s.SoundManager.playSFX("s_laserDeath",!1,.5),this.particleParam.push({x:t,count:14,rand:20})))},t.prototype.update=function(){if(i.prototype.update.call(this),!0===this.heroKeepAngleDisabled&&(!0===this.updateHeroAngle?(s.GameManager.instance.hero.bodyBase.x=this.heroX,s.GameManager.instance.hero.bodyBase.angularVelocity=-8,(0===this.currHeroAngle&&s.GameManager.instance.hero.bodyBase.angle<-170||180===this.currHeroAngle&&0<s.GameManager.instance.hero.bodyBase.angle&&s.GameManager.instance.hero.bodyBase.angle<10)&&(this.updateHeroAngle=!1,this.currHeroAngle+=180,360<=this.currHeroAngle)&&(this.currHeroAngle=0)):180===this.currHeroAngle?0<s.GameManager.instance.hero.bodyBase.angle&&s.GameManager.instance.hero.bodyBase.angle<this.currHeroAngle-this.heroAngleLimit?s.GameManager.instance.hero.bodyBase.angle=this.currHeroAngle-this.heroAngleLimit:s.GameManager.instance.hero.bodyBase.angle<0&&s.GameManager.instance.hero.bodyBase.angle>-this.currHeroAngle+this.heroAngleLimit&&(s.GameManager.instance.hero.bodyBase.angle=-this.currHeroAngle+this.heroAngleLimit):s.GameManager.instance.hero.bodyBase.angle<this.currHeroAngle-this.heroAngleLimit?s.GameManager.instance.hero.bodyBase.angle=this.currHeroAngle-this.heroAngleLimit:s.GameManager.instance.hero.bodyBase.angle>this.currHeroAngle+this.heroAngleLimit&&(s.GameManager.instance.hero.bodyBase.angle=this.currHeroAngle+this.heroAngleLimit)),1===this.heroDesintegrationCounter&&(this.heroDesintegrationCounter=2,this.startLose=!0,s.GameManager.instance.hero.setClickable(!1),this.gravitation.deactivate(),this.particleParam.push({x:s.GameManager.instance.hero.bodyBase,count:30,rand:30})),1===this.contactTeleportCounter&&(this.contactTeleportCounter=2,s.GameManager.instance.hero.setClickable(!1),!0===this.teleport1.deactivated?(this.fakeWheely.activate(),this.teleport2.deactivate(),this.teleport1.teleportation(),this.teleport2.teleportation(),s.GameManager.instance.hero.setPosition(this.teleport2.body.x-5,this.teleport2.body.y-50),this.activateMask(2)):this.teleport1.deactivate()),0<this.particleParam.length)for(var e=0;e<this.particleParam.length;)--this.particleParam[e].count,this.setParticle(this.particleParam[e].x.x+s.Tools.random(-this.particleParam[e].rand,this.particleParam[e].rand),.5*Math.random()+.7),0===this.particleParam[e].count?this.particleParam.splice(e,1):e+=1;if(0<this.particle.length)for(var t=0;t<this.particle.length;t++)!1!==this.particle[t].visible&&(this.particle[t].y+=this.gravitation.currGravityY/150);!0===this.startLose&&(this.counterLose+=1,60<=this.counterLose)&&(this.startLose=!1,s.LevelBuilder.instance.levelFailed())},t.prototype.setParticle=function(e,t){for(var a=0;a<this.particle.length;a++)if(!1===this.particle[a].visible)return this.particle[a].x=e,this.particle[a].y=this.bodyLaser.y,this.particle[a].animations.play("anim"),void(this.particle[a].visible=!0);var i=s.GameManager.instance.layerUpper.create(e,this.bodyLaser.y,"level9");i.animations.add("anim",Phaser.Animation.generateFrameNames("disintegrationParticle instance 1",0,14,"",4),30,!1).onComplete.add(this.particleAnimComplete,this),i.animations.play("anim"),i.anchor.setTo(.5),i.scale.setTo(t),this.particle.push(i)},t.prototype.particleAnimComplete=function(e,t){e.visible=!1},t.prototype.activateMask=function(e){this.mask.clear(),this.mask.beginFill(16711680,.5),1===e?(this.mask.drawRect(0,0,800,250),this.mask.drawRect(0,430,800,170)):2===e?(this.mask.drawRect(this.teleport1.graphic.x-207,this.teleport1.graphic.y-75,200,150),this.mask.drawRect(this.teleport2.graphic.x+7,this.teleport2.graphic.y-75,300,150),this.mask.drawRect(0,430,800,170)):3===e&&this.mask.drawRect(0,290,800,310),this.mask.endFill(),s.GameManager.instance.layerElements.mask=this.mask},t.prototype.deactivateMask=function(){this.mask.clear(),s.GameManager.instance.layerElements.mask=null},t.prototype.addGround=function(){var e=new Phaser.Physics.Box2D.Body(this.game,null,93,327,0);e.setRectangle(186,196),(e=new Phaser.Physics.Box2D.Body(this.game,null,540,268,0)).setRectangle(164,84),e.friction=2,(e=new Phaser.Physics.Box2D.Body(this.game,null,11,64.15,0)).setRectangle(22,128),(e=new Phaser.Physics.Box2D.Body(this.game,null,76.2,13,0)).setRectangle(107,26),(e=new Phaser.Physics.Box2D.Body(this.game,null,495,13,0)).setRectangle(610,26),(e=new Phaser.Physics.Box2D.Body(this.game,null,162,-13,0)).setRectangle(107,26),(e=new Phaser.Physics.Box2D.Body(this.game,null,-11,174,0)).setRectangle(22,128),(e=new Phaser.Physics.Box2D.Body(this.game,null,789,312,0)).setRectangle(22,572),(e=new Phaser.Physics.Box2D.Body(this.game,null,623,544,0)).setRectangle(310,107),(e=new Phaser.Physics.Box2D.Body(this.game,null,145,585,0)).setRectangle(642,27),(e=new Phaser.Physics.Box2D.Body(this.game,null,-186,507,0)).setRectangle(22,128),(e=new Phaser.Physics.Box2D.Body(this.game,null,-11,495,0)).setRectangle(22,145),e.setCollisionCategory(s.FilterGroups.TRUCK),e.setCollisionMask(~s.FilterGroups.IGNORE_CAR),(e=new Phaser.Physics.Box2D.Body(this.game,null,161,205,0)).setRectangle(18,56),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.contactTeleport,this),(e=new Phaser.Physics.Box2D.Body(this.game,null,580,205,0)).setRectangle(18,56),e.sensor=!0,e.setBodyContactCallback(s.GameManager.instance.hero.bodyBase,this.disableMask1,this)},t.prototype.contactTeleport=function(){0===this.contactTeleportCounter&&(this.contactTeleportCounter=1)},t.prototype.disableMask1=function(){0===this.disableMask1Counter&&(this.disableMask1Counter=1,this.deactivateMask(),s.GameManager.instance.hero.setClickable(!0))},t.prototype.free=function(){this.game.physics.box2d.world.SetGravity(new box2d.b2Vec2(0,-500/this.game.physics.box2d.ptmRatio)),i.prototype.free.call(this),this.teleport1=null,this.teleport2=null,this.roboArm=null,this.door=null,this.fakeWheely=null,this.mask=null,this.roboHands=null,this.speedTest=null,this.gravitation=null,this.bodyLaser=null,this.bodyTakeHero=null,this.particleParam=[],this.particleParam=null,this.particle=[],this.particle=null},s.Level9=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e,t,a){e=n.call(this,e,i.Variables.SW/2,830,t,a=void 0===a?null:a)||this;return e.timeShow=200,e.timeHide=400,e.hideX=e.showX=e.x,e.hideY=e.y,e.showY=352,e.anchor.setTo(.5),e}i=e.Client||(e.Client={}),n=Phaser.Sprite,__extends(t,n),t.prototype.over=function(){i.SoundManager.playSFX("btnOver")},t.prototype.show=function(){this.game.add.tween(this).to({y:this.showY},this.timeShow,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.showComplete,this)},t.prototype.hide=function(){this.inputEnabled=!1,this.game.add.tween(this).to({y:this.hideY},this.timeHide,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.hideComplete,this)},t.prototype.hideME=function(e){i.PanelManager.getInstance(e).hidePanel(this.name)},t.prototype.hideFastME=function(e){i.PanelManager.getInstance(e).hideFastPanel(this.name)},t.prototype.hideFast=function(){this.inputEnabled=!1,this.y=this.hideY,this.hideComplete()},t.prototype.showComplete=function(){this.inputEnabled=!0},t.prototype.hideComplete=function(){},t.prototype.clickOnExit=function(){Fabrique.AdHandler.getInstance().showAd("menu",function(){i.Main.instance.pausedByPanel=!1,i.LevelBuilder.instance.game.paused=!1,i.SoundManager.stopAllSFXLoop(),i.SoundManager.playSFX("btnClick"),i.LevelBuilder.instance.exitGame()})},i.BasicPanel=t})(Wheely=Wheely||{}),(e=>{var i,n;function t(e,t){var a=n.call(this,e,"ui","panelLose instance 10000")||this;return a.name=t,(t=e.make.button(137,81.5,"ui",i.LevelBuilder.instance.restartGame,a,"btnBigRestart instance 10001","btnBigRestart instance 10000")).anchor.setTo(.5),a.addChild(t),t.onInputOver.add(a.over,a),t=null,i.SoundManager.playSFX("levelFail"),a}i=e.Client||(e.Client={}),n=i.BasicPanel,__extends(t,n),i.Lose=t})(Wheely=Wheely||{}),(e=>{e.Pause="Pause",e.Win="Win",e.Lose="Lose"})(PanelList=PanelList||{}),(e=>{var a,i;function t(e){var t=i.call(this,e,e.world,"PanelManager")||this;return t.timeShow=500,t.timeHide=500,t.black=null,t.game=e,t.game.world.addChild(t),t.stock={},t.fixedToCamera=!0,t}a=e.Client||(e.Client={}),i=Phaser.Group,__extends(t,i),t.getInstance=function(e){return t.instance=t.instance?t.instance:new t(e)},t.prototype.init=function(){this.black=this.game.add.graphics(0,0,this),this.black.beginFill(0,1),this.black.drawRect(0,0,a.Variables.SW,a.Variables.SH),this.black.endFill(),this.black.alpha=0,this.black.inputEnabled=!0,this.addChild(this.black)},t.prototype.showPanel=function(e){var t;null===this.black&&this.init(),void 0===this.stock[e]&&(t=a.Tools.getInstance(e,this.game,e),this.stock[e]=this.add(t),t=null),this.game.world.bringToTop("PanelManager"),this.stock[e].show(),this.showBlack()},t.prototype.hidePanel=function(e,t){void 0===t&&(t=!1),void 0!==this.stock[e]&&(this.game.world.sendToBack("PanelManager"),this.stock[e].hide(),!1===t)&&this.hideBlack()},t.prototype.hideFastPanel=function(e,t){void 0===t&&(t=!1),void 0!==this.stock[e]&&(this.stock[e].hideFast(),!1===t)&&this.hideFastBlack()},t.prototype.showBlack=function(){this.visible=!0,this.game.add.tween(this.black).to({alpha:.7},this.timeShow,Phaser.Easing.Linear.None,!0)},t.prototype.hideBlack=function(){this.game.add.tween(this.black).to({alpha:0},this.timeHide,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.hideBlackComplete,this)},t.prototype.hideBlackComplete=function(){this.visible=!1},t.prototype.hideFastBlack=function(){this.black.alpha=0,this.hideBlackComplete()},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.black=null,this.stock={},this.stock=null,this.game=null,t.instance=null},a.PanelManager=t})(Wheely=Wheely||{}),(e=>{var t,i;function a(e,t){var a=i.call(this,e,"ui","panelPause instance 10000")||this,t=(a.name=t,(a.game=e).make.sprite(-25,-64,"ui"));return t.animations.add("anim",Phaser.Animation.generateFrameNames("arrowAnim instance 1",0,35,"",4),30,!0),t.animations.play("anim"),a.addChild(t),t=null,a.btnExit=e.make.button(-140,84,"ui",a.clickOnExit,a,"btnBigExit instance 10001","btnBigExit instance 10000"),a.btnExit.anchor.setTo(.5),a.addChild(a.btnExit),a.btnExit.onInputOver.add(a.over,a),a.btnResume=e.make.button(108.5,80.5,"ui",a.clickOnClose,a,"btnBigClose2 instance 10001","btnBigClose2 instance 10000"),a.btnResume.anchor.setTo(.5),a.addChild(a.btnResume),a.btnResume.onInputOver.add(a.over,a),a.game.input.onDown.add(a.unpause,a),a}t=e.Client||(e.Client={}),i=t.BasicPanel,__extends(a,i),a.prototype.unpause=function(e){!0===this.game.paused&&(this.btnResume.getBounds().contains(this.game.input.x,this.game.input.y)&&this.clickOnClose(),this.btnExit.getBounds().contains(this.game.input.x,this.game.input.y))&&this.clickOnExit()},a.prototype.clickOnClose=function(){var e=this;Fabrique.AdHandler.getInstance().showAd("resume",function(){e.game.tweens.removeFrom(e),t.SoundManager.playSFX("btnClick"),e.hideFastME(e.game),t.LevelBuilder.instance.game.paused=!1,t.Main.instance.pausedByPanel=!1})},a.prototype.showComplete=function(){i.prototype.showComplete.call(this),t.LevelBuilder.instance.game.paused=!0,t.Main.instance.pausedByPanel=!0},a.prototype.hideComplete=function(){t.LevelBuilder.instance.resumeGame()},a.prototype.destroy=function(){this.btnExit=null,this.btnResume=null,this.game.input.onDown.remove(this.unpause,this),i.prototype.destroy.call(this)},t.Pause=a})(Wheely=Wheely||{}),(e=>{var i,n;function t(e,t){var a=n.call(this,e,"ui","panelWin instance 10000")||this;return a.name=t,10!==i.LevelManager.getInstance().currentLevel&&11!==i.LevelManager.getInstance().currentLevel||i.SoundManager.playSFX("levelWin"),a.star1=e.make.sprite(-74,9,"ui"),a.star1.animations.add("anim",Phaser.Animation.generateFrameNames("winStar instance 1",0,27,"",4),30),a.star1.animations.play("anim"),a.star1.animations.stop("anim"),a.star1.anchor.setTo(.5),a.star1.angle=4,a.addChild(a.star1),a.star2=e.make.sprite(-17,9,"ui"),a.star2.animations.add("anim",Phaser.Animation.generateFrameNames("winStar instance 1",0,27,"",4),30),a.star2.animations.play("anim"),a.star2.animations.stop("anim"),a.star2.anchor.setTo(.5),a.addChild(a.star2),a.star3=e.make.sprite(37,9,"ui"),a.star3.animations.add("anim",Phaser.Animation.generateFrameNames("winStar instance 1",0,27,"",4),30),a.star3.animations.play("anim"),a.star3.animations.stop("anim"),a.star3.anchor.setTo(.5),a.star3.angle=-4,a.addChild(a.star3),a.wheel=e.make.sprite(-98,-65,"ui"),a.wheel.animations.add("anim",Phaser.Animation.generateFrameNames("winWheel instance 1",0,9,"",4),30),a.wheel.animations.play("anim"),a.wheel.animations.stop("anim"),a.wheel.anchor.setTo(.5),a.addChild(a.wheel),a.flag=e.make.sprite(-17,-65,"ui"),a.flag.animations.add("anim",Phaser.Animation.generateFrameNames("winFlag instance 1",0,9,"",4),30),a.flag.animations.play("anim"),a.flag.animations.stop("anim"),a.flag.anchor.setTo(.5),a.addChild(a.flag),a.car=e.make.sprite(57,-65,"ui"),a.car.animations.add("anim",Phaser.Animation.generateFrameNames("winCar instance 1",0,9,"",4),30),a.car.animations.play("anim"),a.car.animations.stop("anim"),a.car.anchor.setTo(.5),a.addChild(a.car),(t=e.make.button(106,80.5,"ui",function(){Fabrique.AdHandler.getInstance().showAd("next",function(){i.SoundManager.playSFX("btnClick"),i.LevelBuilder.instance.nextLevel()})},a,"btnBigPlay instance 10001","btnBigPlay instance 10000")).anchor.setTo(.5),a.addChild(t),t.onInputOver.add(a.over,a),t=null,i.DataManager.getInstance().saveData("questFlag"+i.LevelManager.getInstance().currentLevel,1),a}i=e.Client||(e.Client={}),n=i.BasicPanel,__extends(t,n),t.prototype.showComplete=function(){n.prototype.showComplete.call(this),this.star2.animations.play("anim"),this.flag.animations.play("anim"),!0===i.LevelBuilder.instance.panelQuest.wheelFounded&&(this.star1.animations.play("anim"),this.wheel.animations.play("anim")),!0===i.LevelBuilder.instance.panelQuest.carFounded&&(this.star3.animations.play("anim"),this.car.animations.play("anim"))},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.star1=null,this.star2=null,this.star3=null,this.wheel=null,this.flag=null,this.car=null},i.Win=t})(Wheely=Wheely||{}),(e=>{var a,t;function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.name=i.Name,e}a=e.Client||(e.Client={}),t=Phaser.State,__extends(i,t),i.prototype.init=function(){this.stage.setBackgroundColor(0),Fabrique.PauseHandler.getInstance(this.game).init(),Fabrique.AdHandler.getInstance().init(),this.input.maxPointers=1,this.game.canvas.oncontextmenu=function(e){e.preventDefault()}},i.prototype.preload=function(){var t=this;this.game.load.cacheBuster="undefined"==typeof version?null:version,this.game.load.onFileComplete.add(function(e){h5branding.SplashLoader.getInstance().setLoadProgress(e)}),this.game.load.onLoadComplete.add(function(){h5branding.SplashLoader.getInstance().setLoadProgress(100)}),h5branding.SplashLoader.getInstance().setButtonCallback(function(){h5branding.SplashLoader.getInstance().destroy(),i.inBoot=!1,Fabrique.AdHandler.getInstance().showAd("splash",function(){t.game.state.start(a.Menu.Name)})}),a.DataManager.getInstance(this.game).init(),a.LevelManager.getInstance(this.game).init(),this.game.load.bitmapFont("mainFont","assets/fonts/mainFont.png","assets/fonts/mainFont.fnt"),this.game.load.bitmapFont("numbers","assets/fonts/numbers.png","assets/fonts/numbers.fnt"),this.game.load.bitmapFont("walkthrough","assets/fonts/walkthrough.png","assets/fonts/walkthrough.fnt"),Constants.GAME_SCALE;Images.list.forEach(function(e){t.game.load.image(e,"assets/images/"+e+".png")}),Atlases.list.forEach(function(e){t.game.load.atlas(e,"assets/atlases/"+e+".png","assets/atlases/"+e+".json")}),Sounds.list.forEach(function(e){t.game.device.iOS?t.game.load.audio(e,["assets/sound/"+e+".m4a"]):t.game.load.audio(e,["assets/sound/"+e+".ogg","assets/sound/"+e+".mp3"])}),this.game.load.audiosprite(Sounds.Wheely,["assets/sound/wheely5.ogg","assets/sound/wheely5.m4a","assets/sound/wheely5.mp3"],"assets/sound/wheely5.json"),this.game.load.crossOrigin="anonymous",h5branding.Utils.getBrandingDomain()!==h5branding.BrandingDomain.Neutral&&this.game.load.image("branding_logo",h5branding.Branding.brandingLogoUrl)},i.Name="boot",i.inBoot=!0,a.Boot=i})(Wheely=Wheely||{}),(e=>{var i,t;function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.name=a.Name,e}i=e.Client||(e.Client={}),t=Phaser.State,__extends(a,t),a.prototype.create=function(){var e=this.game.add.graphics(0,0);e.beginFill(16777215),e.drawRect(0,0,800,600),e.endFill(),this.btnExit=this.add.button(740,540,"ui",this.up,this,"btnBigPlay instance 10001","btnBigPlay instance 10000","btnBigPlay instance 10000","btnBigPlay instance 10000"),this.btnExit.name="exit",this.btnExit.anchor.set(.5,.5),this.btnExit.onInputDown.add(this.down,this),this.btnExit.events.onInputOver.add(this.over,this),this.tv=new i.BigTv(this.game,!0,1.2,400,290)},a.prototype.over=function(){i.SoundManager.playSFX("btnOver")},a.prototype.up=function(e,t,a){e.scale.setTo(1),!0===a&&(i.LevelManager.getInstance().currentLevel=3,this.game.state.start(SceneList.LevelBuilder,!0,!1)),i.SoundManager.playSFX("btnClick")},a.prototype.down=function(e){e.scale.setTo(.9)},a.prototype.update=function(){this.tv.update()},a.prototype.shutdown=function(){this.game=null,this.btnExit=null,this.tv.free(),this.tv=null},a.Name="Comix",i.Comix=a})(Wheely=Wheely||{}),(e=>{var t,i;function a(e,t,a){e=i.call(this,e,t,a,"ui","meteor instance 10000")||this;return e.anchor.setTo(.5,1),e.calcDirection(),e}t=e.Client||(e.Client={}),i=Phaser.Sprite,__extends(a,i),a.prototype.blow=function(e,t){this.x=e,this.y=t,this.visible=!0,this.calcDirection()},a.prototype.calcDirection=function(){var e;this.scale.setTo(t.Tools.random(2,10)/10),e=this.x<400?t.Tools.random(200,400):t.Tools.random(400,600),this.angle=t.Tools.angleOfPoints(this.x,this.y,e,600)+90,this.game.add.tween(this).to({x:e,y:600},2e3/this.scale.x,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.complete,this)},a.prototype.complete=function(){this.visible=!1},t.Meteor=a})(Wheely=Wheely||{}),(e=>{var i;function t(e,t,a){this.carFounded=!1,this.wheelFounded=!1,this.game=e,this.panelQuest=e.make.sprite(740,30,"ui","panel_quest instance 10000"),this.panelQuest.fixedToCamera=!0,this.panelQuest.anchor.setTo(.5),i.LevelBuilder.instance.UILayer.addChild(this.panelQuest),!0===i.GameManager.instance.level.questCarFounded&&(this.car=this.game.make.sprite(19,0,"ui","winCar instance 10009"),this.car.scale.setTo(.55),this.car.anchor.setTo(.5),this.panelQuest.addChild(this.car),this.carFounded=!0),!0===i.GameManager.instance.level.questWheelFounded&&(this.wheel=this.game.make.sprite(-23,2,"ui","winWheel instance 10009"),this.wheel.scale.setTo(.52),this.wheel.anchor.setTo(.5),this.panelQuest.addChild(this.wheel),this.wheelFounded=!0)}i=e.Client||(e.Client={}),t.prototype.foundCar=function(){!0!==this.carFounded&&(this.carFounded=!0,this.car=this.game.make.sprite(19,0,"ui"),this.car.animations.add("anim",Phaser.Animation.generateFrameNames("winCar instance 1",0,14,"",4),30).onComplete.addOnce(this.carShowComplete,this),this.car.animations.play("anim"),this.car.scale.setTo(.55),this.car.anchor.setTo(.5),this.panelQuest.addChild(this.car),i.SoundManager.playSFX("questClick"),i.DataManager.getInstance().saveData("questCar"+i.LevelManager.getInstance().currentLevel,1))},t.prototype.carShowComplete=function(){this.game.add.tween(this.car.scale).to({x:.63,y:.63},200,Phaser.Easing.Linear.None,!0,0,2,!0)},t.prototype.foundWheel=function(){!0!==this.wheelFounded&&(this.wheelFounded=!0,this.wheel=this.game.make.sprite(-23,2,"ui"),this.wheel.animations.add("anim",Phaser.Animation.generateFrameNames("winWheel instance 1",0,14,"",4),30).onComplete.addOnce(this.wheelShowComplete,this),this.wheel.animations.play("anim"),this.wheel.scale.setTo(.52),this.wheel.anchor.setTo(.5),this.panelQuest.addChild(this.wheel),i.SoundManager.playSFX("questClick"),i.DataManager.getInstance().saveData("questWheel"+i.LevelManager.getInstance().currentLevel,1))},t.prototype.wheelShowComplete=function(){this.game.add.tween(this.wheel.scale).to({x:.6,y:.6},200,Phaser.Easing.Linear.None,!0,0,2,!0)},t.prototype.free=function(){this.game=null,this.panelQuest=null,this.car=null,this.wheel=null},i.PanelQuest=t})(Wheely=Wheely||{}),(e=>{var i,t;function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.name=a.Name,e.active=!0,e.onePanelAlreadyShowed=!1,e}i=e.Client||(e.Client={}),t=Phaser.State,__extends(a,t),a.prototype.init=function(){if(null!=a.instance)throw new Error("Error: LevelBuilder already created");(a.instance=this).onePanelAlreadyShowed=!1,this.active=!0},a.prototype.create=function(){i.SoundManager.playMusic("main_"+this.game.rnd.between(1,2)),this.gameManager=new i.GameManager,this.UILayer=this.add.group(),this.btnPause=this.make.button(767,569,"ui",this.paused,this,"btnPause instance 10001","btnPause instance 10000","btnPause instance 10002"),this.btnPause.anchor.setTo(.5),this.btnPause.forceOut=!0,this.btnPause.fixedToCamera=!0,this.btnPause.onInputOver.add(this.over,this),this.UILayer.addChild(this.btnPause),(e=new i.ButtonSound(i.SoundType.Music,715,569,"ui",null,null)).fixedToCamera=!0,this.UILayer.addChild(e),(e=new i.ButtonSound(i.SoundType.SFX,663,569,"ui",null,null)).fixedToCamera=!0,this.UILayer.addChild(e),e=null;var e=this.make.button(611,569,"ui",this.restartGame,this,"btnRestart instance 10001","btnRestart instance 10000","btnRestart instance 10002"),t=(e.anchor.setTo(.5),e.fixedToCamera=!0,e.onInputOver.add(this.over,this),this.UILayer.addChild(e),new i.ButtonWalkthrough(this.game,400,30,i.LevelManager.getInstance().currentLevel-1)),a=(t.fixedToCamera=!0,this.UILayer.addChild(t),t.visible=!1,this.make.bitmapText(20,25,"mainFont","Level "+i.LevelManager.getInstance().currentLevel,26));a.anchor.setTo(0,.5),a.fixedToCamera=!0,this.UILayer.addChild(a),a=t=e=null,this.panelQuest=new i.PanelQuest(this.game,740,30),13<i.LevelManager.getInstance().currentLevel&&(this.UILayer.visible=!1)},a.prototype.hideUI=function(){this.UILayer.visible=!1},a.prototype.over=function(){i.SoundManager.playSFX("btnOver")},a.prototype.update=function(){this.gameManager.update()},a.prototype.paused=function(){!1===this.active||!0===this.onePanelAlreadyShowed||!0===i.Main.disablePause||13<i.LevelManager.getInstance().currentLevel||(i.SoundManager.playSFX("btnClick"),this.btnPause.inputEnabled=!1,this.pauseGame(),this.onePanelAlreadyShowed=!0,i.PanelManager.getInstance(this.game).showPanel(PanelList.Pause))},a.prototype.pauseGame=function(e){void 0===e&&(e=!0),this.active=!1},a.prototype.levelComplete=function(){!0!==this.onePanelAlreadyShowed&&(this.pauseGame(!1),this.stopAllSounds(),i.DataManager.getInstance().saveData("pl",i.LevelManager.getInstance().currentLevel),i.DataManager.getInstance().saveLevel(i.LevelManager.getInstance().currentLevel+1),this.onePanelAlreadyShowed=!0,i.PanelManager.getInstance(this.game).showPanel(PanelList.Win))},a.prototype.levelFailed=function(){!0!==this.onePanelAlreadyShowed&&(this.pauseGame(),this.stopAllSounds(),this.onePanelAlreadyShowed=!0,i.PanelManager.getInstance(this.game).showPanel(PanelList.Lose))},a.prototype.stopAllSounds=function(){i.SoundManager.stopMusic(),i.SoundManager.stopAllSFXLoop()},a.prototype.resumeGame=function(){this.onePanelAlreadyShowed=!1,this.btnPause.inputEnabled=!0,this.btnPause.input.useHandCursor=!0,this.active=!0},a.prototype.restartGame=function(){var e=this;Fabrique.AdHandler.getInstance().showAd("restart",function(){i.SoundManager.playSFX("btnClick"),e.game.state.start(SceneList.LevelBuilder,!0,!1)})},a.prototype.exitGame=function(){i.LevelManager.getInstance().currentMenuScreen=1,i.NativeChanges.setGraphicsChildrensMask(this.game,!0),this.game.state.start(SceneList.Menu,!0,!1)},a.prototype.nextLevel=function(){i.NativeChanges.setGraphicsChildrensMask(this.game,!0),i.LevelManager.getInstance().currentLevel+=1,3===i.LevelManager.getInstance().currentLevel?this.game.state.start(SceneList.Comix,!0,!1):this.game.state.start(SceneList.LevelBuilder,!0,!1)},a.prototype.shutdown=function(){this.game.world.resize(i.Variables.SW,i.Variables.SH),a.instance=null,this.gameManager.free(),this.gameManager=null,this.btnPause=null,this.panelQuest.free(),this.panelQuest=null,this.UILayer=null},a.Name="LevelBuilder",i.LevelBuilder=a})(Wheely=Wheely||{}),(e=>{var r,t,a;function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.openLevels=0,e.counterMeteor=0,e.timeMeteor=3,e}r=e.Client||(e.Client={}),a=WheelyScale.ScaleHelper,t=Phaser.State,__extends(i,t),i.prototype.init=function(){this.physics.startSystem(Phaser.Physics.BOX2D),this.physics.box2d.gravity.y=500,this.physics.box2d.debugDraw.joints=!0,this.openLevels=r.DataManager.getInstance().currentLevel,this.meteors=new Array,!1===r.Main.instance.soundStarted&&(r.SoundManager.init(this.game),r.Main.instance.soundStarted=!0),r.SoundManager.playMusic("main_1"),a.resize()},i.prototype.create=function(){var e;this.add.sprite(0,0,"menuBg"),this.groupBG=this.add.group(),this.add.sprite(0,152,"menuBg2"),this.createMeinMenu(),this.createLevelSelect(),this.showScreen(r.LevelManager.getInstance().currentMenuScreen),e=new r.ButtonSound(r.SoundType.Music,765,35,"ui",null,null),this.add.existing(e),e=new r.ButtonSound(r.SoundType.SFX,705,35,"ui",null,null),this.add.existing(e)},i.prototype.showScreen=function(e){0===e?this.showMainMenu():this.showLS()},i.prototype.createMeinMenu=function(){this.groupMM=new Phaser.Group(this.game),this.groupMM.create(150,0,"ui","logo instance 10000"),this.btnPlay=this.make.button(400,650,"ui",this.up,this,"btnMenuPlay instance 10001","btnMenuPlay instance 10000"),this.btnPlay.name="play",this.btnPlay.anchor.setTo(.5),this.btnPlay.forceOut=!0,this.btnPlay.onInputDown.add(this.down,this.btnPlay),this.groupMM.addChild(this.btnPlay),this.btnPlay.onInputOver.add(this.btnPlayOver,this),this.btnPlay.onInputOut.add(this.btnPlayOut,this),this.textPlay=this.game.make.bitmapText(3,5,"mainFont","Play",40),this.textPlay.anchor.setTo(.5),this.btnPlay.addChild(this.textPlay)},i.prototype.goLogo=function(e){h5branding.Branding.outGoingLinksAllowed()&&h5branding.Branding.openCampaignLink("wheely-5","logo")},i.prototype.btnPlayOver=function(){r.SoundManager.playSFX("btnOver"),this.textPlay.scale.set(1.1,1.1)},i.prototype.btnPlayOut=function(){this.textPlay.scale.set(1,1)},i.prototype.createLevelSelect=function(){var e=0,t=0;this.groupLS=new Phaser.Group(this.game);for(var a=0;a<4;a++)for(var i=0;i<4&&(++e<=this.openLevels?t+=(n=new r.LevelSelectButton(e,this.game,275+90*i,120+90*a,"ui",this.up,this,null,"btnLevel instance 10000")).addStars():(n=new r.LevelSelectButton(e,this.game,275+90*i,120+90*a,"ui",null,null,null,"btnLevel instance 10001")).addLock(),this.groupLS.add(n),3!==a||0!==i);i++);var n=null,s=this.make.button(690,490,"ui",this.up,this,"btnBigClose instance 10001","btnBigClose instance 10000","btnBigClose instance 10002");s.name="exit",s.anchor.set(.5,.5),s.onInputDown.add(this.down,s),s.onInputOver.add(this.over,this),this.groupLS.addChild(s),this.groupLS.create(10,10,"ui","star instance 10000"),this.groupLS.add(this.game.make.bitmapText(60,10,"numbers",t+"/39",40))},i.prototype.over=function(){r.SoundManager.playSFX("btnOver")},i.prototype.update=function(){var e;this.counterMeteor+=1,this.counterMeteor===this.timeMeteor&&(e=void 0,e=r.Tools.random(0,100)<50?r.Tools.random(-200,100):r.Tools.random(700,1e3),this.blowMeteor(e,-100),this.counterMeteor=0,this.timeMeteor=r.Tools.random(20,70))},i.prototype.blowMeteor=function(e,t){for(var a=0;a<this.meteors.length;a++)if(!1===this.meteors[a].visible)return void this.meteors[a].blow(e,t);var i=new r.Meteor(this.game,e,t);this.meteors.push(i),this.groupBG.addChild(i)},i.prototype.up=function(e){var t=this;e.scale.setTo(1),r.SoundManager.playSFX("btnClick"),"exit"===e.name?Fabrique.AdHandler.getInstance().showAd("menu",function(){t.showMainMenu()}):"play"===e.name?(this.btnPlay.input.enabled=!1,this.add.tween(this.btnPlay).to({y:650},300,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.playPressed,this)):(r.LevelManager.getInstance().currentLevel=Number(e.name),this.game.state.start(SceneList.LevelBuilder,!0,!1))},i.prototype.playPressed=function(){0===r.DataManager.getInstance().saveObj.pl?(r.DataManager.getInstance().saveData("pl",1),r.DataManager.getInstance().saveData("lvl",1),r.LevelManager.getInstance().currentLevel=1,this.game.state.start(SceneList.LevelBuilder,!0,!1)):(this.showLS(),this.btnPlayOut())},i.prototype.down=function(e){e.scale.setTo(.9)},i.prototype.showMainMenu=function(){this.groupMM.visible=!0,this.groupLS.visible=!1,this.btnPlay.y=650,this.add.tween(this.btnPlay).to({y:270},2e3,Phaser.Easing.Elastic.Out,!0),this.btnPlay.input.enabled=!0},i.prototype.showLS=function(){this.groupMM.visible=!1,this.groupLS.visible=!0},i.prototype.shutdown=function(){this.btnPlay=null,this.groupLS=null,this.groupMM=null,this.textPlay=null,this.meteors=[],this.meteors=null,this.groupBG=null},i.Name="Menu",r.Menu=i})(Wheely=Wheely||{});